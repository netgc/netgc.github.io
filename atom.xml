<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>System Inside</title>
  <icon>https://www.gravatar.com/avatar/ba4a4c9ed2a98e1ba0d030ca3449d4a5</icon>
  <subtitle>å›ä¸è§é»„æ²³ä¹‹æ°´å¤©ä¸Šæ¥ï¼Œå¥”æµåˆ°æµ·ä¸å¤å›ã€‚</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://sysin.org/"/>
  <updated>2020-08-03T05:33:10.835Z</updated>
  <id>http://sysin.org/</id>
  
  <author>
    <name>sysin</name>
    <email>e-mail_address</email>
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>å¦‚ä½•å®‰è£… macOS Big Sur 11.0 Beta è™šæœºï¼Œè§£å†³ â€œBiErrorDomain Error 3.â€ æŠ¥é”™</title>
    <link href="http://sysin.org/article/Install_macOS_Big_Sur_11.0_Beta_VM_BiErrorDomain_Error_3/"/>
    <id>http://sysin.org/article/Install_macOS_Big_Sur_11.0_Beta_VM_BiErrorDomain_Error_3/</id>
    <published>2020-07-01T02:10:00.000Z</published>
    <updated>2020-08-03T05:33:10.835Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è·å–å®˜æ–¹çš„-macos-beta-è½¯ä»¶åŒ…">è·å–å®˜æ–¹çš„ macOS Beta è½¯ä»¶åŒ…</h2><ul><li><p>å®˜ç½‘ç›´æ¥ä¸‹è½½ï¼ŒåŒå‡»ç›´æ¥å®‰è£…ï¼š<a href="http://swcdn.apple.com/content/downloads/15/52/001-18401-A_I5FFC1VB5J/rrfxkhkf3ykxzj3zjshu1srsh4n74a41n4/InstallAssistant.pkg" target="_blank" rel="noopener">ç‚¹å‡»</a></p></li><li><p>ä¸‹è½½ <a href="https://betaprofiles.com/macos11" target="_blank" rel="noopener">Beta profile</a>ï¼Œé€šè¿‡è½¯ä»¶æ›´æ–°ä¸‹è½½</p></li></ul><p>ä¸Šè¿°ä¸¤ç§æ–¹å¼ï¼Œéƒ½ä¼šå°† Install macOS Beta.app æ”¾ç½®äº /Applications ï¼ˆåº”ç”¨ç¨‹åºï¼‰ä¸‹é¢ã€‚</p><h2 id="å®‰è£…æ–¹å¼">å®‰è£…æ–¹å¼</h2><p>1.å‡çº§å®‰è£…ï¼Œä¸‹è½½åç›´æ¥ç‚¹å‡» â€œInstall macOS Betaâ€</p><p>2.åœ¨å½“å‰ç³»ç»Ÿä¸­å…¨æ–°å®‰è£…ï¼Œæ‰“å¼€â€œç£ç›˜å·¥å…·â€ï¼Œæ–°å»ºä¸€ä¸ªå¤§çº¦ 16G çš„ â€œmacOS æ‰©å±•ï¼ˆæ—¥å¿—å¼ï¼‰â€åˆ†åŒºï¼ˆé APFS å·ï¼‰ï¼Œå‘½åä¸ºInstallï¼Œæ‰§è¡Œå‘½ä»¤å†™å…¥ï¼š</p><p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /Applications/Install\ macOS\ Beta.app/Contents/Resources/createinstallmedia --volume /Volumes/Install</span><br></pre></td></tr></table></figure></p><p>åˆ›å»ºå®Œæ¯•åï¼Œæ‰“å¼€â€œç³»ç»Ÿåå¥½è®¾ç½®...â€ &gt; â€œå¯åŠ¨ç£ç›˜â€ï¼Œé€‰æ‹©ä¸Šè¿°åˆ†åŒºï¼Œé‡æ–°å¯åŠ¨ï¼Œå®‰è£…å‰æŠ¹æ‰åŸæœ‰ç³»ç»Ÿå·å³å¯å…¨æ–°å®‰è£…ã€‚</p><p>3.åˆ›å»ºå¯åŠ¨ ISOï¼Œç”¨äºè™šæœºå…¨æ–°å®‰è£…ï¼š</p><p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">hdiutil create -size <span class="number">12</span>G -fs hfs+ -volname macOSInstaller -type SPARSEBUNDLE ~/Desktop/macOSInstaller</span><br><span class="line">hdiutil attach ~/Desktop/macOSInstaller.sparsebundle</span><br><span class="line">sudo /Applications/Install\ macOS\ Beta.app/Contents/Resources/createinstallmedia --volume /Volumes/macOSInstaller --nointeraction</span><br><span class="line">hdiutil detach /Volumes/Install\ macOS\ Beta -force</span><br><span class="line">hdiutil makehybrid -o ~/Desktop/macOSInstaller ~/Desktop/macOSInstaller.sparsebundle</span><br><span class="line">rm -rf ~/Desktop/macOSInstaller.sparsebundle</span><br></pre></td></tr></table></figure></p><p>æ­¤æ—¶å°†æ¡Œé¢ä¸Šçš„ macOSInstaller.iso æ–‡ä»¶æŒ‚è½½åˆ°è™šæœºå³å¯å¼€å§‹å®‰è£…ã€‚</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>ä½¿ç”¨xzå‹ç¼©æ–‡ä»¶</span><br><span class="line">cd ~/Desktop</span><br><span class="line">tar -Jcf macOSInstaller.iso.tar.xz macOSInstaller.iso</span><br></pre></td></tr></table></figure></p><h2 id="macos-big-sur-110-å…¼å®¹è®¾å¤‡">macOS Big Sur 11.0 å…¼å®¹è®¾å¤‡</h2><ul><li><strong>1. iMac 2014+</strong></li><li><strong>2. iMac Pro 2017</strong></li><li><strong>3. Mac Pro 2013+</strong></li><li><strong>4. MacMini 2014+</strong></li><li><strong>5. MacBook 2015+</strong></li><li><strong>6. MacBook Air 2013+</strong></li><li><strong>7. MacBook Pro 2013+</strong></li></ul><h2 id="è§£å†³-bierrordomain-error-3-æŠ¥é”™">è§£å†³ â€œBiErrorDomain Error 3.â€ æŠ¥é”™</h2><p>åœ¨ VMware ä¸­å®‰è£… macOS Big Surï¼Œéƒ½ä¼šæç¤º â€œBiErrorDomain Error 3.â€ï¼Œæ— æ³•ç»§ç»­ï¼Œéœ€è¦ç¼–è¾‘ vmx æ–‡ä»¶æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š</p><p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">smbios.reflectHost = <span class="string">"TRUE"</span></span><br><span class="line">hw.model = <span class="string">"MacBookPro16,1"</span></span><br><span class="line">board-id = <span class="string">"Mac-E1008331FDC96864"</span></span><br></pre></td></tr></table></figure></p><p>ä»¥ä¸Šç¤ºä¾‹æ¨¡æ‹Ÿçš„æ˜¯ 16-inch MacBook Proï¼Œå¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©å…¶ä»–å…¼å®¹çš„ Mac è®¾å¤‡ã€‚</p><p>è·å– Mac Model IDï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤</p><p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysctl hw.model</span><br></pre></td></tr></table></figure></p><p>è·å– Mac Board IDï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ioreg -l | grep board-id</span><br></pre></td></tr></table></figure></p><h2 id="é€‚ç”¨çš„-vmware-è½¯ä»¶å’Œç‰ˆæœ¬">é€‚ç”¨çš„ VMware è½¯ä»¶å’Œç‰ˆæœ¬</h2><p>åœ¨ä»¥ä¸‹è½¯ä»¶å’Œç‰ˆæœ¬ä¸­æµ‹è¯•é€šè¿‡</p><p>VMware ESXi 7.0.0</p><p>VMware Fusion 11.5.5</p><p>VMware Workstation 11.5.5 Windows x64</p><p>**æç¤ºï¼š**ä¸è¦å®‰è£…è‡ªå¸¦çš„ VM-Toolsï¼Œå¯èƒ½å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ï¼Œä¸‹è½½ <a href="https://my.vmware.com/web/vmware/downloads/details?productId=742&amp;downloadGroup=VMTOOLS1110" target="_blank" rel="noopener">VMware Tools 11.1.0</a> å®‰è£…ã€‚</p><h2 id="ä½¿ç”¨-virtualbox-å®‰è£…">ä½¿ç”¨ VirtualBox å®‰è£…</h2><p>ä½¿ç”¨ VirtualBox å®‰è£… macOS Big Sur Betaï¼Œå‡ºç° â€œBiErrorDomain Error 3.â€ æŠ¥é”™ï¼Œè§£å†³æ–¹æ³•ç±»ä¼¼ï¼š</p><p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cd â€œC:\Program Files\Oracle\VirtualBox\â€</span><br><span class="line">VBoxManage.exe modifyvm â€œYour VM Nameâ€ â€“cpuidset <span class="number">00000001</span> <span class="number">000106e5</span> <span class="number">00100800</span> <span class="number">0098e3</span>fd bfebfbff</span><br><span class="line">VBoxManage setextradata â€œYour VM Nameâ€ â€œVBoxInternal/Devices/efi/<span class="number">0</span>/Config/DmiSystemProductâ€ â€œiMac19,<span class="number">1</span>â€</span><br><span class="line">VBoxManage setextradata â€œYour VM Nameâ€ â€œVBoxInternal/Devices/efi/<span class="number">0</span>/Config/DmiSystemVersionâ€ â€œ<span class="number">1.0</span>â€</span><br><span class="line">VBoxManage setextradata â€œYour VM Nameâ€ â€œVBoxInternal/Devices/efi/<span class="number">0</span>/Config/DmiBoardProductâ€ â€œMac-AA95B1DDAB278B95â€</span><br><span class="line">VBoxManage setextradata â€œYour VM Nameâ€ â€œVBoxInternal/Devices/smc/<span class="number">0</span>/Config/DeviceKeyâ€ â€œourhardworkbythesewordsguardedpleasedontsteal(c)AppleComputerIncâ€</span><br><span class="line">VBoxManage setextradata â€œYour VM Nameâ€ â€œVBoxInternal/Devices/smc/<span class="number">0</span>/Config/GetKeyFromRealSMCâ€ <span class="number">1</span></span><br></pre></td></tr></table></figure></p><h2 id="ä½¿ç”¨-parallels-desktop-å®‰è£…">ä½¿ç”¨ Parallels Desktop å®‰è£…</h2><p>Set the following values set under <strong>Hardware &gt; Boot Order &gt; Advanced Settings &gt; Boot Flags.</strong></p><ul><li><code>devices.mac_hw_model=&quot;MacBookPro16,1&quot;</code></li><li><code>devices.smbios.board_id=&quot;Mac-E1008331FDC96864&quot;</code></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;è·å–å®˜æ–¹çš„-macos-beta-è½¯ä»¶åŒ…&quot;&gt;è·å–å®˜æ–¹çš„ macOS Beta è½¯ä»¶åŒ…&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å®˜ç½‘ç›´æ¥ä¸‹è½½ï¼ŒåŒå‡»ç›´æ¥å®‰è£…ï¼š&lt;a href=&quot;http://swcdn.apple.com/content/downloads/15/52/0
      
    
    </summary>
    
    
    
      <category term="Apple" scheme="http://sysin.org/tags/Apple/"/>
    
      <category term="macOS" scheme="http://sysin.org/tags/macOS/"/>
    
  </entry>
  
  <entry>
    <title>iOS å¦‚ä½•å»é™¤è½¯ä»¶æ›´æ–°æ ‡è®°ï¼ˆæ•°å­—1è§’æ ‡ï¼‰</title>
    <link href="http://sysin.org/article/iPhone_iOS_%E5%A6%82%E4%BD%95%E5%8E%BB%E9%99%A4%E6%9B%B4%E6%96%B0%E6%A0%87%E8%AE%B0/"/>
    <id>http://sysin.org/article/iPhone_iOS_%E5%A6%82%E4%BD%95%E5%8E%BB%E9%99%A4%E6%9B%B4%E6%96%B0%E6%A0%87%E8%AE%B0/</id>
    <published>2020-06-11T02:10:00.000Z</published>
    <updated>2020-08-03T05:33:17.809Z</updated>
    
    <content type="html"><![CDATA[<p>æè¿°æ–‡ä»¶ä¸‹è½½åœ°å€ï¼šhttps://betaprofiles.com/ æˆ–è€… https://www.ibeta.me/</p><p>æ‰‹æœºä¸Šç”¨safariæµè§ˆå™¨æ‰“å¼€ä¸Šé¢ä¸¤ä¸ªç½‘å€ä¸­çš„ä»»æ„ä¸€ä¸ªï¼Œé€‰æ‹©â€œ<a href="https://betaprofiles.com/#block" target="_blank" rel="noopener">Block Update</a>â€æˆ–è€…â€œå±è”½OTAæ›´æ–°â€ï¼Œæ ¹æ®æç¤ºå®‰è£…å³å¯ã€‚</p><h2 id="ios-13">iOS 13</h2><h3 id="æè¿°æ–‡ä»¶å¯ç”¨">æè¿°æ–‡ä»¶å¯ç”¨</h3><p>ç›´æ¥å®‰è£…æè¿°æ–‡ä»¶å±è”½æ›´æ–°ï¼Œæ— éœ€é‡å¯ï¼Œæ£€æŸ¥æ›´æ–°å³å¯å»é™¤ã€‚</p><p>ä¹Ÿé€‚ç”¨äºwatchOS 6+ï¼Œå½“ç„¶ä¹Ÿé€‚ç”¨äºiPadOS 13+</p><h3 id="æè¿°æ–‡ä»¶ä¸å¯ç”¨">æè¿°æ–‡ä»¶ä¸å¯ç”¨</h3><p>æè¿°æ–‡ä»¶ä¸é€‚ç”¨çš„è§£å†³åŠæ³•ï¼šWiFi+å……ç”µï¼Œç³»ç»Ÿè‡ªåŠ¨ä¸‹è½½æ›´æ–°ï¼Œç„¶ååˆ é™¤æ›´æ–°æ–‡ä»¶ï¼Œé‡å¯ç³»ç»Ÿï¼Œæ ‡è®°å³å¯æ¶ˆå¤±ã€‚</p><p>åœ¨è·¯ç”±å™¨ä¸Šå±è”½iOSæ›´æ–°ç½‘å€ï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1 mesu.apple.com</span><br><span class="line">127.0.0.1 appldnld.apple.com</span><br><span class="line">127.0.0.1 swscan.apple.com</span><br><span class="line">127.0.0.1 xp.apple.com</span><br><span class="line">127.0.0.1 gdmf.apple.com</span><br><span class="line">127.0.0.1 updates-http.cdn-apple.com</span><br></pre></td></tr></table></figure></p><h2 id="ios-12">iOS 12</h2><h3 id="æè¿°æ–‡ä»¶å¯ç”¨">æè¿°æ–‡ä»¶å¯ç”¨</h3><p>å®‰è£…æè¿°æ–‡ä»¶å±è”½æ›´æ–°ï¼Œéœ€è¦é‡å¯ã€‚æ­¤æ—¶å·²ç»å±è”½æ›´æ–°ï¼Œä¸è¿‡æ›´æ–°æ ‡è®°ä»»ç„¶å­˜åœ¨ã€‚</p><p>é€šè¿‡ä»¥ä¸‹æ–¹æ³•å»é™¤æ ‡è®°ï¼š</p><p>æ–¹æ³•ä¸€ï¼šè®¾ç½®--é€šç”¨--è¿˜åŸ--è¿˜åŸæ‰€æœ‰è®¾ç½®ï¼ˆéœ€è¦é‡æ–°é…ç½®çš„ä¸œè¥¿æ¯”è¾ƒå¤šï¼šç½‘ç»œã€æŒ‡çº¹é¢éƒ¨è¯†åˆ«ç­‰ç­‰ï¼ŒiCloudè®¾ç½®å’Œå±å¹•å¸ƒå±€ç­‰ä¼šä¿ç•™ï¼‰</p><p>æ–¹æ³•äºŒï¼šé€€å‡ºiCloudç™»å½•ï¼Œè¿˜åŸç½‘ç»œè®¾ç½®ï¼ˆå¯èƒ½éœ€è¦ï¼‰ï¼Œæ ‡è®°å¯ä»¥å»é™¤ï¼Œé‡æ–°ç™»å½•iCloudï¼ˆå¦‚æœè¿˜åŸç½‘ç»œéœ€è¦é‡æ–°è®¾ç½®çš„åªæœ‰WiFiç­‰ï¼Œæ¯”è¾ƒå°‘ï¼‰</p><h3 id="æè¿°æ–‡ä»¶ä¸å¯ç”¨">æè¿°æ–‡ä»¶ä¸å¯ç”¨</h3><p>é€šè¿‡ä»¥ä¸‹æ–¹æ³•å»é™¤æ ‡è®°ï¼š</p><p>æ–¹æ³•ä¸€ï¼šè®¾ç½®--é€šç”¨--è¿˜åŸ--è¿˜åŸæ‰€æœ‰è®¾ç½®ï¼ˆéœ€è¦é‡æ–°é…ç½®çš„ä¸œè¥¿æ¯”è¾ƒå¤šï¼šå±å¹•å¸ƒå±€ã€ç½‘ç»œã€æŒ‡çº¹é¢éƒ¨è¯†åˆ«ç­‰ç­‰ï¼‰</p><p>æ–¹æ³•äºŒï¼šé€€å‡ºiCloudç™»å½•ï¼Œè¿˜åŸç½‘ç»œè®¾ç½®ï¼ˆå¯èƒ½éœ€è¦ï¼‰ï¼Œæ ‡è®°å¯ä»¥å»é™¤ï¼Œé‡æ–°ç™»å½•iCloudï¼ˆå¦‚æœè¿˜åŸç½‘ç»œéœ€è¦é‡æ–°è®¾ç½®çš„åªæœ‰WiFiç­‰ï¼Œæ¯”è¾ƒå°‘ï¼‰</p><p>åœ¨è·¯ç”±å™¨ä¸Šå±è”½iOSæ›´æ–°ç½‘å€ï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1 mesu.apple.com</span><br><span class="line">127.0.0.1 appldnld.apple.com</span><br><span class="line">127.0.0.1 swscan.apple.com</span><br><span class="line">127.0.0.1 xp.apple.com</span><br><span class="line">127.0.0.1 gdmf.apple.com</span><br><span class="line">127.0.0.1 updates-http.cdn-apple.com</span><br></pre></td></tr></table></figure></p><blockquote><p>å¤‡æ³¨ï¼šæè¿°æ–‡ä»¶ä¸å¯ç”¨æ—¶ï¼ŒiOS 13çš„æ–¹æ³•æœ‰å°ä¼™ä¼´åé¦ˆä¹Ÿé€‚ç”¨äºiOS 12ï¼Œæœªç»éªŒè¯ã€‚</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æè¿°æ–‡ä»¶ä¸‹è½½åœ°å€ï¼šhttps://betaprofiles.com/ æˆ–è€… https://www.ibeta.me/&lt;/p&gt;
&lt;p&gt;æ‰‹æœºä¸Šç”¨safariæµè§ˆå™¨æ‰“å¼€ä¸Šé¢ä¸¤ä¸ªç½‘å€ä¸­çš„ä»»æ„ä¸€ä¸ªï¼Œé€‰æ‹©â€œ&lt;a href=&quot;https://betaprofiles.com/#bloc
      
    
    </summary>
    
    
    
      <category term="Apple" scheme="http://sysin.org/tags/Apple/"/>
    
      <category term="iOS" scheme="http://sysin.org/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>macOS Catalina 10.15.5 æ­£å¼ç‰ˆ ä¸‹è½½ ç™¾åº¦ç½‘ç›˜ 6æœˆ1æ—¥ è¡¥å……æ›´æ–°</title>
    <link href="http://sysin.org/article/Download-macOS-Catalina-10.15.5-0601-update/"/>
    <id>http://sysin.org/article/Download-macOS-Catalina-10.15.5-0601-update/</id>
    <published>2020-06-02T02:10:00.000Z</published>
    <updated>2020-08-03T05:32:24.672Z</updated>
    
    <content type="html"><![CDATA[<p><strong>macOS Catalina 10.15.5 = (19F101) 06/01/2020</strong></p><blockquote><p>ä¸‹è½½é“¾æ¥: https://pan.baidu.com/s/15v1Mnx4T8oEB5KOOzMj80Q  å¯†ç : rlnk</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200603114922665.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L25ldGdj,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>åŸºäºMASåŸç‰ˆappåˆ¶ä½œï¼Œå®‰å…¨æ— æ·»åŠ ï¼Œæ— ä»»ä½•logoã€‚</p><p>çœ‹æ¥æ˜¯å°å µäº†unc0ver jailbreak toolã€‚</p><p><a href="https://support.apple.com/en-us/HT211215" target="_blank" rel="noopener">macOS Catalina 10.15.5 Supplemental Update, Security Update 2020-003 High Sierra</a></p><p>Released June 1, 2020</p><p>Kernel</p><p>Available for: macOS High Sierra 10.13.6, macOS Catalina 10.15.5</p><p>Impact: An application may be able to execute arbitrary code with kernel privileges</p><p>Description: A memory consumption issue was addressed with improved memory handling.</p><p>CVE-2020-9859: unc0ver</p><p>Published Date: June 01, 2020</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;macOS Catalina 10.15.5 = (19F101) 06/01/2020&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸‹è½½é“¾æ¥: https://pan.baidu.com/s/15v1Mnx4T8oEB5KOOzMj80Q  
      
    
    </summary>
    
    
    
      <category term="Apple" scheme="http://sysin.org/tags/Apple/"/>
    
      <category term="macOS" scheme="http://sysin.org/tags/macOS/"/>
    
  </entry>
  
  <entry>
    <title>TLS Server Name Indication (TLS SNI) Support</title>
    <link href="http://sysin.org/article/TLS-SNI-Support/"/>
    <id>http://sysin.org/article/TLS-SNI-Support/</id>
    <published>2020-06-01T02:10:12.000Z</published>
    <updated>2020-08-03T05:33:54.349Z</updated>
    
    <content type="html"><![CDATA[<p>TLS Server Name Indication (TLS SNI)ï¼Œused when a single virtual IP server needs to host multiple domains.</p><p>TLS SNI Support å³ä¸€ä¸ª IP åœ°å€ä¸Šæ”¯æŒå¤šä¸ªåŸŸåçš„ SSL ç«™ç‚¹ï¼Œæˆ–è€…è¯´ä¸€ä¸ª IP ä¸Šæ”¯æŒç»‘å®šå¤šä¸ª SSL è¯ä¹¦ã€‚</p><h2 id="æ”¯æŒ-tls-sni-çš„æµè§ˆå™¨">æ”¯æŒ TLS SNI çš„æµè§ˆå™¨</h2><p>Browsers/clients with support for TLS server name indication:</p><ul><li>Opera 8.0 and later (the TLS 1.1 protocol must be enabled)</li><li>Internet Explorer 7 or later (under Windows Vista and later only, not under Windows XP)</li><li>Firefox 2.0 or later</li><li>Curl 7.18.1 or later (when compiled against an SSL/TLS toolkit with SNI support)</li><li>Chrome 6.0 or later (on all platforms - releases up to 5.0 only on specific OS versions)</li><li>Safari 3.0 or later (under OS X 10.5.6 or later and under Windows Vista and later)</li></ul><p>To find out if your browser supports SNI, you can go to https://alice.sni.velox.ch/.</p><h2 id="f5-big-ip-tls-sni-support">F5 BIG-IP TLS SNI Support</h2><ul><li>ç‰ˆæœ¬æ”¯æŒ</li></ul><p>ä¸»æµæ”¯æŒç‰ˆæœ¬ï¼ˆv11.6åŠä»¥ä¸Šï¼‰éƒ½å¯ä»¥æ”¯æŒï¼Œå‚çœ‹å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://techdocs.f5.com/kb/en-us/products/big-ip_ltm/manuals/product/bigip-ssl-administration-11-6-0/5.html" target="_blank" rel="noopener">v11.6</a>ï¼Œ<a href="https://techdocs.f5.com/kb/en-us/products/big-ip_ltm/manuals/product/bigip-system-ssl-administration-12-1-1/5.html" target="_blank" rel="noopener">v12.1</a>ï¼Œ<a href="https://techdocs.f5.com/kb/en-us/products/big-ip_ltm/manuals/product/bigip-ssl-administration-13-1-0/5.html" target="_blank" rel="noopener">v13.1</a></p><ul><li>é…ç½®è¦ç‚¹</li></ul><p>å‚çœ‹ï¼š<a href="https://support.f5.com/csp/article/K13452" target="_blank" rel="noopener">K13452</a></p><p>åˆ†åˆ«åˆ›å»ºå¤šä¸ªåŸŸåçš„ï¼ˆClient or Serverï¼‰SSL Profile</p><p>Server Nameï¼Œåˆ†åˆ«å¡«å†™åŸŸåï¼ˆå¯é€‰ï¼‰ï¼Œå¦‚ www.a.comï¼Œæ”¯æŒé€šé…ç¬¦ *.a.com ä¹Ÿæ”¯æŒ * ä»£è¡¨ä»»æ„åŸŸåï¼Œå¦å¤–ä¸€ä¸ªå¦‚ www.b.com</p><p>Default SSL Profile for SNIï¼Œå…¶ä¸­ä¸€ä¸ªåŸŸåéœ€è¦å‹¾é€‰ä½œä¸ºé»˜è®¤</p><p>Virtual Servers çš„ SSL Profileï¼ˆClient or Serverï¼‰åŒæ—¶é€‰æ‹©ä¸Šè¿°åˆ›å»ºçš„å¤šä¸ª SSL Profile</p><p>æ³¨æ„ï¼šåœ¨ BIG-IP 13.x åŠä»¥å‰ç‰ˆæœ¬ï¼Œå¤šä¸ª SSL Profile çš„ Ciphers å’Œ Client Authentication å±æ€§éœ€è¦é…ç½®ä¸€è‡´ï¼ˆ14.x åŠä»¥åç‰ˆæœ¬æ— æ­¤è¦æ±‚ï¼‰</p><ul><li>iRules</li></ul><p>å¦å¤–è¯·æ³¨æ„ï¼Œæ²¡æœ‰è‡ªåŠ¨æœºåˆ¶å…è®¸ BIG-IP æ ¹æ®åœ¨å®¢æˆ·ç«¯ SSL Hello æ¶ˆæ¯ä¸­æ¥æ”¶åˆ°çš„ â€œServer Nameâ€ å€¼æ¥é€‰æ‹© SSL Profileã€‚</p><p>ä¸è¿‡ï¼Œåœ¨ iRule çš„é¢å¤–å¸®åŠ©ä¸‹ï¼Œæ‚¨å¯ä»¥æ ¹æ®ä»å®¢æˆ·æœºæ”¶åˆ°çš„åˆå§‹ HTTP è¯·æ±‚ä¸­æ¥æ”¶çš„â€œä¸»æœºåâ€æŠ¥å¤´å€¼å¼ºåˆ¶é€‰æ‹©æ­£ç¡®çš„ serverssl profileã€‚</p><p><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">when HTTP_REQUEST &#123;</span><br><span class="line">    <span class="keyword">set</span> hostname [getfield [HTTP::host] <span class="string">":"</span> <span class="number">1</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">when SERVER_CONNECTED &#123;</span><br><span class="line">    <span class="keyword">switch</span> -<span class="keyword">glob</span> [<span class="keyword">string</span> tolower $hostname] &#123;</span><br><span class="line">    <span class="string">"siteA.com"</span> &#123;</span><br><span class="line">        SSL::profile serverssl-siteA</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="string">"siteB.com"</span> &#123;</span><br><span class="line">        SSL::profile serverssl-siteB</span><br><span class="line">    &#125;</span><br><span class="line">    default &#123;</span><br><span class="line"><span class="comment">    #default serversssl profile to be selected if Host header value cannot be matched with predefined values</span></span><br><span class="line">        SSL::profile serverssl</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="nginx-tls-sni-support">Nginx TLS SNI Support</h2><ul><li>ç‰ˆæœ¬æ”¯æŒ</li></ul><p>å‚çœ‹<a href="https://nginx.org/en/docs/http/configuring_https_servers.html" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></p><p>OpenSSL supports SNI since 0.9.8f version if it was built with config option â€œ--enable-tlsextâ€. Since OpenSSL 0.9.8j this option is enabled by default. If nginx was built with SNI support, then nginx will show this when run with the â€œ-Vâ€ switch:</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ nginx -V</span><br><span class="line">...</span><br><span class="line">TLS SNI support enabled</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p><p>Nginx 0.x ç‰ˆæœ¬å·²ç»æ”¯æŒ TLS SNI</p><blockquote><ul><li>The SNI support status has been shown by the â€œ-Vâ€ switch since 0.8.21 and 0.7.62.</li><li>The <code>ssl</code> parameter of the <a href="https://nginx.org/en/docs/http/ngx_http_core_module.html#listen" target="_blank" rel="noopener">listen</a> directive has been supported since 0.7.14. Prior to 0.8.21 it could only be specified along with the <code>default</code> parameter.</li><li>SNI has been supported since 0.5.23.</li><li>The shared SSL session cache has been supported since 0.5.6.</li><li>Version 1.9.1 and later: the default SSL protocols are TLSv1, TLSv1.1, and TLSv1.2 (if supported by the OpenSSL library).</li><li>Version 0.7.65, 0.8.19 and later: the default SSL protocols are SSLv3, TLSv1, TLSv1.1, and TLSv1.2 (if supported by the OpenSSL library).</li><li>Version 0.7.64, 0.8.18 and earlier: the default SSL protocols are SSLv2, SSLv3, and TLSv1.</li><li>Version 1.0.5 and later: the default SSL ciphers are â€œ<code>HIGH:!aNULL:!MD5</code>â€.</li><li>Version 0.7.65, 0.8.20 and later: the default SSL ciphers are â€œ<code>HIGH:!ADH:!MD5</code>â€.</li><li>Version 0.8.19: the default SSL ciphers are â€œ<code>ALL:!ADH:RC4+RSA:+HIGH:+MEDIUM</code>â€.</li><li>Version 0.7.64, 0.8.18 and earlier: the default SSL ciphers areâ€œ<code>ALL:!ADH:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP</code>â€.</li></ul></blockquote><ul><li>ä¸€èˆ¬é…ç½®æ–¹æ³•</li></ul><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">http &#123;</span><br><span class="line"></span><br><span class="line">    ......</span><br><span class="line"></span><br><span class="line">    server &#123;</span><br><span class="line">        listen       443 ssl http2;</span><br><span class="line">        server_name  a.sysin.org;</span><br><span class="line">        ssl_certificate     a.sysin.org.crt;</span><br><span class="line">        ssl_certificate_key a.sysin.org.key;</span><br><span class="line">        ssl_protocols       TLSv1.2 TLSv1.3;</span><br><span class="line">        ssl_ciphers 'AES128+EECDH:AES128+EDH';</span><br><span class="line">        add_header Strict-Transport-Security "max-age=31536000; includeSubdomains; preload";</span><br><span class="line"></span><br><span class="line">        charset utf-8;</span><br><span class="line">        #access_log  /var/log/nginx/host.access.log  main;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">            root   /usr/share/nginx/html;</span><br><span class="line">            index  index.php index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    server &#123;</span><br><span class="line">        listen       443 ssl http2;</span><br><span class="line">        server_name  b.sysin.org;</span><br><span class="line">        ssl_certificate     b.sysin.org.crt;</span><br><span class="line">        ssl_certificate_key b.sysin.org.key;</span><br><span class="line">        ssl_protocols       TLSv1.2 TLSv1.3;</span><br><span class="line">        ssl_ciphers 'AES128+EECDH:AES128+EDH';</span><br><span class="line">        add_header Strict-Transport-Security "max-age=31536000; includeSubdomains; preload";</span><br><span class="line"></span><br><span class="line">        charset utf-8;</span><br><span class="line">        #access_log  /var/log/nginx/host.access.log  main;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">            root   /usr/share/nginx/html;</span><br><span class="line">            index  index.php index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="iis-tsl-sni-support">IIS TSL SNI Support</h2><p>å‚çœ‹<a href="https://docs.microsoft.com/en-us/iis/get-started/whats-new-in-iis-8/iis-80-server-name-indication-sni-ssl-scalability" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></p><ul><li>ç‰ˆæœ¬æ”¯æŒ</li></ul><p>è¦æ±‚ IIS 8.0 ï¼ˆWindows 2012ï¼‰åŠä»¥ä¸Šç‰ˆæœ¬</p><ul><li>é…ç½®è¦ç‚¹</li></ul><p>åˆ›å»ºå¤šä¸ª HTTPs ç«™ç‚¹æ—¶ï¼Œéœ€è¦å¡«å†™ä»¥ä¸‹å†…å®¹</p><p><strong>Hostname</strong>: ï¼ˆæ³¨æ„ä¸ SSL è¯ä¹¦åç§°ä¿æŒä¸€è‡´ï¼‰</p><p><strong>Require Server Name Indication</strong>: éœ€è¦å‹¾é€‰</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;TLS Server Name Indication (TLS SNI)ï¼Œused when a single virtual IP server needs to host multiple domains.&lt;/p&gt;
&lt;p&gt;TLS SNI Support å³ä¸€ä¸ª IP åœ°
      
    
    </summary>
    
    
    
      <category term="HTTP" scheme="http://sysin.org/tags/HTTP/"/>
    
      <category term="F5" scheme="http://sysin.org/tags/F5/"/>
    
      <category term="Nginx" scheme="http://sysin.org/tags/Nginx/"/>
    
      <category term="TLS" scheme="http://sysin.org/tags/TLS/"/>
    
  </entry>
  
  <entry>
    <title>TLSv1.3 Supportï¼šä¸»æµ Web å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å¯¹ TLSv1.3 çš„æ”¯æŒæƒ…å†µ</title>
    <link href="http://sysin.org/article/TLSv1.3-Support/"/>
    <id>http://sysin.org/article/TLSv1.3-Support/</id>
    <published>2020-06-01T02:10:12.000Z</published>
    <updated>2020-08-03T05:04:06.361Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-å‰è¨€">1. å‰è¨€</h2><p>TLS 1.3 æ˜¯æ—¶éš”ä¹å¹´å¯¹ TLS 1.2 ç­‰ä¹‹å‰ç‰ˆæœ¬çš„æ–°å‡çº§ï¼Œä¹Ÿæ˜¯è¿„ä»Šä¸ºæ­¢æ”¹åŠ¨æœ€å¤§çš„ä¸€æ¬¡ã€‚é’ˆå¯¹ç›®å‰å·²çŸ¥çš„å®‰å…¨å¨èƒï¼ŒIETFï¼ˆInternet Engineering Task Forceï¼Œäº’è”ç½‘å·¥ç¨‹ä»»åŠ¡ç»„ï¼‰åˆ¶å®š TLS 1.3 çš„æ–°æ ‡å‡†ï¼Œä½¿å…¶æœ‰æœ›æˆä¸ºæœ‰å²ä»¥æ¥æœ€å®‰å…¨ï¼Œä½†ä¹Ÿæœ€å¤æ‚çš„ TLS åè®®ã€‚</p><p>TLS 1.3 ä¸ä¹‹å‰çš„åè®®æœ‰è¾ƒå¤§å·®å¼‚ï¼Œä¸»è¦åœ¨äºï¼š</p><ul><li>ç›¸æ¯”è¿‡å»çš„çš„ç‰ˆæœ¬ï¼Œå¼•å…¥äº†æ–°çš„å¯†é’¥åå•†æœºåˆ¶ â€” PSK</li><li>æ”¯æŒ 0-RTT æ•°æ®ä¼ è¾“ï¼Œåœ¨å»ºç«‹è¿æ¥æ—¶èŠ‚çœäº†å¾€è¿”æ—¶é—´</li><li>åºŸå¼ƒäº† 3DESã€RC4ã€AES-CBC ç­‰åŠ å¯†ç»„ä»¶ï¼ŒåºŸå¼ƒäº† SHA1ã€MD5 ç­‰å“ˆå¸Œç®—æ³•</li><li>ServerHello ä¹‹åçš„æ‰€æœ‰æ¡æ‰‹æ¶ˆæ¯é‡‡å–äº†åŠ å¯†æ“ä½œï¼Œå¯è§æ˜æ–‡å¤§å¤§å‡å°‘</li><li>ä¸å†å…è®¸å¯¹åŠ å¯†æŠ¥æ–‡è¿›è¡Œå‹ç¼©ã€ä¸å†å…è®¸åŒæ–¹å‘èµ·é‡åå•†</li><li>DSA è¯ä¹¦ä¸å†å…è®¸åœ¨ TLS 1.3 ä¸­ä½¿ç”¨</li></ul><p>å¯¹æ¯”æ—§åè®®ä¸­çš„ä¸è¶³ï¼ŒTLS 1.3 ç¡®å®å¯ä»¥ç§°å¾—ä¸Šæ˜¯å‘å‰è¿ˆäº†ä¸€å¤§æ­¥ã€‚æ—¢é¿å…ä¹‹å‰ç‰ˆæœ¬å‡ºç°çš„ç¼ºé™·ï¼Œä¹Ÿå‡å°‘äº† TLS æ¡æ‰‹çš„æ—¶é—´ã€‚</p><p>æ€»ç»“ä¸€ä¸‹ï¼ŒTLS 1.3 ä¸ä»¥å‰çš„ç‰ˆæœ¬ç›¸æ¯”å…·æœ‰å¦‚ä¸‹ä¸¤ä¸ªå¤§çš„ä¼˜åŠ¿ï¼šæ›´å¿«çš„è®¿é—®é€Ÿåº¦å’Œæ›´å¼ºçš„å®‰å…¨æ€§ï¼</p><h2 id="2-å®¢æˆ·ç«¯æ”¯æŒ">2. å®¢æˆ·ç«¯æ”¯æŒ</h2><h3 id="æµè§ˆå™¨">æµè§ˆå™¨</h3><p><strong>Modern</strong>: Modern clients that support TLS 1.3, with no need for backwards compatibility</p><table><thead><tr><th>Configuration</th><th>Firefox</th><th>Android</th><th>Chrome</th><th>Edge</th><th>Internet Explorer</th><th>Java</th><th>OpenSSL</th><th>Opera</th><th>Safari</th></tr></thead><tbody><tr><td><strong>Modern</strong></td><td>63</td><td>10.0</td><td>70</td><td>75</td><td>--</td><td>11</td><td>1.1.1</td><td>57</td><td>12.1</td></tr></tbody></table><p>å‚çœ‹ï¼šhttps://wiki.mozilla.org/Security/Server_Side_TLS</p><h3 id="curl">curl</h3><p>7.52.0 - December 21 2016ï¼Œcurl: introduce the --tlsv1.3 option to force TLS 1.3</p><p>ä½¿ç”¨å‚æ•° <code>--tlsv1.3</code>ï¼Œå¯ä»¥é€šè¿‡ <code>curl --help</code> æŸ¥çœ‹æ˜¯å¦æ”¯æŒè¯¥å‚æ•°</p><h2 id="3-f5-big-ip-tlsv1_3">3. F5 BIG-IP TLSv1_3</h2><p><a href="https://support.f5.com/csp/article/K10251520" target="_blank" rel="noopener">BIG-IP v14 å¼€å§‹æ”¯æŒ TLSv1_3</a>ï¼ˆIn BIG-IP 14.0.0, the BIG-IP system adds limited support for Transport Layer Security (TLS) 1.3. Starting in BIG-IP 14.1.0.1 and later, this support was updated to provide production level support for TLS 1.3.ï¼‰</p><p>By default, TLS 1.3 is disabled. To enable TLS 1.3, you must remove the <strong>No TLSv1.3</strong> option from the <strong>Enabled Options</strong> list in the Configuration utility for the Client SSL and Server SSL profiles</p><p>You can view a list of TLS 1.3 supported ciphers and groups using the following TMOS Shell (<strong>tmsh</strong>) commands:</p><ul><li><p>To view the supported client-side ciphers, use the following command:</p><p>tmsh run util clientssl-ciphers TLSv1_3</p></li><li><p>To view the supported server-side ciphers, use the following command:</p><p>tmsh run util serverssl-ciphers TLSv1_3</p></li></ul><p><strong>é…ç½®å¯ç”¨ TLSv1_3</strong></p><p>ç¼–è¾‘ ClientSSL Profleï¼š</p><p>Ciphersï¼šé€‰æ‹© Cipher Groupï¼Œä¸‹æ‹‰é€‰æ‹© f5-secure</p><p>Optionsï¼šOptions List...</p><p>Enabled Optionsï¼Œ</p><p>Disable No TLSv1.3</p><p>æ·»åŠ ï¼ŒNo TLSv1 å’Œ TLSv1.1ï¼Œä¿ç•™é»˜è®¤çš„â€œDon't insert empty fragmentsâ€</p><h2 id="4-iis-amp-windows-tlsv13">4. IIS &amp; Windows TLSv1.3</h2><p>IIS 10 &amp; Windows Server 2019 æ­£å¼ç‰ˆå°šæœªæ”¯æŒï¼Œ<a href="https://forums.iis.net/t/1250687.aspx?IIS+10+TLS+1+3+support" target="_blank" rel="noopener">å‚çœ‹</a></p><p>æœ€æ–°çš„ Windows Insider Preview å·²ç»æ”¯æŒ TLS 1.3</p><p>the latest <a href="https://insider.windows.com/en-us/" target="_blank" rel="noopener">Windows Insider Preview Builds</a> for Schannel's TLS 1.3 support.</p><h2 id="5-nginx-tlsv13">5. Nginx TLSv1.3</h2><blockquote><p>The <code>TLSv1.1</code> and <code>TLSv1.2</code> parameters (1.1.13, 1.0.12) work only when OpenSSL 1.0.1 or higher is used.</p></blockquote><blockquote><p>The <code>TLSv1.3</code> parameter (1.13.0) works only when OpenSSL 1.1.1 built with TLSv1.3 support is used.</p></blockquote><p><a href="http://wiki.nginx.org/HttpSslModule#ssl_protocols" target="_blank" rel="noopener">More info on the NGINX documentation</a></p><p>å‚è€ƒé…ç½®ï¼šå¯ç”¨ HTTP/2ã€TLSv1.3ã€æ¨èçš„Ciphersã€HSTS</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen       443 ssl http2; # HTTP/2 Enable</span><br><span class="line">    server_name  www.sysin.org;</span><br><span class="line">    ssl_certificate     www.sysin.org.crt;</span><br><span class="line">    ssl_certificate_key www.sysin.org.key;</span><br><span class="line">    ssl_protocols       TLSv1.2 TLSv1.3; # Requires nginx &gt;= 1.13.0 else use TLSv1.2</span><br><span class="line">    ssl_ciphers  ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-SHA384;</span><br><span class="line">    add_header Strict-Transport-Security "max-age=31536000; includeSubdomains; preload";</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="6-apache-httpd-tlsv13">6. Apache httpd TLSv1.3</h2><p><strong>ç‰ˆæœ¬è¦æ±‚ï¼š</strong></p><p>Apache version <code>2.4.36</code> or greater. (ç½‘ä¸Šæ–‡ç« ä¼ è¨€ 2.4.38 æ˜¯é”™è¯¯çš„ï¼)</p><p>OpenSSL version <code>1.1.1</code> or greater.</p><p>CentOS 8 å’Œ Ubuntu 20.04 è‡ªå¸¦è½¯ä»¶åŒ…æ»¡è¶³è¦æ±‚ï¼Œä½ç‰ˆæœ¬éœ€è¦ç¼–è¯‘å®‰è£…ã€‚</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@c8 ~]# openssl version</span><br><span class="line">OpenSSL 1.1.1c FIPS  28 May 2019</span><br><span class="line"></span><br><span class="line">[root@c8 ~]# dnf list httpd</span><br><span class="line">Installed Packages</span><br><span class="line">httpd.x86_64        2.4.37-21.module_el8.2.0+382+15b0afa8        @AppStream</span><br></pre></td></tr></table></figure></p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">root@u20:~# openssl version</span><br><span class="line">OpenSSL 1.1.1f  31 Mar 2020</span><br><span class="line"></span><br><span class="line">root@u20:~# apt list apache2</span><br><span class="line">Listing... Done</span><br><span class="line">apache2/focal 2.4.41-4ubuntu3 amd64</span><br></pre></td></tr></table></figure></p><p><strong>å¯ç”¨ TLS 1.3 å’Œ 1.2</strong></p><p>The Apache version 2.4.36 or higher versions support TLS v1.3. You must upgrade Apache packages before enabled TLS 1.3 in SSL settings.</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SSLProtocol -all +TLSv1.2 +TLSv1.3</span><br></pre></td></tr></table></figure></p><p>é…ç½®é¡¹å¦‚ä¸‹æ‰€ç¤º:</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost *:443&gt;</span><br><span class="line">    ServerName www.sysin.org</span><br><span class="line">    DocumentRoot /var/www/html</span><br><span class="line"></span><br><span class="line">    SSLEngine on</span><br><span class="line">    SSLProtocol -all +TLSv1.2 +TLSv1.3</span><br><span class="line">    SSLCertificateFile &quot;/path/to/www.sysin.org.cert&quot;</span><br><span class="line">    SSLCertificateKeyFile &quot;/path/to/www.sysin.org.key&quot;</span><br><span class="line">&lt;/VirtualHost&gt;</span><br></pre></td></tr></table></figure></p><p>è®°å¾—é‡å¯ Apache æœåŠ¡æ‰èƒ½ç”Ÿæ•ˆã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;1-å‰è¨€&quot;&gt;1. å‰è¨€&lt;/h2&gt;
&lt;p&gt;TLS 1.3 æ˜¯æ—¶éš”ä¹å¹´å¯¹ TLS 1.2 ç­‰ä¹‹å‰ç‰ˆæœ¬çš„æ–°å‡çº§ï¼Œä¹Ÿæ˜¯è¿„ä»Šä¸ºæ­¢æ”¹åŠ¨æœ€å¤§çš„ä¸€æ¬¡ã€‚é’ˆå¯¹ç›®å‰å·²çŸ¥çš„å®‰å…¨å¨èƒï¼ŒIETFï¼ˆInternet Engineering Task Forceï¼Œäº’è”ç½‘å·¥ç¨‹ä»»åŠ¡ç»„ï¼‰åˆ¶å®š TLS 
      
    
    </summary>
    
    
    
      <category term="HTTP" scheme="http://sysin.org/tags/HTTP/"/>
    
      <category term="F5" scheme="http://sysin.org/tags/F5/"/>
    
      <category term="Nginx" scheme="http://sysin.org/tags/Nginx/"/>
    
      <category term="TLS" scheme="http://sysin.org/tags/TLS/"/>
    
      <category term="IIS" scheme="http://sysin.org/tags/IIS/"/>
    
      <category term="Apache" scheme="http://sysin.org/tags/Apache/"/>
    
  </entry>
  
  <entry>
    <title>ç”¨äº VMware çš„ macOS Catalina 10.15.5 iso ç™¾åº¦ç½‘ç›˜ ä¸‹è½½</title>
    <link href="http://sysin.org/article/Download-VMware-macOS-Catalina-iso/"/>
    <id>http://sysin.org/article/Download-VMware-macOS-Catalina-iso/</id>
    <published>2020-05-30T02:10:00.000Z</published>
    <updated>2020-08-03T05:32:51.509Z</updated>
    
    <content type="html"><![CDATA[<p>åŸºäºMASåŸç‰ˆappåˆ¶ä½œï¼Œå®‰å…¨æ— æ·»åŠ ï¼Œæ— ä»»ä½•logoï¼Œæ–‡ä»¶ä½“ç§¯å°ï¼ˆxzå‹ç¼©åä¸åˆ°350Mï¼‰ï¼Œé€‚åˆé•¿æœŸæŒæœ‰ã€‚</p><blockquote><p>ä¸‹è½½é“¾æ¥: https://pan.baidu.com/s/1wdrFp6y-qC7dUHtCRMv9xA  å¯†ç : bb3v</p></blockquote><p>è¯´æ˜ï¼šä¸¤ä¸ªå‹ç¼©æ–‡ä»¶æ˜¯ä¸€æ ·çš„ï¼Œä¸€ä¸ªzipä¸€ä¸ªxzæ ¼å¼ã€‚</p><p><strong>é™„ï¼šå¯ç”¨çš„VMware è½¯ä»¶ä¸‹è½½é“¾æ¥</strong></p><p>1.<a href="https://sysin.org/article/Download-VMware-ESXi-7.0-MOD/">ESXi 7.0 å®šåˆ¶ç‰ˆé•œåƒ</a></p><p>2.Windowsï¼š<a href="ed2k://%7Cfile%7CVMware-Workstation-Lite-15.5.5-16285975%E7%B2%BE%E7%AE%80%E5%AE%98%E6%96%B9%E4%B8%AD%E6%96%87%E5%AE%89%E8%A3%85%E6%B3%A8%E5%86%8C%E7%89%88.exe%7C251983636%7C01C2F2541A6EF19955988D2916776CD4%7C/" target="_blank" rel="noopener">VMware Workstation 15.5.5 x64 ç²¾ç®€å®šåˆ¶ç‰ˆ</a>ï¼šed2k://|file|VMware-Workstation-Lite-15.5.5-16285975%E7%B2%BE%E7%AE%80%E5%AE%98%E6%96%B9%E4%B8%AD%E6%96%87%E5%AE%89%E8%A3%85%E6%B3%A8%E5%86%8C%E7%89%88.exe|251983636|01C2F2541A6EF19955988D2916776CD4|/</p><p>3.macOSï¼šVMware Fusion 15.5.5 <a href="https://www.vmware.com/go/getfusion" target="_blank" rel="noopener">å®˜ç½‘ä¸‹è½½é“¾æ¥</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åŸºäºMASåŸç‰ˆappåˆ¶ä½œï¼Œå®‰å…¨æ— æ·»åŠ ï¼Œæ— ä»»ä½•logoï¼Œæ–‡ä»¶ä½“ç§¯å°ï¼ˆxzå‹ç¼©åä¸åˆ°350Mï¼‰ï¼Œé€‚åˆé•¿æœŸæŒæœ‰ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸‹è½½é“¾æ¥: https://pan.baidu.com/s/1wdrFp6y-qC7dUHtCRMv9xA  å¯†ç : bb3v
      
    
    </summary>
    
    
    
      <category term="Download" scheme="http://sysin.org/tags/Download/"/>
    
      <category term="Apple" scheme="http://sysin.org/tags/Apple/"/>
    
      <category term="macOS" scheme="http://sysin.org/tags/macOS/"/>
    
  </entry>
  
  <entry>
    <title>VMware ESXi 7.0 SLIC 2.5 / macOS / LegacyCPU MOD ISO ç™¾åº¦ç½‘ç›˜ ä¸‹è½½</title>
    <link href="http://sysin.org/article/Download-VMware-ESXi-7.0-MOD/"/>
    <id>http://sysin.org/article/Download-VMware-ESXi-7.0-MOD/</id>
    <published>2020-05-28T02:10:00.000Z</published>
    <updated>2020-08-03T05:32:43.971Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ä¸‹è½½é“¾æ¥: https://pan.baidu.com/s/1-fjtDCj3bFXgTjZyJBpTIA  å¯†ç : 4sv7</p></blockquote><p>ç”³æ˜ï¼šBIOSæ–‡ä»¶ä»¥åŠmacOSæ”¯æŒç­‰åº•å±‚ä¿®æ”¹éƒ½æ¥è‡ªç½‘ä¸Šè®ºå›çš„åˆ†äº«ï¼Œç¬”è€…åªæ˜¯åšäº†ISOçš„é›†æˆğŸ˜ã€‚</p><p><strong>ç‰¹æ€§ï¼š</strong></p><ul><li><p>SLIC 2.5ï¼šä½¿ç”¨ OEM SLP keys å¯ä»¥æ”¯æŒ Windows Server 2019</p></li><li><p>macOS Unlockerï¼šç›´æ¥è¿è¡Œ macOS Catalina 10.15</p></li><li><p>LegacyCPU supportï¼Œå…è®¸åœ¨ä¸å—æ”¯æŒçš„ CPU ä¸Šå®‰è£… ESXi 7.0</p></li></ul><h2 id="vmware_155_dell_25_bios-efi_mod">VMware_15.5_DELL_2.5_BIOS-EFI_Mod</h2><p><strong>SLP 2.5</strong> (BIOS.440 &amp; EFIs - Dell 2.5 SLIC) - NT 6.0  (Vista/Server 2008), NT 6.1 (7/Server 2008 R2), NT 6.2 (Server 2012), NT 6.3 (Server 2012 R2), NT 10.0 (Server 2016/Server 2019)</p><p>æˆªå›¾ï¼š<img src="https://img-blog.csdnimg.cn/2020053115163459.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L25ldGdj,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="æ”¯æŒ-macos-catalina">æ”¯æŒ macOS Catalina</h2><p>åœ¨VMwareä¸­ç›´æ¥æ–°å»ºè™šæœºï¼Œæ“ä½œç³»ç»Ÿé€‰æ‹©â€œApple macOS 10.15 (64-bit)â€ï¼Œå³å¯å®‰è£…å’Œæ­£å¸¸å¯åŠ¨ã€‚</p><p>æˆªå›¾ï¼š<img src="https://img-blog.csdnimg.cn/20200531151851593.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L25ldGdj,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>ç”¨äºVMwareçš„macOS 10.15.5 å®‰è£…æ˜ åƒisoä¸‹è½½ï¼š<a href="https://blog.csdn.net/netgc/article/details/106456323" target="_blank" rel="noopener">é“¾æ¥</a></p><h2 id="æ”¯æŒéå®˜æ–¹æ”¯æŒçš„cpu">æ”¯æŒéå®˜æ–¹æ”¯æŒçš„CPU</h2><p>ä¿®æ”¹å¯åŠ¨å‚æ•°ï¼Œåœ¨å®˜æ–¹ä¸å—æ”¯æŒçš„CPUçš„æœåŠ¡å™¨ä¸Šå¯ä»¥æ­£å¸¸å®‰è£…ã€‚</p><blockquote><p>æ ¹æ® â€œVMware vSphere 7.0 Release Notesâ€ï¼Œä»¥ä¸‹ CPU å·²ç»ä¸å—æ”¯æŒï¼ˆæ— æ³•å®‰è£…æˆ–è€…å‡çº§ ESXi 7.0ï¼‰</p></blockquote><p>Comparing the processors supported by vSphere 6.7, vSphere 7.0 no longer supports the following processors:</p><ul><li>Intel Family 6, Model = 2C (Westmere-EP)</li><li>Intel Family 6, Model = 2F (Westmere-EX)</li></ul><p>ç¬”è€…åœ¨ä¸€å°10å¹´çš„æœåŠ¡å™¨ä¸Šå®‰è£…è¿è¡Œè‰¯å¥½ï¼šHP DL 380 G7ï¼ŒIntel(R) Xeon(R) CPU E5606</p><p>æˆªå›¾ï¼š<img src="https://img-blog.csdnimg.cn/20200531151932313.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L25ldGdj,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="æä¾›dell-hpeå®šåˆ¶ç‰ˆisoé›†æˆ">æä¾›Dellã€HPEå®šåˆ¶ç‰ˆisoé›†æˆ</h2><p>æä¾›æ ‡å‡†ç‰ˆã€Dellå®šåˆ¶ç‰ˆå’ŒHPEå®šåˆ¶ç‰ˆä¸‰ä¸ªisoæ–‡ä»¶ã€‚</p><p>åç§°: VMware-VMvisor-Installer-7.0.0-15843807.x86_64-SLIC2.5-GC.isoå¤§å°: 369336320 å­—èŠ‚ (352 MiB)CRC32: 6E0AD081CRC64: 5A1D267F015EFCD7SHA256: B03B1B3D7AD533277293CA7C1725B1F50F755973795E327A5107E5475469D9C0SHA1: 8F28A06E91976A495DA657232337CABBAEDA02B8BLAKE2sp: 7D7F76CAE823A7F199DC9C5DFC80EF4FC334F9F1BBB651DD2E0D1987D070F4C8</p><p>åç§°: VMware-VMvisor-Installer-7.0.0-15843807.x86_64-DellEMC_Customized-A00-SLIC2.5-GC.isoå¤§å°: 369373184 å­—èŠ‚ (352 MiB)CRC32: 95D1712BCRC64: 1AAF946A016147ABSHA256: 2FD51DF01AE46AB4C3DEE6CCC29C5E8B315E4303DC463DCC634A5A4407EAA3FCSHA1: 233BF2F421BDE8A95E7CAADE1903C7869BF2D23FBLAKE2sp: 867FDDAAF826E53454991DC680EFF58D5AB996808D4D7E4A1ED12F695083AB9F</p><p>åç§°: VMware_ESXi_7.0.0_15843807_HPE_700.0.0.10.5.0.108_April2020-SLIC2.5-GC.isoå¤§å°: 410791936 å­—èŠ‚ (391 MiB)CRC32: C95C956ECRC64: 9C4AB5D0BE620CD6SHA256: 670F3ACF5E2D0E09F866ED1356FF2766DB690FCD697F4CC69BE1798ACFEA7288SHA1: 2DCA36F3B3AF708BF5D258320A604B7B37D7BFDEBLAKE2sp: C1CE1C810DB82BAE64211539B4051885A36EED16F2A01CCDC25D24F5D7D41B7A</p><blockquote><p>ä¸‹è½½é“¾æ¥: https://pan.baidu.com/s/1-fjtDCj3bFXgTjZyJBpTIA  å¯†ç : 4sv7</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;ä¸‹è½½é“¾æ¥: https://pan.baidu.com/s/1-fjtDCj3bFXgTjZyJBpTIA  å¯†ç : 4sv7&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç”³æ˜ï¼šBIOSæ–‡ä»¶ä»¥åŠmacOSæ”¯æŒç­‰åº•å±‚ä¿®æ”¹éƒ½æ¥è‡ªç½‘ä¸Šè®ºå›çš„åˆ†äº«ï¼Œç¬”è€…åªæ˜¯åš
      
    
    </summary>
    
    
    
      <category term="VMware" scheme="http://sysin.org/tags/VMware/"/>
    
      <category term="Download" scheme="http://sysin.org/tags/Download/"/>
    
  </entry>
  
  <entry>
    <title>macOS Catalina 10.15.5 æ­£å¼ç‰ˆ ä¸‹è½½ ç™¾åº¦ç½‘ç›˜</title>
    <link href="http://sysin.org/article/Download-macOS-Catalina-10.15.5/"/>
    <id>http://sysin.org/article/Download-macOS-Catalina-10.15.5/</id>
    <published>2020-05-27T02:10:00.000Z</published>
    <updated>2020-08-03T05:32:31.360Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://appleinsider.com/articles/20/05/26/apple-releases-macos-catalina-10155-with-new-battery-health-management-feature" target="_blank" rel="noopener">Apple releases macOS Catalina 10.15.5 with new battery health management feature</a></p><p>macOS Catalina 10.15.5 = (19F96) 05/26/2020</p><blockquote><p>ä¸‹è½½é“¾æ¥: https://pan.baidu.com/s/1z-n_UTnY3Wty7dEu-tf8mw  å¯†ç : dnns</p></blockquote><p>åŸºäºMASåŸç‰ˆåˆ¶ä½œï¼Œå®‰å…¨æ— æ·»åŠ ï¼Œæ— ä»»ä½•logoï¼Œé€‚åˆé•¿æœŸæŒæœ‰ğŸ˜„ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20200531094401333.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L25ldGdj,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://appleinsider.com/articles/20/05/26/apple-releases-macos-catalina-10155-with-new-battery-health-management-feature&quot; targe
      
    
    </summary>
    
    
    
      <category term="Apple" scheme="http://sysin.org/tags/Apple/"/>
    
      <category term="macOS" scheme="http://sysin.org/tags/macOS/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•ç¦ç”¨ Firefox è‡ªåŠ¨æ›´æ–°ï¼ˆWindowsã€macOSã€Linuxï¼‰</title>
    <link href="http://sysin.org/article/Disable-Firefox-Auto-update-Windows_macOS_Linux/"/>
    <id>http://sysin.org/article/Disable-Firefox-Auto-update-Windows_macOS_Linux/</id>
    <published>2020-05-15T02:10:00.000Z</published>
    <updated>2020-08-03T05:32:16.835Z</updated>
    
    <content type="html"><![CDATA[<h2 id="windows">Windows</h2><h3 id="æ–¹æ³•ä¸€ä½¿ç”¨ç­–ç•¥æ–‡ä»¶">æ–¹æ³•ä¸€ï¼šä½¿ç”¨ç­–ç•¥æ–‡ä»¶</h3><p>å®˜æ–¹ç­–ç•¥æ¨¡æ¿ï¼šhttps://github.com/mozilla/policy-templates/releases</p><p>åˆ›å»ºç­–ç•¥æ–‡ä»¶ï¼š&lt;Firefoxå®‰è£…ç›®å½•&gt;\distribution\policies.json</p><p>å†…å®¹å¦‚ä¸‹ï¼Œ</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;policies&quot;: &#123;</span><br><span class="line">    &quot;DisableAppUpdate.&quot;: false</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="æ–¹æ³•äºŒä½¿ç”¨æ³¨å†Œè¡¨">æ–¹æ³•äºŒï¼šä½¿ç”¨æ³¨å†Œè¡¨</h3><p>æ“ä½œæ­¥éª¤ï¼š</p><ul><li><p>æµè§ˆåˆ° â€œHKEY_LOCAL_MACHINE\Software\Policiesâ€ åˆ›å»ºé¡¹ â€œMozillaâ€ åœ¨åˆ›å»ºé¡¹ â€œFirefoxâ€ åˆ›å»ºå®Œæ¯•å³ â€œHKEY_LOCAL_MACHINE\Software\Policies\Mozilla\Firefoxâ€</p></li><li><p>åœ¨ä¸Šè¿°è·¯å¾„ï¼Œå³é”®ç‚¹å‡»ç©ºç™½å¤„ï¼Œæ–°å»ºä¸€ä¸ª DWORD (32-Bit) Valueï¼Œåç§°ä¸º â€œDisableAppUpdateâ€</p></li><li><p>åŒå‡»åˆ›å»ºçš„ â€œDisableAppUpdateâ€ï¼Œå°†å€¼ä¿®æ”¹ä¸º â€œ1â€ã€‚</p></li></ul><p>ç›´æ¥ä½¿ç”¨æ³¨å†Œè¡¨æ–‡ä»¶</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Windows Registry Editor Version 5.00</span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Mozilla\Firefox]</span><br><span class="line">&quot;DisableAppUpdate&quot;=dword:00000001</span><br></pre></td></tr></table></figure></p><p><strong>ç›´æ¥ä½¿ç”¨CMD</strong>ï¼ˆæ¨èï¼Œæœ€ä¾¿æ·ï¼‰</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reg add &quot;HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Mozilla\Firefox&quot; /v DisableAppUpdate /t REG_DWORD /d 1 /f</span><br></pre></td></tr></table></figure></p><h3 id="æ•ˆæœ">æ•ˆæœ</h3><p>æ­¤æ—¶ â€œé€‰é¡¹â€ ä¸­ Firefox æ›´æ–°ï¼Œæç¤ºâ€œæ›´æ–°å·²è¢«ç³»ç»Ÿç®¡ç†å‘˜ç¦ç”¨â€ï¼Œæ£€æŸ¥æ›´æ–°æŒ‰é’®ä¹Ÿä¸å¯ç”¨ï¼</p><p>å‚è€ƒæ–‡ç« ï¼šhttps://www.webnots.com/how-to-disable-automatic-update-in-firefox/</p><h2 id="macos">macOS</h2><h3 id="æ–¹æ³•ä¸€é…ç½®ç­–ç•¥æ–‡ä»¶">æ–¹æ³•ä¸€ï¼šé…ç½®ç­–ç•¥æ–‡ä»¶</h3><p>è·å–æœ€æ–°æˆ–è€…å¯¹åº”ç‰ˆæœ¬çš„ç­–ç•¥æ¨¡æ¿ï¼šhttps://github.com/mozilla/policy-templates/releases</p><p>è‡ªåŠ¨æ›´æ–°ç­–ç•¥æè¿°å¦‚ä¸‹ï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;policies&quot;: &#123;</span><br><span class="line">    &quot;DisableAppUpdate&quot;: true | false</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>åˆ›å»º Firefox ç­–ç•¥é…ç½®æ–‡ä»¶</p><p><code>Firefox.app/Contents/Resources/distribution/policies.json</code></p><p>ç¦ç”¨è‡ªåŠ¨æ›´æ–°åˆ™å°†ä»¥ä¸‹å†…å®¹å†™å…¥ policies.json æ–‡ä»¶ä¸­</p><p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"policies"</span>: &#123;</span><br><span class="line">    <span class="attr">"DisableAppUpdate"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="æ–¹æ³•äºŒå‘½ä»¤è¡Œå®ç°">æ–¹æ³•äºŒï¼šå‘½ä»¤è¡Œå®ç°</h3><p>å¯ä»¥ç›´æ¥æ‰§è¡Œå¦‚ä¸‹ç»ˆç«¯å‘½ä»¤ï¼Œæ›´åŠ ä¾¿æ·ï¼Œä¸ç”¨é¢å¤–é…ç½®ä¸Šè¿°ç­–ç•¥æ–‡ä»¶ã€‚</p><ul><li>å¯ç”¨ç­–ç•¥</li></ul><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo defaults write /Library/Preferences/org.mozilla.firefox EnterprisePoliciesEnabled -bool TRUE</span><br></pre></td></tr></table></figure></p><ul><li>ç¦ç”¨è‡ªåŠ¨æ›´æ–°</li></ul><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo defaults write /Library/Preferences/org.mozilla.firefox DisableAppUpdate -bool TRUE</span><br></pre></td></tr></table></figure></p><h3 id="æ•ˆæœ">æ•ˆæœ</h3><p>æ­¤æ—¶ â€œé¦–é€‰é¡¹â€ ä¸­ Firefox æ›´æ–°ï¼Œæç¤ºâ€œæ›´æ–°å·²è¢«ç³»ç»Ÿç®¡ç†å‘˜ç¦ç”¨â€ï¼Œæ£€æŸ¥æ›´æ–°æŒ‰é’®ä¹Ÿä¸å¯ç”¨ï¼</p><h2 id="linux">Linux</h2><p>On Linux, the file goes into <code>firefox/distribution</code>, where <code>firefox</code> is the installation directory for firefox, which varies by distribution or you can specify system-wide policy by placing the file in <code>/etc/firefox/policies</code>.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;windows&quot;&gt;Windows&lt;/h2&gt;
&lt;h3 id=&quot;æ–¹æ³•ä¸€ä½¿ç”¨ç­–ç•¥æ–‡ä»¶&quot;&gt;æ–¹æ³•ä¸€ï¼šä½¿ç”¨ç­–ç•¥æ–‡ä»¶&lt;/h3&gt;
&lt;p&gt;å®˜æ–¹ç­–ç•¥æ¨¡æ¿ï¼šhttps://github.com/mozilla/policy-templates/releases&lt;/p&gt;
&lt;p&gt;åˆ›å»ºç­–ç•¥æ–‡
      
    
    </summary>
    
    
    
      <category term="Firefox" scheme="http://sysin.org/tags/Firefox/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu 20.04 LTS (Focal Fossa) å®‰è£…ç¬”è®°</title>
    <link href="http://sysin.org/article/Ubuntu-20.04-Install/"/>
    <id>http://sysin.org/article/Ubuntu-20.04-Install/</id>
    <published>2020-05-15T02:10:00.000Z</published>
    <updated>2020-08-03T09:42:20.215Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ–°ç‰¹æ€§">æ–°ç‰¹æ€§</h2><h3 id="updated-packages">Updated Packages</h3><p><strong>Linux Kernel 5.4</strong></p><p><strong>Toolchain Upgrades ğŸ› ï¸</strong></p><pre><code>Ubuntu 20.04 LTS comes with refreshed state-of-the-art toolchain including new upstream releases of glibc 2.31, â˜• OpenJDK 11, rustc 1.41, GCC 9.3, ğŸ Python 3.8.2, ğŸ’ ruby 2.7.0, php 7.4, ğŸª perl 5.30, golang 1.13.</code></pre><p><strong>Ubuntu Desktop</strong></p><ul><li>New graphical boot splash (integrates with the system BIOS logo).</li><li>Refreshed <a href="https://ubuntu.com/blog/new-ubuntu-theme-in-development-for-20-04" target="_blank" rel="noopener">Yaru theme</a> ğŸ¨<ul><li><a href="https://twitter.com/m_wimpress/status/1232246572479590401" target="_blank" rel="noopener">Light/Dark theme switching</a></li></ul></li><li>GNOME 3.36</li><li><a href="https://www.mesa3d.org/" target="_blank" rel="noopener">Mesa</a> 20.0 OpenGL stack</li><li><a href="http://www.bluez.org/" target="_blank" rel="noopener">BlueZ</a> 5.53</li><li><a href="https://www.freedesktop.org/wiki/Software/PulseAudio/" target="_blank" rel="noopener">PulseAudio</a> 14.0 (prerelease)</li><li><a href="https://www.mozilla.org/en-US/firefox/75.0/releasenotes/" target="_blank" rel="noopener">Firefox 75.0</a></li><li><a href="https://www.thunderbird.net/en-US/thunderbird/68.7.0/releasenotes/" target="_blank" rel="noopener">Thunderbird 68.7.0</a></li><li><a href="https://wiki.documentfoundation.org/ReleaseNotes/6.4" target="_blank" rel="noopener">LibreOffice 6.4</a></li></ul><h3 id="network-configuration">Network configuration</h3><p>With this Ubuntu release, <a href="https://netplan.io/" target="_blank" rel="noopener">netplan.io</a> has grown multiple new features, some of which are:</p><ul><li>Basic support for configuring SR-IOV network devices. Starting with  netplan.io 0.99, users can declare Virtual Functions for every SR-IOV  Physical Function, configure those as any other networking device and  set hardware VLAN VF filtering on them.</li><li>Support for GSM modems via the <a href="https://wiki.ubuntu.com/NetworkManager" target="_blank" rel="noopener">NetworkManager</a> backend via the <code>modems</code> section.</li><li>Adding <a href="https://wiki.ubuntu.com/WiFi" target="_blank" rel="noopener">WiFi</a> flags for <code>bssid</code>/<code>band</code>/<code>channel</code> settings.</li><li>Adding ability to set <code>ipv6-address-generation</code> for the <a href="https://wiki.ubuntu.com/NetworkManager" target="_blank" rel="noopener">NetworkManager</a> backend and <code>emit-lldp</code> for networkd.</li></ul><h3 id="storagefile-systems">Storage/File Systems</h3><p>ZFS 0.8.3</p><h3 id="other-base-system-changes-since-1804-lts">Other base system changes since 18.04 LTS</h3><ul><li><p>Python3 by defaultï¼ˆPython 3.8.  Python 2.7 å·²ç»ç§»é™¤ï¼‰</p></li><li><p>Snap Store replaces ubuntu-software</p></li></ul><h3 id="ubuntu-server">Ubuntu Server</h3><ul><li><p>Installer</p><p>The live server installer is now the preferred media to install Ubuntu Server on all architectures.</p></li><li><p>QEMU</p><p>QEMU was updated to 4.2 release.</p></li><li><p>libvirt</p><p>libvirt was updated to version 6.0.</p></li><li><p>dpdk</p><p>Ubuntu 20.04 LTS includes the latest stable release 19.11.1 of the latest LTS series 19.11.x. The very latest (non-stable) version being 20.02 was not chosen for  downstream projects of DPDK (like Open vSwitch) not being compatible  yet.</p></li><li><p>Open vSwitch</p><p>Open vSwitch has been updated to 2.13.</p></li><li><p>Chrony</p><p>Chrony been updated to <a href="https://chrony.tuxfamily.org/news.html" target="_blank" rel="noopener">version 3.5</a>.</p></li><li><p>cloud-init</p><p>Cloud-init was updated to version 20.1-10.</p></li><li><p>PHP 7.4</p></li><li><p>Ruby 2.7</p></li><li><p>Ruby on Rails 5.2.3</p></li><li><p>Ubuntu HA/Clustering</p><p>KronosnetCorosync 3.0Pacemaker 2.0Resource AgentsFence Agentskeepalived</p></li><li><p>isc-kea 1.6 stable trackï¼ˆdhcp serverï¼‰</p></li><li><p>Bind 9.16</p></li><li><p>OpenSSH updates with U2F Support</p></li><li><p>HAProxy 2.0</p></li><li><p>Apache, TLSv1.3, client cert auth</p></li><li><p>Samba 4.11</p></li><li><p>PostgreSQL 12</p></li><li><p>nginx</p><p>Starting in Focal Fossa, nginx-core no longer ships with the legacy geoip module enabled by default. If you are using the legacy geoip module in nginx,  you may run into upgrade issues if you do not deactivate the geoip  module in your configuration. This was done as part of the deprecation  of GeoIP legacy support.</p></li><li><p>Squid 4.x</p></li><li><p>s390x</p></li><li><p>OpenStack Ussuri</p></li><li><p>Ceph was updated to the 15.2.1 release</p></li></ul><p><strong>å®Œæ•´æ›´æ–°å†…å®¹è¯·æŸ¥é˜…å‘è¡Œè¯´æ˜ï¼š</strong></p><ul><li>https://wiki.ubuntu.com/FocalFossa/ReleaseNotes</li></ul><h2 id="1-å®‰è£…æ‘˜è¦">1. å®‰è£…æ‘˜è¦</h2><p>18.04ï¼šå®‰è£…ç•Œé¢å˜åŒ–æ¯”è¾ƒå¤§ï¼Œå‚çœ‹æˆªå›¾ï¼Œé»˜è®¤ SSH Server å·²ç»å®‰è£…ï¼ˆæµ‹è¯• 18.04.3 ä¿®æ”¹ä¸ºéœ€è¦æ‰‹åŠ¨å‹¾é€‰ï¼‰ï¼Œæ²¡æœ‰æ—¶åŒºé€‰æ‹©ç•Œé¢</p><p>20.04ï¼šå®‰è£…ç•Œé¢å°‘äº†æ­¥éª¤çš„æ•°å­—æç¤ºï¼Œå‚çœ‹æˆªå›¾ï¼ŒSSH Server éœ€è¦å‹¾é€‰å®‰è£…ï¼Œæ²¡æœ‰æ—¶åŒºé€‰æ‹©ç•Œé¢</p><p>æ³¨æ„ï¼šåˆ†åŒºå¦‚æœé€‰æ‹© LVMï¼Œé»˜è®¤ / ç›®å½•åªä½¿ç”¨äº†4Gï¼Œéœ€è¦ç¼–è¾‘ä½¿ç”¨å…¨éƒ¨å®¹é‡</p><h2 id="2-æ ¼å¼åŒ–ç½‘å¡åç§°">2. æ ¼å¼åŒ–ç½‘å¡åç§°</h2><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ç±»ä¼¼ CentOS 7ï¼ŒåŠ Ubuntu 16.04 å¼€å§‹ï¼Œå®‰è£…å¥½åç½‘å¡åç§°å˜æˆ ens160 äº†</span><br><span class="line"><span class="meta">#</span> ç¼–è¾‘ grub é…ç½®æ–‡ä»¶</span><br><span class="line">sudo vi /etc/default/grub</span><br><span class="line">ä¿®æ”¹ GRUB_CMDLINE_LINUX=""ä¸ºGRUB_CMDLINE_LINUX="net.ifnames=0 biosdevname=0"</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> ç›´æ¥ä½¿ç”¨sedç¼–è¾‘</span><br><span class="line">sudo sed -i "/^GRUB_CMDLINE_LINUX=""/c GRUB_CMDLINE_LINUX=\"net.ifnames=0 biosdevname=0\"" /etc/default/grub</span><br><span class="line"><span class="meta">#</span> æ›´æ–° grub é…ç½®æ–‡ä»¶</span><br><span class="line">sudo update-grub</span><br><span class="line"><span class="meta">#</span> ç„¶åä¸‹ä¸€èŠ‚ç¼–è¾‘é…ç½®æ–‡ä»¶å¹¶é‡å¯ç”Ÿæ•ˆ</span><br></pre></td></tr></table></figure></p><h2 id="3-ç½‘ç»œé…ç½®">3. ç½‘ç»œé…ç½®</h2><p>æŸ¥çœ‹ IP åœ°å€ä¿¡æ¯</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ip address</span><br><span class="line"># ç®€å†™ ip a</span><br><span class="line"># ifconfigä¹Ÿæ”¯æŒ</span><br></pre></td></tr></table></figure></p><p>é€šè¿‡ netplan ç®¡ç†ç½‘ç»œ</p><blockquote><p>18.04:cat /etc/network/interfacesifupdown has been replaced by netplané»˜è®¤ä½¿ç”¨netplanç®¡ç†ç½‘ç»œ</p><p>18.04é»˜è®¤é…ç½®æ–‡ä»¶ï¼š/etc/netplan/50-cloud-init.yaml</p><p>20.04:cat /etc/network/interfacescat: /etc/network/interfaces: No such file or directory</p><p>20.04é»˜è®¤é…ç½®æ–‡ä»¶ï¼š/etc/netplan/00-installer-config.yaml</p></blockquote><p>é…ç½®é™æ€IPåœ°å€</p><p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">sudo</span> <span class="string">vim</span> <span class="string">/etc/netplan/00-installer-config.yaml</span></span><br><span class="line"><span class="comment"># æ ¼å¼å¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="attr">network:</span></span><br><span class="line"><span class="attr">  version:</span> <span class="number">2</span></span><br><span class="line"><span class="attr">  ethernets:</span></span><br><span class="line"><span class="attr">    eth0:</span> <span class="comment">#ens160ä¿®æ”¹ä¸º eth0</span></span><br><span class="line"><span class="attr">      addresses:</span></span><br><span class="line"><span class="bullet">        -</span> <span class="number">10.19</span><span class="number">.190</span><span class="number">.5</span><span class="string">/24</span></span><br><span class="line"><span class="attr">      gateway4:</span> <span class="number">10.19</span><span class="number">.190</span><span class="number">.1</span></span><br><span class="line"><span class="attr">      nameservers:</span></span><br><span class="line"><span class="attr">        addresses:</span></span><br><span class="line"><span class="bullet">          -</span> <span class="number">10.19</span><span class="number">.190</span><span class="number">.11</span></span><br><span class="line"><span class="bullet">          -</span> <span class="number">10.19</span><span class="number">.190</span><span class="number">.12</span></span><br><span class="line"><span class="attr">        search:</span></span><br><span class="line"><span class="bullet">          -</span> <span class="string">sysin.org</span></span><br></pre></td></tr></table></figure></p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> è¿è¡Œä»¥ä¸‹å‘½ä»¤ä½¿é…ç½®ç”Ÿæ•ˆ</span><br><span class="line">sudo netplan apply</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> é‡å¯ç³»ç»Ÿåå½»åº•ç”Ÿæ•ˆ</span><br><span class="line">sudo reboot</span><br></pre></td></tr></table></figure></p><p>é…ç½®ä¸ºDHCP</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">echo '</span><br><span class="line">network:</span><br><span class="line">  version: 2</span><br><span class="line">  ethernets:</span><br><span class="line">    eth0:</span><br><span class="line">      dhcp4: yes</span><br><span class="line">      dhcp6: yes</span><br><span class="line">' &gt; /etc/netplan/00-installer-config.yaml</span><br></pre></td></tr></table></figure></p><p>æ¢å¤ä¼ ç»Ÿçš„ç½‘ç»œé…ç½®æ–¹å¼</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># å¯ä»¥æ¢å¤åŸæœ‰é…ç½®æ–¹å¼</span><br><span class="line">sudo apt install net-tools #ifconfigã€netstatã€routeç­‰å‘½ä»¤é›†</span><br><span class="line">sudo apt install ifupdown #æ¨¡æ¿æœªæ‰§è¡Œè¯¥å‘½ä»¤</span><br></pre></td></tr></table></figure></p><p>è¡¥å……ï¼šyaml åŸºç¡€</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å¤§å°å†™æ•æ„Ÿ</span><br><span class="line">ä½¿ç”¨ç¼©è¿›è¡¨ç¤ºå±‚çº§å…³ç³»</span><br><span class="line">ç¼©è¿›æ—¶ä¸å…è®¸ä½¿ç”¨Tabé”®ï¼Œåªå…è®¸ä½¿ç”¨ç©ºæ ¼</span><br><span class="line">ç¼©è¿›çš„ç©ºæ ¼æ•°ç›®ä¸é‡è¦ï¼Œåªè¦ç›¸åŒå±‚çº§çš„å…ƒç´ å·¦ä¾§å¯¹é½å³å¯</span><br></pre></td></tr></table></figure></p><p>ç¼©è¿›å»ºè®®ä½¿ç”¨2ä¸ªç©ºæ ¼ï¼Œä½¿ç”¨çŸ­æ¨ªçº¿â€œ-â€è¡¨ç¤ºåˆ—è¡¨æ—¶ï¼Œâ€- â€œåé¢çš„æ¡ç›®éœ€è¦å¯¹é½ï¼Œå¦‚æœä½¿ç”¨è¶…è¿‡2ä¸ªç©ºæ ¼ç¼©è¿›ï¼Œæ ¼å¼å°†æœ‰è¯¯ã€‚</p><p>é…ç½®é™æ€è·¯ç”±ç¤ºä¾‹</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">network:</span><br><span class="line">  version: 2</span><br><span class="line">  ethernets:</span><br><span class="line">    eth0:</span><br><span class="line">      addresses:</span><br><span class="line">        - 10.19.190.5/24</span><br><span class="line">      #gateway4: 10.19.190.254</span><br><span class="line">      nameservers:</span><br><span class="line">        addresses:</span><br><span class="line">          - 10.19.190.11</span><br><span class="line">          - 10.19.190.12</span><br><span class="line">        search:</span><br><span class="line">          - sysin.org</span><br><span class="line">      routes:</span><br><span class="line">        - to: 0.0.0.0/0</span><br><span class="line">          via: 10.19.190.254</span><br><span class="line">          metric: 100</span><br><span class="line">        - to: 10.19.177.0/24</span><br><span class="line">          via: 10.19.190.1</span><br><span class="line">          metric: 100</span><br></pre></td></tr></table></figure></p><h2 id="4-ä¿®æ”¹ä¸»æœºå">4. ä¿®æ”¹ä¸»æœºå</h2><p>è®¾ç½®ä¸»æœºå</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/hostname</span><br><span class="line"><span class="meta">#</span> ä¿®æ”¹ä¸ºä¸»æœºå ubuntu01</span><br><span class="line">ubuntu01</span><br></pre></td></tr></table></figure></p><p>æ·»åŠ domain name</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/hosts</span><br><span class="line"><span class="meta">#</span> æ·»åŠ ä¸€è¡Œ</span><br><span class="line">127.0.0.1  ubuntu01.sysin.org ubuntu01</span><br><span class="line"><span class="meta">#</span> æ³¨æ„è¿™é‡Œçš„æ ¼å¼ï¼ŒIP åé¢å…ˆå†™ FQDN å†å†™ä¸»æœºåï¼Œä¸ CentOS ç›¸åŒ</span><br><span class="line"><span class="meta">#</span> å…ˆå†™ä¸»æœºååå†™ FQDN ä¸å½±å“è§£æï¼Œä½†æ˜¯'hostname -f'å‘½ä»¤æ— æ³•åªèƒ½æ˜¾ç¤ºä¸»æœºå</span><br></pre></td></tr></table></figure></p><p>æŸ¥çœ‹FQDN</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hostname -f</span><br><span class="line"><span class="meta">#</span> æ­£ç¡®æ˜¾ç¤ºå¦‚ä¸‹</span><br><span class="line">ubuntu01.sysin.org</span><br></pre></td></tr></table></figure></p><h2 id="5-è®¾ç½®æ—¶åŒº">5. è®¾ç½®æ—¶åŒº</h2><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo timedatectl set-timezone Asia/Shanghai</span><br></pre></td></tr></table></figure></p><h2 id="6-ä¿®æ”¹å›½å†…é•œåƒæº">6. ä¿®æ”¹å›½å†…é•œåƒæº</h2><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> æ¨¡æ¿ä½¿ç”¨aliyun</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> å¤‡ä»½</span><br><span class="line">sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> æ›¿æ¢ä¸ºé˜¿é‡Œäº‘é•œåƒæº</span><br><span class="line">sudo sed -i 's/cn.archive.ubuntu.com/mirrors.aliyun.com/' /etc/apt/sources.list</span><br><span class="line"><span class="meta">#</span> æç¤ºï¼š-i å†™å…¥æ–‡ä»¶ï¼Œs æ›¿æ¢å‘½ä»¤</span><br><span class="line"></span><br><span class="line">é€‰æ‹©æ—¶åŒºåé•œåƒåœ°å€ä¸ºcn.archive.ubuntu.comï¼Œæ³¨æ„ä¿®æ”¹æ›¿æ¢å‘½ä»¤</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> æ ¹æ®å®é™…ç½‘ç»œæƒ…å†µé€‰æ‹©é•œåƒï¼Œå¯ä»¥Pingé•œåƒåœ°å€æŸ¥çœ‹å»¶è¿Ÿ</span><br><span class="line"><span class="meta">#</span> ç½‘æ˜“163</span><br><span class="line">sudo sed -i 's/cn.archive.ubuntu.com/mirrors.163.com/' /etc/apt/sources.list</span><br><span class="line"><span class="meta">#</span> ä¸­ç§‘å¤§</span><br><span class="line">sudo sed -i 's/cn.archive.ubuntu.com/mirrors.ustc.edu.cn/' /etc/apt/sources.list</span><br><span class="line"><span class="meta">#</span> æ¸…å</span><br><span class="line">sudo sed -i 's/cn.archive.ubuntu.com/mirrors.tuna.tsinghua.edu.cn/' /etc/apt/sources.list</span><br></pre></td></tr></table></figure></p><p>æ›´æ–°</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update #æ›´æ–°æº</span><br><span class="line">sudo apt upgrade #æ›´æ–°å·²å®‰è£…çš„åŒ…</span><br><span class="line">sudo apt dist-upgrade #å‡çº§ç³»ç»Ÿ</span><br><span class="line">sudo apt clean &amp;&amp; sudo apt autoclean #æ¸…ç†ä¸‹è½½æ–‡ä»¶çš„å­˜æ¡£</span><br><span class="line"><span class="meta">#</span> apt æ˜¯æ–°ç‰ˆå‘½ä»¤ï¼Œæ›¿ä»£ apt-getï¼Œapt-get å°†æ¥ä¼šæ·˜æ±°</span><br></pre></td></tr></table></figure></p><h2 id="7-å®‰è£…-snmpæ¨¡æ¿æœªé…ç½®">7. å®‰è£… SNMPï¼ˆæ¨¡æ¿æœªé…ç½®ï¼‰</h2><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install snmpd snmp</span><br></pre></td></tr></table></figure></p><h2 id="8-é…ç½®-ntp">8. é…ç½® NTP</h2><p>å®‰è£…</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install chrony</span><br><span class="line"></span><br><span class="line">sudo systemctl enable chrony</span><br><span class="line">sudo systemctl start chrony</span><br><span class="line">sudo systemctl status chrony</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> æŸ¥çœ‹é…ç½®æ–‡ä»¶ï¼Œæš‚ä½¿ç”¨é»˜è®¤é…ç½®</span><br><span class="line">cat /etc/chrony/chrony.conf</span><br></pre></td></tr></table></figure></p><p>chrony è‡ªå¸¦ä¸€ä¸ªäº¤äº’å¼å·¥å…· chronycï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šäº†æ—¶é—´æœåŠ¡å™¨ä¹‹åï¼Œå¦‚æœæƒ³æŸ¥çœ‹åŒæ­¥çŠ¶æ€ï¼Œå¯ä»¥è¿›å…¥è¿™ä¸ªäº¤äº’å¼å·¥å…·çš„äº¤äº’ç•Œé¢ã€‚</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">chronyc æœ‰å¾ˆå¤šçš„å­å‘½ä»¤ï¼Œå¯ä»¥è¾“å…¥ help æ¥æŸ¥çœ‹</span><br><span class="line">chronyc&gt; help</span><br><span class="line">    é€‰é¡¹ï¼š</span><br><span class="line">    sources [-v]    æ˜¾ç¤ºå…³äºå½“å‰æ¥æºçš„ä¿¡æ¯</span><br><span class="line">    sourcestats [-v]      æ˜¾ç¤ºæ—¶é—´åŒæ­¥çŠ¶æ€ï¼ˆå¦‚æ—¶é—´åç§»äº†å¤šå°‘ä¹‹ç±»ï¼‰</span><br></pre></td></tr></table></figure></p><h2 id="9-è™šæœºå®‰è£…-vmware-tools">9. è™šæœºå®‰è£… VMware Tools</h2><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Ubuntu 16.04 åœ¨ ESXi ä¸­å®‰è£…ç³»ç»Ÿæ—¶å·²ç»è‡ªåŠ¨å®‰è£…äº† vm-toolsï¼ˆ18.04ã€20.04ç›¸åŒï¼‰</span><br><span class="line"># 20.04 è‡ªå¸¦ vm-tools ç‰ˆæœ¬ä¸º 11.0.5ï¼Œä¸ ESXi 7.0.0 åŒ¹é…</span><br><span class="line">sudo apt install open-vm-tools</span><br></pre></td></tr></table></figure></p><h2 id="10-å®‰è£…å¿…å¤‡å·¥å…·">10. å®‰è£…å¿…å¤‡å·¥å…·</h2><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install zip unzip</span><br><span class="line">sudo apt install gcc make</span><br><span class="line">sudo apt install lrzsz</span><br><span class="line">sudo apt install htop #20.04å·²é»˜è®¤å®‰è£…ï¼ˆ18.04å·²é»˜è®¤å®‰è£…ï¼‰</span><br><span class="line">sudo apt install lnav</span><br><span class="line">sudo apt install fd-find #fdå‘½ä»¤ï¼Œ20.04å·²ç»æ”¶å½•</span><br><span class="line">sudo apt install ripgrep #rgå‘½ä»¤ï¼Œ20.04å·²ç»æ”¶å½•</span><br><span class="line">sudo apt install tree</span><br><span class="line">sudo apt install net-tools #ifconfigã€netstatã€routeç­‰å‘½ä»¤é›†</span><br><span class="line">sudo apt install ntp ntpdate ntpstat #å¯é€‰ï¼Œæ¨¡æ¿æœªå®‰è£…</span><br><span class="line"><span class="meta">#</span> nc lsof pstree ç³»ç»Ÿè‡ªå¸¦</span><br></pre></td></tr></table></figure></p><h2 id="11-å¼€å¯-root-è´¦å·ç™»å½•">11. å¼€å¯ root è´¦å·ç™»å½•</h2><p>Ubuntu é»˜è®¤ç¦ç”¨ root ç”¨æˆ·ç™»å½•ï¼Œå®‰è£…æ—¶å€™åˆ›å»ºç‰¹å®šç”¨æˆ·ä½œä¸ºç®¡ç†å‘˜å¸å·ï¼Œå¯ç”¨ root ç”¨æˆ·æ­¥éª¤å¦‚ä¸‹ï¼š</p><ul><li>ä¿®æ”¹ root å¯†ç </li></ul><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd root</span><br></pre></td></tr></table></figure></p><ul><li>ä¿®æ”¹é…ç½®æ–‡ä»¶</li></ul><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo cp /etc/ssh/sshd_config /etc/ssh/sshd_config.bak</span><br><span class="line"></span><br><span class="line">sudo vi /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure></p><p>æ‰¾åˆ°ä¸‹é¢ç›¸å…³é…ç½®ï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># Authentication:</span><br><span class="line"></span><br><span class="line">#LoginGraceTime 2m</span><br><span class="line">#PermitRootLogin prohibit-password</span><br><span class="line">#StrictModes yes</span><br><span class="line">#MaxAuthTries 6</span><br><span class="line">#MaxSessions 10</span><br><span class="line"></span><br><span class="line">#PubkeyAuthentication yes</span><br><span class="line"></span><br><span class="line"># Expect .ssh/authorized_keys2 to be disregarded by default in future.</span><br><span class="line">#AuthorizedKeysFile     .ssh/authorized_keys .ssh/authorized_keys2</span><br></pre></td></tr></table></figure></p><p>ä¿®æ”¹å¦‚ä¸‹</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">å¢åŠ ä¸€å¥</span><br><span class="line">PermitRootLogin yes</span><br><span class="line"></span><br><span class="line">å¿«é€Ÿé…ç½®ï¼š</span><br><span class="line">sudo sed -i "/^#PermitRootLogin/c "PermitRootLogin" "yes"" /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure></p><p>è¡¥å……</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PermitRootLogin prohibit-password  #å…è®¸rootç™»å½•ï¼Œä½†ç¦æ­¢é€‚ç”¨å¯†ç è®¤è¯</span><br><span class="line">å¯ä»¥é…åˆä½¿ç”¨Pubkeyè®¤è¯ï¼Œä¿®æ”¹PubkeyAuthentication yes</span><br></pre></td></tr></table></figure></p><ul><li>é‡å¯æœåŠ¡ç”Ÿæ•ˆ</li></ul><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart ssh</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;æ–°ç‰¹æ€§&quot;&gt;æ–°ç‰¹æ€§&lt;/h2&gt;
&lt;h3 id=&quot;updated-packages&quot;&gt;Updated Packages&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Linux Kernel 5.4&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Toolchain Upgrades
      
    
    </summary>
    
    
    
      <category term="Linux" scheme="http://sysin.org/tags/Linux/"/>
    
      <category term="Ubuntu" scheme="http://sysin.org/tags/Ubuntu/"/>
    
  </entry>
  
  <entry>
    <title>macOS Catalina æç¤ºï¼šâ€œåº”ç”¨åç§°â€ å·²æŸåï¼Œæ— æ³•æ‰“å¼€çš„è§£å†³æ–¹æ³•æ€»ç»“</title>
    <link href="http://sysin.org/article/macOS_Catalina_%E6%8F%90%E7%A4%BA%EF%BC%9A%E2%80%9C%E5%BA%94%E7%94%A8%E5%90%8D%E7%A7%B0%E2%80%9D%E5%B7%B2%E6%8D%9F%E5%9D%8F%EF%BC%8C%E6%97%A0%E6%B3%95%E6%89%93%E5%BC%80%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/"/>
    <id>http://sysin.org/article/macOS_Catalina_%E6%8F%90%E7%A4%BA%EF%BC%9A%E2%80%9C%E5%BA%94%E7%94%A8%E5%90%8D%E7%A7%B0%E2%80%9D%E5%B7%B2%E6%8D%9F%E5%9D%8F%EF%BC%8C%E6%97%A0%E6%B3%95%E6%89%93%E5%BC%80%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/</id>
    <published>2020-05-01T02:10:00.000Z</published>
    <updated>2020-08-03T05:33:28.635Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç°è±¡">ç°è±¡</h2><p>æç¤ºï¼šâ€œåº”ç”¨åç§°â€å·²æŸåï¼Œæ— æ³•æ‰“å¼€ã€‚ æ‚¨åº”è¯¥å°†å®ƒç§»åˆ°åºŸçº¸ç¯“ã€‚æç¤ºï¼šâ€œåº”ç”¨åç§°â€å·²æŸåï¼Œæ— æ³•æ‰“å¼€ã€‚ æ‚¨åº”è¯¥æ¨å‡ºç£ç›˜æ˜ åƒã€‚(åœ¨DMGä¸­åŒå‡»)</p><p>æç¤ºï¼šæ— æ³•æ‰“å¼€â€œåº”ç”¨åç§°â€ï¼Œå› ä¸ºæ— æ³•éªŒè¯å¼€å‘è€…ã€‚ macOSæ— æ³•éªŒè¯æ­¤Appä¸åŒ…å«æ¶æ„è½¯ä»¶ã€‚</p><p>æç¤ºï¼šâ€œåº”ç”¨åç§°â€å°†å¯¹æ‚¨çš„ç”µè„‘é€ æˆä¼¤å®³ã€‚ æ‚¨åº”è¯¥å°†å®ƒç§»åˆ°åºŸçº¸ç¯“ã€‚</p><hr><h2 id="1å…è®¸ä»»ä½•æ¥æºä¸‹è½½çš„appè¿è¡Œ">1.å…è®¸â€œä»»ä½•æ¥æºâ€ä¸‹è½½çš„Appè¿è¡Œ</h2><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo spctl --master-disable</span><br></pre></td></tr></table></figure></p><h2 id="2é‡æ–°ç­¾å">2.é‡æ–°ç­¾å</h2><p>ç¬¬ä¸€æ­¥ä¸€èˆ¬éƒ½å·²ç»æ‰§è¡Œäº†ï¼Œä¹‹å‰Appè¿è¡Œä¹Ÿæ˜¯æ­£å¸¸çš„ï¼Œå¾ˆå¤šå’Œè°è½¯ä»¶æ¥è‡ªTNTï¼ŒAppleç§»é™¤äº†TNTçš„è¯ä¹¦ï¼Œæ‰€ä»¥å‡ºç°æŠ¥é”™ã€‚</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">codesign --force --deep --sign - /Applications/name.app</span><br></pre></td></tr></table></figure></p><p><strong>Requisite</strong>: Xcode or the Apple Command Line ToolsTo install, execute</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xcode-select --install</span><br></pre></td></tr></table></figure></p><p>æ‰§è¡Œåä¸€èˆ¬å¯ä»¥æ­£å¸¸è¿è¡Œäº†ï¼Œå¦‚æœä»»ç„¶æç¤ºå·²æŸåï¼Œç»§ç»­ä¸‹ä¸€æ­¥ã€‚</p><h2 id="3ç§»é™¤è¿™ä¸ªåº”ç”¨çš„å®‰å…¨éš”ç¦»å±æ€§">3.ç§»é™¤è¿™ä¸ªåº”ç”¨çš„å®‰å…¨éš”ç¦»å±æ€§</h2><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo xattr -r -d com.apple.quarantine /Applications/name.app</span><br></pre></td></tr></table></figure></p><p>è‹¥æç¤ºï¼šæ— æ³•æ‰“å¼€â€œåº”ç”¨åç§°â€ï¼Œå› ä¸ºæ— æ³•éªŒè¯å¼€å‘è€…ã€‚macOSæ— æ³•éªŒè¯æ­¤Appä¸åŒ…å«æ¶æ„è½¯ä»¶ã€‚</p><p>å¯ä»¥å¿½ç•¥ç¬¬äºŒæ­¥æ“ä½œï¼Œç›´æ¥ç¬¬ä¸‰æ­¥ã€‚</p><p>æç¤ºï¼šå¯ä»¥å°†Appé‡æ–°æ‰“åŒ…åˆ¶ä½œDMGæ–‡ä»¶ï¼Œä¿å­˜æˆ–è€…åœ¨å…¶ä»–ç”µè„‘ä¸Šä½¿ç”¨ã€‚</p><h2 id="4è¦†ç›–æ¶æ„è½¯ä»¶ä¿æŠ¤">4.è¦†ç›–æ¶æ„è½¯ä»¶ä¿æŠ¤</h2><p>è¿˜æœ‰ä¸€ç§æƒ…å†µï¼Œ</p><p>æç¤ºï¼šâ€œåº”ç”¨åç§°â€å°†å¯¹æ‚¨çš„ç”µè„‘é€ æˆä¼¤å®³ã€‚ æ‚¨åº”è¯¥å°†å®ƒç§»åˆ°åºŸçº¸ç¯“ã€‚</p><p>æ­¥éª¤2å’Œ3æ“ä½œæ˜¯æ— æ•ˆçš„ã€‚</p><p>è§£å†³åŠæ³•ï¼š</p><p>è®¿è¾¾ -&gt; åº”ç”¨ç¨‹åº -&gt; å³å‡»è½¯ä»¶ -&gt; æ˜¾ç¤ºç®€ä»‹å‹¾é€‰&quot;è¦†ç›–æ¶æ„è½¯ä»¶ä¿æŠ¤&quot;</p><p>è¯´æ˜ï¼šæ­£å¸¸åº”ç”¨ä¸ä¼šå‡ºç°è¿™ä¸ªé€‰é¡¹</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ç°è±¡&quot;&gt;ç°è±¡&lt;/h2&gt;
&lt;p&gt;æç¤ºï¼šâ€œåº”ç”¨åç§°â€å·²æŸåï¼Œæ— æ³•æ‰“å¼€ã€‚ æ‚¨åº”è¯¥å°†å®ƒç§»åˆ°åºŸçº¸ç¯“ã€‚
æç¤ºï¼šâ€œåº”ç”¨åç§°â€å·²æŸåï¼Œæ— æ³•æ‰“å¼€ã€‚ æ‚¨åº”è¯¥æ¨å‡ºç£ç›˜æ˜ åƒã€‚(åœ¨DMGä¸­åŒå‡»)&lt;/p&gt;
&lt;p&gt;æç¤ºï¼šæ— æ³•æ‰“å¼€â€œåº”ç”¨åç§°â€ï¼Œå› ä¸ºæ— æ³•éªŒè¯å¼€å‘è€…ã€‚ macOSæ— æ³•éªŒè¯æ­¤Appä¸åŒ…
      
    
    </summary>
    
    
    
      <category term="Apple" scheme="http://sysin.org/tags/Apple/"/>
    
      <category term="macOS" scheme="http://sysin.org/tags/macOS/"/>
    
  </entry>
  
  <entry>
    <title>ALPN (Application-Layer Protocol Negotiation) </title>
    <link href="http://sysin.org/article/ALPN/"/>
    <id>http://sysin.org/article/ALPN/</id>
    <published>2020-05-01T02:00:00.000Z</published>
    <updated>2020-08-03T05:31:49.559Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ALPN (Application Layer Protocol Negotiation)æ˜¯TLSçš„æ‰©å±•ï¼Œå…è®¸åœ¨å®‰å…¨è¿æ¥çš„åŸºç¡€ä¸Šè¿›è¡Œåº”ç”¨å±‚åè®®çš„åå•†ã€‚ALPNæ”¯æŒä»»æ„åº”ç”¨å±‚åè®®çš„åå•†ï¼Œç›®å‰åº”ç”¨æœ€å¤šæ˜¯HTTP2çš„åå•†ã€‚å½“å‰ä¸»æµæµè§ˆå™¨ï¼Œéƒ½åªæ”¯æŒåŸºäº HTTPS éƒ¨ç½²çš„ HTTP/2ï¼Œå› ä¸ºæµè§ˆå™¨æ˜¯åŸºäºALPNåè®®æ¥åˆ¤æ–­æœåŠ¡å™¨æ˜¯å¦æ”¯æŒHTTP2åè®®ã€‚</p></blockquote><h2 id="about">About</h2><p><a href="https://developer.mozilla.org/en-US/docs/Glossary" target="_blank" rel="noopener">See MDN Web Docs Glossary: Definitions of Web-related terms</a><a href="https://developer.mozilla.org/en-US/docs/Glossary/ALPN" target="_blank" rel="noopener">ALPN</a></p><p><strong>Application-Layer <a href="https://developer.mozilla.org/en-US/docs/Glossary/Protocol" target="_blank" rel="noopener">Protocol</a> Negotiation</strong> (<strong>ALPN</strong>) is a <a href="https://developer.mozilla.org/en-US/docs/Glossary/TLS" target="_blank" rel="noopener">TLS</a> extension which indicates what application layer protocol is  negotiating the encryped connection without requiring additional round  trips.</p><table><thead><tr><th>Protocol</th><th>Identification sequence</th></tr></thead><tbody><tr><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/HTTP" target="_blank" rel="noopener">HTTP</a>/1.1</td><td><code>0x68 0x74 0x74 0x70 0x2F 0x31 0x2E 0x31</code> (&quot;http/1.1&quot;)</td></tr><tr><td><a href="https://developer.mozilla.org/en-US/docs/Glossary/HTTP_2" target="_blank" rel="noopener">HTTP/2</a></td><td><code>0x68 0x32</code> (&quot;h2&quot;)</td></tr><tr><td>HTTP/2 over cleartext <a href="https://developer.mozilla.org/en-US/docs/Glossary/TCP" target="_blank" rel="noopener">TCP</a></td><td><code>0x68 0x32 0x63</code> (&quot;h2c&quot;)</td></tr></tbody></table><h2 id="specifications">Specifications</h2><table><thead><tr><th>Specification</th><th>Status</th><th>Notes</th></tr></thead><tbody><tr><td><a href="https://tools.ietf.org/html/rfc7301" target="_blank" rel="noopener">RFC 7301</a></td><td>IETF RFC</td><td>Initial definition.</td></tr></tbody></table><h2 id="support">Support</h2><p><strong>æµè§ˆå™¨å’ŒæœåŠ¡ç«¯éƒ½æ”¯æŒALPN åå•†ï¼Œæ˜¯ç”¨ä¸Š HTTP/2 çš„å¤§å‰æã€‚</strong></p><ul><li>å…³äºæµè§ˆå™¨æ”¯æŒ</li></ul><p>å‚çœ‹<a href="https://www.nginx.com/blog/supporting-http2-google-chrome-users/" target="_blank" rel="noopener">nginxå®˜ç½‘æ–‡ç« </a></p><p>In May 2016, Google released Chrome build 51, eliminating support for SPDY and NPN in favor of HTTP/2 and ALPN. Although concern was  expressed <a href="https://ma.ttias.be/day-google-chrome-disables-http2-nearly-everyone-may-31st-2016/" target="_blank" rel="noopener">publicly</a> and privately about the negative consequences before the change was made, Google went ahead, providing a <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=527066" target="_blank" rel="noopener">brief explanation</a> of its reasons for dropping NPN.</p><p>At that time Chrome was the only major browser that didnâ€™t support  NPN, so users could regain HTTP/2 access by switching to another  browser. However, by midâ€‘2017 all of the <a href="https://www.w3counter.com/globalstats.php" target="_blank" rel="noopener">most popular browser vendors</a> except Safari (version 10) had dropped support for NPN, starting with the following versions (see the <strong>Protocol Details</strong> section on the page for each browser at <a href="https://www.ssllabs.com/ssltest/clients.html" target="_blank" rel="noopener">Qualys SSL Labs</a>):</p><pre><code>- Chrome 51- Edge 12- Firefox 53- Internet Explorer 11- Opera 38</code></pre><ul><li>å¤§éƒ¨åˆ† Web Server éƒ½ä¾èµ– OpenSSL åº“æä¾› httpsæœåŠ¡ï¼Œæ˜¯å¦æ”¯æŒ ALPN å®Œå…¨å–å†³äºä½¿ç”¨çš„ OpenSSL ç‰ˆæœ¬ï¼Œ<strong>OpenSSL 1.0.2 ç‰ˆæœ¬æ‰å¼€å§‹æ”¯æŒ ALPNã€‚</strong></li></ul><p>The table summarizes Linux operating system support for ALPN and NPN as of September 2017.</p><table><thead><tr><th>Operating System</th><th>OpenSSL Version</th><th>ALPN/NPN Support</th></tr></thead><tbody><tr><td>CentOS/Oracle Linux/RHEL 6.5+, 7.0â€“7.3</td><td>1.0.1e</td><td>NPN</td></tr><tr><td>CentOS/Oracle Linux/RHEL 7.4+</td><td>1.0.2k</td><td>ALPN and NPN</td></tr><tr><td>Debian 7.0</td><td>1.0.1e</td><td>NPN</td></tr><tr><td>Debian 8.0</td><td>1.0.1k</td><td>NPN</td></tr><tr><td>Debian 9.0</td><td>1.1.0f</td><td>ALPN and NPN</td></tr><tr><td>Ubuntu 12.04 LTS</td><td>1.0.1</td><td>NPN</td></tr><tr><td>Ubuntu 14.04 LTS</td><td>1.0.1f</td><td>NPN</td></tr><tr><td>Ubuntu 16.04 LTS</td><td>1.0.2g</td><td>ALPN and NPN</td></tr></tbody></table><h2 id="æ£€æµ‹å·¥å…·">æ£€æµ‹å·¥å…·</h2><p>https://http2.pro/</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;ALPN (Application Layer Protocol Negotiation)æ˜¯TLSçš„æ‰©å±•ï¼Œå…è®¸åœ¨å®‰å…¨è¿æ¥çš„åŸºç¡€ä¸Šè¿›è¡Œåº”ç”¨å±‚åè®®çš„åå•†ã€‚ALPNæ”¯æŒä»»æ„åº”ç”¨å±‚åè®®çš„åå•†ï¼Œç›®å‰åº”ç”¨æœ€å¤šæ˜¯HTTP2çš„åå•†ã€‚å½“å‰ä¸»æµæµè§ˆå™¨ï¼Œéƒ½åªæ”¯æŒåŸºäº H
      
    
    </summary>
    
    
    
      <category term="HTTP" scheme="http://sysin.org/tags/HTTP/"/>
    
  </entry>
  
  <entry>
    <title>ç»™ macOS zsh æ·»åŠ  ll å‘½ä»¤</title>
    <link href="http://sysin.org/article/macOS_ll/"/>
    <id>http://sysin.org/article/macOS_ll/</id>
    <published>2020-04-21T02:10:00.000Z</published>
    <updated>2020-08-03T05:33:35.347Z</updated>
    
    <content type="html"><![CDATA[<p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">echo '</span><br><span class="line"><span class="meta">#</span>!/bin/zsh</span><br><span class="line">ls -ahlF</span><br><span class="line">' &gt; /usr/local/bin/ll</span><br></pre></td></tr></table></figure></p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x /usr/local/bin/ll</span><br></pre></td></tr></table></figure></p><p><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> ~ % ll</span><br><span class="line">total 40</span><br><span class="line">drwxr-xr-x+ 15 sa    staff   480B  7  9 21:48 ./</span><br><span class="line">drwxr-xr-x   5 root  admin   160B  1  1  2020 ../</span><br><span class="line">-r--------   1 sa    staff     9B  5 28 02:55 .CFUserTextEncoding</span><br><span class="line">-rw-r--r--@  1 sa    staff    10K  6 30 19:47 .DS_Store</span><br><span class="line">drwx------   2 sa    staff    64B  7  9 21:48 .Trash/</span><br><span class="line">-rw-------   1 sa    staff   1.4K  6 30 20:50 .zsh_history</span><br><span class="line">drwx------   7 sa    staff   224B  7  9 21:48 .zsh_sessions/</span><br><span class="line">drwx------+  8 sa    staff   256B  7  9 22:59 Desktop/</span><br><span class="line">drwx------+  3 sa    staff    96B  5 28 02:55 Documents/</span><br><span class="line">drwx------+  3 sa    staff    96B  5 28 02:55 Downloads/</span><br><span class="line">drwx------@ 60 sa    staff   1.9K  7  3 06:06 Library/</span><br><span class="line">drwx------+  4 sa    staff   128B  6 30 06:11 Movies/</span><br><span class="line">drwx------+  3 sa    staff    96B  5 28 02:55 Music/</span><br><span class="line">drwx------+  4 sa    staff   128B  6 30 06:09 Pictures/</span><br><span class="line">drwxr-xr-x+  4 sa    staff   128B  5 28 02:55 Public/</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span cl
      
    
    </summary>
    
    
    
      <category term="Apple" scheme="http://sysin.org/tags/Apple/"/>
    
      <category term="macOS" scheme="http://sysin.org/tags/macOS/"/>
    
  </entry>
  
  <entry>
    <title>é™æ€è·¯ç”±å®ä¾‹</title>
    <link href="http://sysin.org/article/Static-Route-Windows_Linux_Cisco_VMware/"/>
    <id>http://sysin.org/article/Static-Route-Windows_Linux_Cisco_VMware/</id>
    <published>2020-03-20T02:10:00.000Z</published>
    <updated>2020-08-03T05:33:48.159Z</updated>
    
    <content type="html"><![CDATA[<h2 id="windows">Windows</h2><p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">route add -p <span class="number">10.0</span><span class="number">.0</span><span class="number">.0</span> mask <span class="number">255.0</span><span class="number">.0</span><span class="number">.0</span> <span class="number">10.10</span><span class="number">.16</span><span class="number">.1</span></span><br><span class="line"></span><br><span class="line">route add -p <span class="number">10.10</span><span class="number">.11</span><span class="number">.0</span> mask <span class="number">255.255</span><span class="number">.255</span><span class="number">.0</span> <span class="number">10.10</span><span class="number">.12</span><span class="number">.1</span></span><br><span class="line">route add -p <span class="number">10.10</span><span class="number">.13</span><span class="number">.0</span> mask <span class="number">255.255</span><span class="number">.255</span><span class="number">.0</span> <span class="number">10.10</span><span class="number">.12</span><span class="number">.1</span></span><br><span class="line">route add -p <span class="number">10.10</span><span class="number">.14</span><span class="number">.0</span> mask <span class="number">255.255</span><span class="number">.255</span><span class="number">.0</span> <span class="number">10.10</span><span class="number">.12</span><span class="number">.1</span></span><br></pre></td></tr></table></figure></p><h2 id="cisco-ios-ios-xe">Cisco IOSã€IOS-XE</h2><p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ip route <span class="number">10.0</span><span class="number">.0</span><span class="number">.0</span> <span class="number">255.0</span><span class="number">.0</span><span class="number">.0</span> <span class="number">10.10</span><span class="number">.200</span><span class="number">.2254</span></span><br><span class="line">ip route <span class="number">10.10</span><span class="number">.11</span><span class="number">.0</span> <span class="number">255.255</span><span class="number">.255</span><span class="number">.0</span> <span class="number">10.10</span><span class="number">.12</span><span class="number">.1</span></span><br></pre></td></tr></table></figure></p><h2 id="cisco-nx-os">Cisco NX-OS</h2><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">N7K(config)#vrf context management</span><br><span class="line">N7K(config-vrf)# ip route 0.0.0.0/0 &lt;ä¸‹ä¸€è·³IP&gt;</span><br></pre></td></tr></table></figure></p><h2 id="linuxé€šç”¨ä¸´æ—¶">Linuxï¼ˆé€šç”¨ï¼Œä¸´æ—¶ï¼‰</h2><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">route add -net 10.10.11.0/20 gw 10.10.12.1</span><br></pre></td></tr></table></figure></p><h2 id="centosæ°¸ä¹…">CentOSï¼ˆæ°¸ä¹…ï¼‰</h2><p>æ¨èæ–¹å¼ï¼š</p><p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">echo '</span><br><span class="line"><span class="number">10.10</span><span class="number">.12</span><span class="number">.0</span>/<span class="number">24</span> via <span class="number">10.10</span><span class="number">.15</span><span class="number">.1</span></span><br><span class="line"><span class="number">10.10</span><span class="number">.13</span><span class="number">.0</span>/<span class="number">24</span> via <span class="number">10.10</span><span class="number">.15</span><span class="number">.1</span></span><br><span class="line"><span class="number">10.10</span><span class="number">.14</span><span class="number">.0</span>/<span class="number">24</span> via <span class="number">10.10</span><span class="number">.15</span><span class="number">.1</span></span><br><span class="line"><span class="number">10.10</span><span class="number">.15</span><span class="number">.0</span>/<span class="number">24</span> via <span class="number">10.10</span><span class="number">.15</span><span class="number">.1</span></span><br><span class="line"><span class="number">10.10</span><span class="number">.16</span><span class="number">.0</span>/<span class="number">24</span> via <span class="number">10.10</span><span class="number">.15</span><span class="number">.1</span></span><br><span class="line">' &gt; /etc/sysconfig/network-scripts/route-eth0</span><br></pre></td></tr></table></figure></p><p>å¦å¤–ä¸€ç§æ–¹æ³•ï¼šä½¿ç”¨network.serviceï¼ˆCentOS7é»˜è®¤ï¼ŒCentOS8éœ€è¦<code>yum install network-scripts</code>ï¼‰</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">echo &apos;</span><br><span class="line">any net 10.10.13.0/24 gw 10.10.15.1</span><br><span class="line">any net 10.10.14.0/24 gw 10.10.15.1</span><br><span class="line">any net 10.10.15.0/24 gw 10.10.15.1</span><br><span class="line">any net 10.10.16.0/24 gw 10.10.15.1</span><br><span class="line">&apos; &gt; /etc/sysconfig/static-routes</span><br></pre></td></tr></table></figure></p><p>éªŒè¯</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip route</span><br></pre></td></tr></table></figure></p><h2 id="ubuntuæ°¸ä¹…">Ubuntuï¼ˆæ°¸ä¹…ï¼‰</h2><p>16.04</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#æ·»åŠ </span><br><span class="line">cat &gt;&gt; /etc/network/interfaces &lt;&lt; EOF</span><br><span class="line"># static routes</span><br><span class="line">up route add -net 10.10.12.0/24 gw 10.10.15.1 dev eth0</span><br><span class="line">up route add -net 10.10.13.0/24 gw 10.10.15.1 dev eth0</span><br><span class="line">up route add -net 10.10.14.0/24 gw 10.10.15.1 dev eth0</span><br><span class="line">up route add -net 10.10.15.0/24 gw 10.10.15.1 dev eth0</span><br><span class="line">up route add -net 10.10.16.0/24 gw 10.10.15.1 dev eth0</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">#é‡å¯ç½‘ç»œ</span><br><span class="line">service networking restart</span><br><span class="line"></span><br><span class="line">#éªŒè¯</span><br><span class="line">ip route</span><br></pre></td></tr></table></figure></p><h3 id="netplan"><a href="https://netplan.io/examples" target="_blank" rel="noopener">NetPlan</a></h3><p>Ubuntu 18.04ã€20.04åŠä»¥ä¸Š</p><p>18.04: /etc/netplan/50-cloud-init.yaml</p><p>20.04ï¼š/etc/netplan/00-installer-config.yaml</p><p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">network:</span></span><br><span class="line"><span class="attr">  version:</span> <span class="number">2</span></span><br><span class="line"><span class="attr">  ethernets:</span></span><br><span class="line"><span class="attr">    eth0:</span></span><br><span class="line"><span class="attr">      addresses:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="number">10.10</span><span class="number">.15</span><span class="number">.5</span><span class="string">/24</span></span><br><span class="line"><span class="attr">      gateway4:</span> <span class="number">10.10</span><span class="number">.15</span><span class="number">.1</span></span><br><span class="line"><span class="attr">      nameservers:</span></span><br><span class="line"><span class="attr">        addresses:</span></span><br><span class="line"><span class="bullet">        -</span> <span class="number">10.10</span><span class="number">.15</span><span class="number">.11</span></span><br><span class="line"><span class="bullet">        -</span> <span class="number">10.10</span><span class="number">.15</span><span class="number">.12</span></span><br><span class="line"><span class="attr">        search:</span></span><br><span class="line"><span class="bullet">        -</span> <span class="string">sysin.org</span></span><br></pre></td></tr></table></figure></p><p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ³¨é‡Šgateway4</span></span><br><span class="line">sed -i 's/gateway4.*/#&amp;/' /etc/netplan/00-installer-config.yaml</span><br><span class="line"><span class="comment">//è¿½åŠ é™æ€è·¯ç”±</span></span><br><span class="line">cat &gt;&gt; /etc/netplan/<span class="number">00</span>-installer-config.yaml &lt;&lt; EOF</span><br><span class="line">      routes:</span><br><span class="line">        - to: <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span>/<span class="number">0</span></span><br><span class="line">          via: <span class="number">10.10</span><span class="number">.15</span><span class="number">.254</span></span><br><span class="line">          metric: <span class="number">100</span></span><br><span class="line">        - to: <span class="number">10.10</span><span class="number">.12</span><span class="number">.0</span>/<span class="number">24</span></span><br><span class="line">          via: <span class="number">10.10</span><span class="number">.15</span><span class="number">.1</span></span><br><span class="line">          metric: <span class="number">100</span></span><br><span class="line">        - to: <span class="number">10.10</span><span class="number">.13</span><span class="number">.0</span>/<span class="number">24</span></span><br><span class="line">          via: <span class="number">10.10</span><span class="number">.15</span><span class="number">.1</span></span><br><span class="line">          metric: <span class="number">100</span></span><br><span class="line">        - to: <span class="number">10.10</span><span class="number">.14</span><span class="number">.0</span>/<span class="number">24</span></span><br><span class="line">          via: <span class="number">10.10</span><span class="number">.15</span><span class="number">.1</span></span><br><span class="line">          metric: <span class="number">100</span></span><br><span class="line">        - to: <span class="number">10.10</span><span class="number">.15</span><span class="number">.0</span>/<span class="number">24</span></span><br><span class="line">          via: <span class="number">10.10</span><span class="number">.15</span><span class="number">.1</span></span><br><span class="line">          metric: <span class="number">100</span></span><br><span class="line">        - to: <span class="number">10.10</span><span class="number">.16</span><span class="number">.0</span>/<span class="number">24</span></span><br><span class="line">          via: <span class="number">10.10</span><span class="number">.15</span><span class="number">.1</span></span><br><span class="line">          metric: <span class="number">100</span></span><br><span class="line">EOF</span><br></pre></td></tr></table></figure></p><p>metricï¼šä¸ºè·¯ç”±æŒ‡å®šæ‰€éœ€è·ƒç‚¹æ•°çš„æ•´æ•°å€¼ï¼ˆèŒƒå›´æ˜¯ 1 ~ 9999ï¼‰ï¼ŒMetricçš„å€¼è¶Šå°ï¼Œä¼˜å…ˆçº§è¶Šé«˜ã€‚</p><p>å®Œæ•´é…ç½®ç¤ºä¾‹ï¼ˆ&gt;è¦†ç›–ï¼‰</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">cat &gt; /etc/netplan/00-installer-config.yaml &lt;&lt; EOF</span><br><span class="line">network:</span><br><span class="line">  version: 2</span><br><span class="line">  ethernets:</span><br><span class="line">    eth0:</span><br><span class="line">      addresses:</span><br><span class="line">        - 10.10.15.57/24</span><br><span class="line">      #gateway4: 10.10.15.254</span><br><span class="line">      nameservers:</span><br><span class="line">        addresses:</span><br><span class="line">          - 10.10.15.11</span><br><span class="line">          - 10.10.15.12</span><br><span class="line">        search:</span><br><span class="line">          - sysin.org</span><br><span class="line">      routes:</span><br><span class="line">        - to: 0.0.0.0/0</span><br><span class="line">          via: 10.10.15.254</span><br><span class="line">          metric: 100</span><br><span class="line">        - to: 10.10.12.0/24</span><br><span class="line">          via: 10.10.15.1</span><br><span class="line">          metric: 100</span><br><span class="line">        - to: 10.10.13.0/24</span><br><span class="line">          via: 10.10.15.1</span><br><span class="line">          metric: 100</span><br><span class="line">        - to: 10.10.14.0/24</span><br><span class="line">          via: 10.10.15.1</span><br><span class="line">          metric: 100</span><br><span class="line">        - to: 10.10.15.0/24</span><br><span class="line">          via: 10.10.15.1</span><br><span class="line">          metric: 100</span><br><span class="line">        - to: 10.10.16.0/24</span><br><span class="line">          via: 10.10.15.1</span><br><span class="line">          metric: 100</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure></p><ul><li>å¤šç½‘å…³</li></ul><p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">network:</span></span><br><span class="line"><span class="attr">  version:</span> <span class="number">2</span></span><br><span class="line"><span class="attr">  renderer:</span> <span class="string">networkd</span></span><br><span class="line"><span class="attr">  ethernets:</span></span><br><span class="line"><span class="attr">    eth0:</span></span><br><span class="line"><span class="attr">      addresses:</span></span><br><span class="line"><span class="bullet">        -</span> <span class="number">9.0</span><span class="number">.0</span><span class="number">.9</span><span class="string">/24</span></span><br><span class="line"><span class="bullet">        -</span> <span class="number">10.0</span><span class="number">.0</span><span class="number">.10</span><span class="string">/24</span></span><br><span class="line"><span class="bullet">        -</span> <span class="number">11.0</span><span class="number">.0</span><span class="number">.11</span><span class="string">/24</span></span><br><span class="line">      <span class="comment">#gateway4:  # unset, since we configure routes below</span></span><br><span class="line"><span class="attr">      routes:</span></span><br><span class="line"><span class="attr">        - to:</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span><span class="string">/0</span></span><br><span class="line"><span class="attr">          via:</span> <span class="number">9.0</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line"><span class="attr">          metric:</span> <span class="number">100</span></span><br><span class="line"><span class="attr">        - to:</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span><span class="string">/0</span></span><br><span class="line"><span class="attr">          via:</span> <span class="number">10.0</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line"><span class="attr">          metric:</span> <span class="number">100</span></span><br><span class="line"><span class="attr">        - to:</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span><span class="string">/0</span></span><br><span class="line"><span class="attr">          via:</span> <span class="number">11.0</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line"><span class="attr">          metric:</span> <span class="number">100</span></span><br></pre></td></tr></table></figure></p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netplan apply</span><br></pre></td></tr></table></figure></p><p>è¡¥å……ï¼šyaml åŸºç¡€</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å¤§å°å†™æ•æ„Ÿ</span><br><span class="line">ä½¿ç”¨ç¼©è¿›è¡¨ç¤ºå±‚çº§å…³ç³»</span><br><span class="line">ç¼©è¿›æ—¶ä¸å…è®¸ä½¿ç”¨Tabé”®ï¼Œåªå…è®¸ä½¿ç”¨ç©ºæ ¼</span><br><span class="line">ç¼©è¿›çš„ç©ºæ ¼æ•°ç›®ä¸é‡è¦ï¼Œåªè¦ç›¸åŒå±‚çº§çš„å…ƒç´ å·¦ä¾§å¯¹é½å³å¯</span><br></pre></td></tr></table></figure></p><p>ç¼©è¿›å»ºè®®ä½¿ç”¨2ä¸ªç©ºæ ¼ï¼Œä½¿ç”¨çŸ­æ¨ªçº¿â€œ-â€è¡¨ç¤ºåˆ—è¡¨æ—¶ï¼Œâ€- â€œåé¢çš„æ¡ç›®éœ€è¦å¯¹é½ï¼Œå¦‚æœä½¿ç”¨è¶…è¿‡2ä¸ªç©ºæ ¼ç¼©è¿›ï¼Œæ ¼å¼å°†æœ‰è¯¯ã€‚</p><h2 id="vmware-esxi">VMware ESXi</h2><p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#æŸ¥çœ‹è·¯ç”±</span><br><span class="line">esxcfg-route -l</span><br><span class="line">#æ·»åŠ </span><br><span class="line">esxcli network ip route ipv4 add --gateway <span class="number">10.10</span><span class="number">.15</span><span class="number">.1</span> --network <span class="number">10.10</span><span class="number">.12</span><span class="number">.0</span>/<span class="number">24</span></span><br><span class="line">esxcli network ip route ipv4 add --gateway <span class="number">10.10</span><span class="number">.15</span><span class="number">.1</span> --network <span class="number">10.10</span><span class="number">.13</span><span class="number">.0</span>/<span class="number">24</span></span><br><span class="line">esxcli network ip route ipv4 add --gateway <span class="number">10.10</span><span class="number">.15</span><span class="number">.1</span> --network <span class="number">10.10</span><span class="number">.14</span><span class="number">.0</span>/<span class="number">24</span></span><br><span class="line">esxcli network ip route ipv4 add --gateway <span class="number">10.10</span><span class="number">.15</span><span class="number">.1</span> --network <span class="number">10.10</span><span class="number">.15</span><span class="number">.0</span>/<span class="number">24</span></span><br><span class="line">esxcli network ip route ipv4 add --gateway <span class="number">10.10</span><span class="number">.15</span><span class="number">.1</span> --network <span class="number">10.10</span><span class="number">.16</span><span class="number">.0</span>/<span class="number">24</span></span><br><span class="line">#åˆ é™¤é»˜è®¤è·¯ç”±</span><br><span class="line">esxcli network ip route ipv4 remove -n <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span>/<span class="number">0</span> -g <span class="number">10.10</span><span class="number">.15</span><span class="number">.1</span></span><br><span class="line">#æ¢å¤é»˜è®¤è·¯ç”±</span><br><span class="line">esxcli network ip route ipv4 add --gateway <span class="number">10.10</span><span class="number">.15</span><span class="number">.254</span> --network <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span>/<span class="number">0</span></span><br><span class="line">#æŸ¥çœ‹è·¯ç”±</span><br><span class="line">esxcfg-route -l</span><br></pre></td></tr></table></figure></p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">esxcfg-route -l</span><br><span class="line"></span><br><span class="line">esxcli network ip route ipv4 add --gateway 10.10.14.1 --network 10.10.12.0/24</span><br><span class="line">esxcli network ip route ipv4 add --gateway 10.10.14.1 --network 10.10.13.0/24</span><br><span class="line">esxcli network ip route ipv4 add --gateway 10.10.14.1 --network 10.10.14.0/24</span><br><span class="line">esxcli network ip route ipv4 add --gateway 10.10.14.1 --network 10.10.15.0/24</span><br><span class="line">esxcli network ip route ipv4 add --gateway 10.10.14.1 --network 10.10.16.0/24</span><br><span class="line"></span><br><span class="line">esxcli network ip route ipv4 remove -n 0.0.0.0/0 -g 10.10.14.1</span><br><span class="line"></span><br><span class="line">esxcli network ip route ipv4 add --gateway 10.10.14.254 --network 0.0.0.0/0</span><br><span class="line"></span><br><span class="line">esxcfg-route -l</span><br></pre></td></tr></table></figure></p><h2 id="nsx-t">NSX-T</h2><p>åŸºäºUbuntuï¼Œä½†ä¸å¯æ‰‹åŠ¨ç¼–è¾‘ï¼Œä»¥ä¸‹ä¸º nsxcli (ä½¿ç”¨adminè´¦å·ç™»å½•)</p><p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> route prefix <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span>/<span class="number">0</span> gateway <span class="number">10.10</span><span class="number">.15</span><span class="number">.254</span> interface eth0</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> route prefix <span class="number">10.10</span><span class="number">.12</span><span class="number">.0</span>/<span class="number">24</span> gateway <span class="number">10.10</span><span class="number">.15</span><span class="number">.1</span> interface eth0</span><br><span class="line"><span class="built_in">set</span> route prefix <span class="number">10.10</span><span class="number">.13</span><span class="number">.0</span>/<span class="number">24</span> gateway <span class="number">10.10</span><span class="number">.15</span><span class="number">.1</span> interface eth0</span><br><span class="line"><span class="built_in">set</span> route prefix <span class="number">10.10</span><span class="number">.14</span><span class="number">.0</span>/<span class="number">24</span> gateway <span class="number">10.10</span><span class="number">.15</span><span class="number">.1</span> interface eth0</span><br><span class="line"><span class="built_in">set</span> route prefix <span class="number">10.10</span><span class="number">.15</span><span class="number">.0</span>/<span class="number">24</span> gateway <span class="number">10.10</span><span class="number">.15</span><span class="number">.1</span> interface eth0</span><br><span class="line"><span class="built_in">set</span> route prefix <span class="number">10.10</span><span class="number">.16</span><span class="number">.0</span>/<span class="number">24</span> gateway <span class="number">10.10</span><span class="number">.15</span><span class="number">.1</span> interface eth0</span><br><span class="line"></span><br><span class="line">get route</span><br></pre></td></tr></table></figure></p><h2 id="vmware-vrealize-network-insight">VMware vRealize Network Insight</h2><p>åŸºäºUbunt 16.04ï¼Œä¸Ubuntuç›¸åŒ</p><p>ä½¿ç”¨supportè´¦å·ç™»å½•</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#æ·»åŠ </span><br><span class="line">cat &gt;&gt; /etc/network/interfaces &lt;&lt; EOF</span><br><span class="line"># static routes</span><br><span class="line">up route add -net 10.10.12.0/24 gw 10.10.15.1 dev eth0</span><br><span class="line">up route add -net 10.10.13.0/24 gw 10.10.15.1 dev eth0</span><br><span class="line">up route add -net 10.10.14.0/24 gw 10.10.15.1 dev eth0</span><br><span class="line">up route add -net 10.10.15.0/24 gw 10.10.15.1 dev eth0</span><br><span class="line">up route add -net 10.10.16.0/24 gw 10.10.15.1 dev eth0</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">#é‡å¯ç½‘ç»œ</span><br><span class="line">service networking restart</span><br><span class="line"></span><br><span class="line">#éªŒè¯</span><br><span class="line">ip route</span><br></pre></td></tr></table></figure></p><h2 id="vmware-photon-os">VMware Photon OS</h2><p>vCenter Server 6.x/7.0</p><p>ç”¨äºvRealize 8.x ç³»åˆ—äº§å“ï¼ˆ3.0ï¼‰ï¼ŒvSphere_Replicationï¼ˆ2.0ï¼‰ï¼ŒSRMï¼ˆ2.0ï¼‰</p><p>ç¼–è¾‘/etc/systemd/network/10-eth0.networkæ·»åŠ [Route]Destination=10.1.0.0/16Gateway=10.5.0.1GatewayOnlink=true #å¯é€‰</p><p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">cat &gt;&gt; /etc/systemd/network/<span class="number">10</span>-eth0.network &lt;&lt; EOF</span><br><span class="line"></span><br><span class="line">[Route]</span><br><span class="line">Destination=<span class="number">10.10</span><span class="number">.12</span><span class="number">.0</span>/<span class="number">24</span></span><br><span class="line">Gateway=<span class="number">10.10</span><span class="number">.15</span><span class="number">.1</span></span><br><span class="line">GatewayOnlink=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line">[Route]</span><br><span class="line">Destination=<span class="number">10.10</span><span class="number">.13</span><span class="number">.0</span>/<span class="number">24</span></span><br><span class="line">Gateway=<span class="number">10.10</span><span class="number">.15</span><span class="number">.1</span></span><br><span class="line">GatewayOnlink=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line">[Route]</span><br><span class="line">Destination=<span class="number">10.10</span><span class="number">.14</span><span class="number">.0</span>/<span class="number">24</span></span><br><span class="line">Gateway=<span class="number">10.10</span><span class="number">.15</span><span class="number">.1</span></span><br><span class="line">GatewayOnlink=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line">[Route]</span><br><span class="line">Destination=<span class="number">10.10</span><span class="number">.15</span><span class="number">.0</span>/<span class="number">24</span></span><br><span class="line">Gateway=<span class="number">10.10</span><span class="number">.15</span><span class="number">.1</span></span><br><span class="line">GatewayOnlink=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line">[Route]</span><br><span class="line">Destination=<span class="number">10.10</span><span class="number">.16</span><span class="number">.0</span>/<span class="number">24</span></span><br><span class="line">Gateway=<span class="number">10.10</span><span class="number">.15</span><span class="number">.1</span></span><br><span class="line">GatewayOnlink=<span class="literal">true</span></span><br><span class="line">EOF</span><br></pre></td></tr></table></figure></p><p>é‡å¯ç½‘ç»œ</p><p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart systemd-networkd</span><br></pre></td></tr></table></figure></p><p>éªŒè¯</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip route</span><br></pre></td></tr></table></figure></p><h3 id="vmware-cloud-director-availability-40">VMware Cloud Director Availability 4.0</h3><p>æ³¨æ„ï¼šæ‰‹åŠ¨ä¿®æ”¹ç½‘ç»œé…ç½®åï¼ŒWebUIä¸­æ˜¾ç¤ºé”™è¯¯æ— æ³•ç›´æ¥é…ç½®ã€‚</p><p>åŸºäº Photon OSï¼Œä½†æ˜¯ç½‘å¡åç§°ä¸ä¸€æ ·ã€‚</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">cat &gt;&gt; /etc/systemd/network/ens160.network &lt;&lt; EOF</span><br><span class="line"></span><br><span class="line">[Route]</span><br><span class="line">Destination=10.10.12.0/24</span><br><span class="line">Gateway=10.10.15.1</span><br><span class="line">GatewayOnlink=true</span><br><span class="line"></span><br><span class="line">[Route]</span><br><span class="line">Destination=10.10.13.0/24</span><br><span class="line">Gateway=10.10.15.1</span><br><span class="line">GatewayOnlink=true</span><br><span class="line"></span><br><span class="line">[Route]</span><br><span class="line">Destination=10.10.14.0/24</span><br><span class="line">Gateway=10.10.15.1</span><br><span class="line">GatewayOnlink=true</span><br><span class="line"></span><br><span class="line">[Route]</span><br><span class="line">Destination=10.10.15.0/24</span><br><span class="line">Gateway=10.10.15.1</span><br><span class="line">GatewayOnlink=true</span><br><span class="line"></span><br><span class="line">[Route]</span><br><span class="line">Destination=10.10.16.0/24</span><br><span class="line">Gateway=10.10.15.1</span><br><span class="line">GatewayOnlink=true</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure></p><p>é‡å¯ç½‘ç»œ</p><p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart systemd-networkd</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;windows&quot;&gt;Windows&lt;/h2&gt;
&lt;p&gt;&lt;figure class=&quot;highlight c&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;
      
    
    </summary>
    
    
    
      <category term="Linux" scheme="http://sysin.org/tags/Linux/"/>
    
      <category term="Network" scheme="http://sysin.org/tags/Network/"/>
    
      <category term="Route" scheme="http://sysin.org/tags/Route/"/>
    
      <category term="Cisco" scheme="http://sysin.org/tags/Cisco/"/>
    
  </entry>
  
  <entry>
    <title>Chrome ä¸èƒ½æ‰“å¼€ kubernetes Dashboard è§£å†³æ–¹æ³•</title>
    <link href="http://sysin.org/article/Chrome_%E4%B8%8D%E8%83%BD%E6%89%93%E5%BC%80_kubernetes_Dashboard_%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/"/>
    <id>http://sysin.org/article/Chrome_%E4%B8%8D%E8%83%BD%E6%89%93%E5%BC%80_kubernetes_Dashboard_%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/</id>
    <published>2019-08-15T02:10:00.000Z</published>
    <updated>2020-08-03T05:32:09.571Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ­¥éª¤">æ­¥éª¤ï¼š</h2><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mkdir key &amp;&amp; cd key</span><br><span class="line"><span class="meta">#</span>ç”Ÿæˆè¯ä¹¦</span><br><span class="line">openssl genrsa -out dashboard.key 2048</span><br><span class="line">openssl req -new -out dashboard.csr -key dashboard.key -subj '/CN=kubernetes-dashboard-certs'</span><br><span class="line">openssl x509 -req -in dashboard.csr -signkey dashboard.key -out dashboard.crt</span><br><span class="line"><span class="meta">#</span>åˆ é™¤åŸæœ‰çš„è¯ä¹¦secret</span><br><span class="line">kubectl delete secret kubernetes-dashboard-certs -n kube-system</span><br><span class="line"><span class="meta">#</span>åˆ›å»ºæ–°çš„è¯ä¹¦secret</span><br><span class="line">kubectl create secret generic kubernetes-dashboard-certs --from-file=dashboard.key --from-file=dashboard.crt -n kube-system</span><br><span class="line"><span class="meta">#</span>æŸ¥çœ‹dashboard podï¼Œv2.0æ˜¯ -n kubernetes-dashboard</span><br><span class="line">kubectl get pod -n kube-system</span><br><span class="line"><span class="meta">#</span>é‡å¯dashboard podï¼Œv2.0æ˜¯ -n kubernetes-dashboard</span><br><span class="line">kubectl delete pod &lt;pod name&gt; -n kube-system</span><br></pre></td></tr></table></figure></p><h2 id="åœ¨éƒ¨ç½²-dashboard-æ—¶æ‰‹åŠ¨åˆ›å»ºè¯ä¹¦">åœ¨éƒ¨ç½² Dashboard æ—¶æ‰‹åŠ¨åˆ›å»ºè¯ä¹¦</h2><ul><li><p>ä¿®æ”¹é…ç½®æ–‡ä»¶</p><p><code>vi dashboard.yaml</code></p></li></ul><p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="comment">#å› ä¸ºè‡ªåŠ¨ç”Ÿæˆçš„è¯ä¹¦å¾ˆå¤šæµè§ˆå™¨æ— æ³•ä½¿ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬è‡ªå·±åˆ›å»ºï¼Œæ³¨é‡Šæ‰kubernetes-dashboard-certså¯¹è±¡å£°æ˜</span></span><br><span class="line"><span class="comment">#apiVersion: v1</span></span><br><span class="line"><span class="comment">#kind: Secret</span></span><br><span class="line"><span class="comment">#metadata:</span></span><br><span class="line"><span class="comment">#  labels:</span></span><br><span class="line"><span class="comment">#    k8s-app: kubernetes-dashboard</span></span><br><span class="line"><span class="comment">#  name: kubernetes-dashboard-certs</span></span><br><span class="line"><span class="comment">#  namespace: kubernetes-dashboard</span></span><br><span class="line"><span class="comment">#type: Opaque</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure></p><ul><li>åˆ›å»ºè¯ä¹¦</li></ul><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mkdir dashboard-certs</span><br><span class="line"></span><br><span class="line">cd dashboard-certs/</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>åˆ›å»ºå‘½åç©ºé—´</span><br><span class="line">kubectl create namespace kubernetes-dashboard</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> åˆ›å»ºkeyæ–‡ä»¶</span><br><span class="line">openssl genrsa -out dashboard.key 2048</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>è¯ä¹¦è¯·æ±‚ï¼ŒCN=å¯ä¿®æ”¹ä¸ºå®é™…IPæˆ–è€…åŸŸå</span><br><span class="line">openssl req -days 36000 -new -out dashboard.csr -key dashboard.key -subj '/CN=kubernetes-dashboard-certs'</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>è‡ªç­¾è¯ä¹¦</span><br><span class="line">openssl x509 -req -in dashboard.csr -signkey dashboard.key -out dashboard.crt</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>åˆ›å»ºkubernetes-dashboard-certså¯¹è±¡</span><br><span class="line">kubectl create secret generic kubernetes-dashboard-certs --from-file=dashboard.key --from-file=dashboard.crt -n kubernetes-dashboard</span><br></pre></td></tr></table></figure></p><blockquote><p>å¤‡æ³¨ï¼šdashboard v2.0 namespace æ˜¯ kubernetes-dashboard</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;æ­¥éª¤&quot;&gt;æ­¥éª¤ï¼š&lt;/h2&gt;
&lt;p&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;
      
    
    </summary>
    
    
    
      <category term="Kubernetes" scheme="http://sysin.org/tags/Kubernetes/"/>
    
      <category term="SSL" scheme="http://sysin.org/tags/SSL/"/>
    
  </entry>
  
  <entry>
    <title>Kubernetes v1.18 ç¼–è¯‘ kubeadmin ä¿®æ”¹è¯ä¹¦æœ‰æ•ˆæœŸåˆ° 100 å¹´</title>
    <link href="http://sysin.org/article/Kubernetes_v1.18_%E7%BC%96%E8%AF%91_kubeadmin_%E4%BF%AE%E6%94%B9%E8%AF%81%E4%B9%A6%E6%9C%89%E6%95%88%E6%9C%9F%E5%88%B0_100_%E5%B9%B4/"/>
    <id>http://sysin.org/article/Kubernetes_v1.18_%E7%BC%96%E8%AF%91_kubeadmin_%E4%BF%AE%E6%94%B9%E8%AF%81%E4%B9%A6%E6%9C%89%E6%95%88%E6%9C%9F%E5%88%B0_100_%E5%B9%B4/</id>
    <published>2019-08-15T02:10:00.000Z</published>
    <updated>2020-08-03T05:33:23.133Z</updated>
    
    <content type="html"><![CDATA[<p><strong>kubeadm é»˜è®¤è¯ä¹¦ä¸ºä¸€å¹´ï¼Œä¸€å¹´è¿‡æœŸåï¼Œä¼šå¯¼è‡´api serviceä¸å¯ç”¨ï¼Œä½¿ç”¨è¿‡ç¨‹ä¸­ä¼šå‡ºç°ï¼šx509: certificate has expired or is not yet valid.</strong></p><p>Google å»ºè®®é€šè¿‡ä¸åœæ›´æ–°ç‰ˆæœ¬æ¥è‡ªåŠ¨æ›´æ–°è¯ä¹¦ï¼Œå¤ªå‘^_^</p><p><strong>å¯ä»¥åœ¨åˆå§‹åŒ–ç¾¤é›†ä¹‹å‰é‡æ–°ç¼–è¯‘kubeadmï¼Œè¯ä¹¦æœ‰æ•ˆæœŸè‡ªåŠ¨ä¸º100å¹´</strong></p><h2 id="1-è·å–æºç ">1. è·å–æºç </h2><p>è®¿é—®ï¼šhttps://github.com/kubernetes/kubernetes/releasesï¼Œä¸‹è½½ç‰¹å®šç‰ˆæœ¬æºç </p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/kubernetes/kubernetes/archive/v1.18.0.tar.gz</span><br><span class="line">tar -zxvf v1.18.0.tar.gz</span><br><span class="line">mv kubernetes-1.18.0 kubernetes</span><br><span class="line">cd kubernetes</span><br></pre></td></tr></table></figure></p><p>æˆ–è€…ä½¿ç”¨ git è·å–</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># yum install git</span><br><span class="line">git clone https://github.com/kubernetes/kubernetes.git</span><br><span class="line">cd kubernetes</span><br><span class="line">git checkout -b remotes/origin/release-1.18 v1.18.0</span><br></pre></td></tr></table></figure></p><h2 id="2-ä¿®æ”¹è¯ä¹¦æœ‰æ•ˆæœŸ">2. ä¿®æ”¹è¯ä¹¦æœ‰æ•ˆæœŸ</h2><p>æŸ¥çœ‹ç½‘ä¸Šçš„èµ„æ–™ä¸»è¦æœ‰ä¸¤ä¸ªåœ°æ–¹éœ€è¦ä¿®æ”¹</p><h3 id="ä¿®æ”¹-ca-æœ‰æ•ˆæœŸä¸º-100-å¹´é»˜è®¤ä¸º-10-å¹´">ä¿®æ”¹ CA æœ‰æ•ˆæœŸä¸º 100 å¹´ï¼ˆé»˜è®¤ä¸º 10 å¹´ï¼‰</h3><p>vim ./staging/src/k8s.io/client-go/util/cert/cert.go</p><p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™ä¸ªæ–¹æ³•é‡Œé¢NotAfter:              now.Add(duration365d * 10).UTC()</span></span><br><span class="line"><span class="comment">// é»˜è®¤æœ‰æ•ˆæœŸå°±æ˜¯10å¹´ï¼Œæ”¹æˆ100å¹´</span></span><br><span class="line"><span class="comment">// æŒ‰/NotAfteræŸ¥æ‰¾</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewSelfSignedCACert</span><span class="params">(cfg Config, key crypto.Signer)</span> <span class="params">(*x509.Certificate, error)</span></span> &#123;</span><br><span class="line">        now := time.Now()</span><br><span class="line">        tmpl := x509.Certificate&#123;</span><br><span class="line">                SerialNumber: <span class="built_in">new</span>(big.Int).SetInt64(<span class="number">0</span>),</span><br><span class="line">                Subject: pkix.Name&#123;</span><br><span class="line">                        CommonName:   cfg.CommonName,</span><br><span class="line">                        Organization: cfg.Organization,</span><br><span class="line">                &#125;,</span><br><span class="line">                NotBefore:             now.UTC(),</span><br><span class="line">                <span class="comment">// NotAfter:              now.Add(duration365d * 10).UTC(),</span></span><br><span class="line">                NotAfter:              now.Add(duration365d * <span class="number">100</span>).UTC(),</span><br><span class="line">                KeyUsage:              x509.KeyUsageKeyEncipherment | x509.KeyUsageDigitalSignature | x509.KeyUsageCertSign,</span><br><span class="line">                BasicConstraintsValid: <span class="literal">true</span>,</span><br><span class="line">                IsCA:                  <span class="literal">true</span>,</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        certDERBytes, err := x509.CreateCertificate(cryptorand.Reader, &amp;tmpl, &amp;tmpl, key.Public(), key)</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">nil</span>, err</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x509.ParseCertificate(certDERBytes)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="ä¿®æ”¹è¯ä¹¦æœ‰æ•ˆæœŸä¸º-100-å¹´é»˜è®¤ä¸º-1-å¹´">ä¿®æ”¹è¯ä¹¦æœ‰æ•ˆæœŸä¸º 100 å¹´ï¼ˆé»˜è®¤ä¸º 1 å¹´ï¼‰</h3><p>vim ./cmd/kubeadm/app/constants/constants.go</p><p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å°±æ˜¯è¿™ä¸ªå¸¸é‡å®šä¹‰CertificateValidityï¼Œæ”¹æˆ*100å¹´</span></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">        <span class="comment">// KubernetesDir is the directory Kubernetes owns for storing various configuration files</span></span><br><span class="line">        KubernetesDir = <span class="string">"/etc/kubernetes"</span></span><br><span class="line">        <span class="comment">// ManifestsSubDirName defines directory name to store manifests</span></span><br><span class="line">        ManifestsSubDirName = <span class="string">"manifests"</span></span><br><span class="line">        <span class="comment">// TempDirForKubeadm defines temporary directory for kubeadm</span></span><br><span class="line">        <span class="comment">// should be joined with KubernetesDir.</span></span><br><span class="line">        TempDirForKubeadm = <span class="string">"tmp"</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// CertificateValidity defines the validity for all the signed certificates generated by kubeadm</span></span><br><span class="line">        <span class="comment">// CertificateValidity = time.Hour * 24 * 365</span></span><br><span class="line">        CertificateValidity = time.Hour * <span class="number">24</span> * <span class="number">365</span> * <span class="number">100</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// CACertAndKeyBaseName defines certificate authority base name</span></span><br><span class="line">        CACertAndKeyBaseName = <span class="string">"ca"</span></span><br><span class="line">        <span class="comment">// CACertName defines certificate name</span></span><br><span class="line">        CACertName = <span class="string">"ca.crt"</span></span><br><span class="line">        <span class="comment">// CAKeyName defines certificate name</span></span><br><span class="line">        CAKeyName = <span class="string">"ca.key"</span></span><br></pre></td></tr></table></figure></p><p>gitéªŒè¯ï¼Œä¿®æ”¹çš„å†…å®¹å¦‚ä¸‹ï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">git diff</span><br><span class="line"></span><br><span class="line">diff --git a/cmd/kubeadm/app/constants/constants.go b/cmd/kubeadm/app/constants/constants.go</span><br><span class="line">index 75adf43..54f25fa 100644</span><br><span class="line">--- a/cmd/kubeadm/app/constants/constants.go</span><br><span class="line">+++ b/cmd/kubeadm/app/constants/constants.go</span><br><span class="line">@@ -44,7 +44,7 @@ const (</span><br><span class="line">        TempDirForKubeadm = &quot;tmp&quot;</span><br><span class="line"></span><br><span class="line">        // CertificateValidity defines the validity for all the signed certificates generated by kubeadm</span><br><span class="line">-       CertificateValidity = time.Hour * 24 * 365</span><br><span class="line">+       CertificateValidity = time.Hour * 24 * 365 * 100</span><br><span class="line"></span><br><span class="line">        // CACertAndKeyBaseName defines certificate authority base name</span><br><span class="line">        CACertAndKeyBaseName = &quot;ca&quot;</span><br><span class="line">diff --git a/staging/src/k8s.io/client-go/util/cert/cert.go b/staging/src/k8s.io/client-go/util/cert/cert.go</span><br><span class="line">index 9fd097a..865d6bb 100644</span><br><span class="line">--- a/staging/src/k8s.io/client-go/util/cert/cert.go</span><br><span class="line">+++ b/staging/src/k8s.io/client-go/util/cert/cert.go</span><br><span class="line">@@ -63,7 +63,7 @@ func NewSelfSignedCACert(cfg Config, key crypto.Signer) (*x509.Certificate, erro</span><br><span class="line">                        Organization: cfg.Organization,</span><br><span class="line">                &#125;,</span><br><span class="line">                NotBefore:             now.UTC(),</span><br><span class="line">-               NotAfter:              now.Add(duration365d * 10).UTC(),</span><br><span class="line">+               NotAfter:              now.Add(duration365d * 100).UTC(),</span><br><span class="line">                KeyUsage:              x509.KeyUsageKeyEncipherment | x509.KeyUsageDigitalSignature | x509.KeyUsageCertSign,</span><br><span class="line">                BasicConstraintsValid: true,</span><br><span class="line">                IsCA:                  true,</span><br></pre></td></tr></table></figure></p><p>æºä»£ç æ”¹å¥½äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯ç¼–è¯‘kubeadmäº†</p><h2 id="3-ç¼–è¯‘">3. ç¼–è¯‘</h2><h3 id="31-dockeré•œåƒç¼–è¯‘æ¨è">3.1 Dockeré•œåƒç¼–è¯‘ï¼ˆæ¨èï¼‰</h3><ul><li>æŸ¥çœ‹ kube-cross çš„ TAG ç‰ˆæœ¬å·</li></ul><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># cat ./build/build-image/cross/VERSION</span><br><span class="line"></span><br><span class="line">v1.13.8-1</span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®˜æ–¹å®¹å™¨å¯¹ä»£ç è¿›è¡Œç¼–è¯‘ï¼šk8s.gcr.io/kube-cross:v1.13.6-1ï¼ˆå½“å‰åªæœ‰1.13.6è€Œä¸æ˜¯1.13.8ï¼ŒæœªçŸ¥ï¼‰</p><ul><li>æ‹‰å–é•œåƒ</li></ul><p>æ— æ³•ç¿»å¢™å¯ä»¥ç”¨ä¸‹é¢çš„æ›¿ä»£é•œåƒï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull gcrcontainer/kube-cross:v1.13.6-1</span><br></pre></td></tr></table></figure></p><p>æˆ–è€…ï¼š'docker pull registry.aliyuncs.com/google_containers/kube-cross:v1.13.6-1'</p><ul><li>ç¼–è¯‘</li></ul><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> docker run --rm -v &lt;ä½ ä¿®æ”¹åçš„ä»£ç ç›®å½•&gt;:/go/src/k8s.io/kubernetes -it gcrcontainer/kube-cross bash</span><br><span class="line">docker run --rm -v /root/kubernetes:/go/src/k8s.io/kubernetes -it gcrcontainer/kube-cross:v1.13.6-1 bash</span><br><span class="line"></span><br><span class="line">cd /go/src/k8s.io/kubernetes</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> ç¼–è¯‘kubeadm, è¿™é‡Œä¸»è¦ç¼–è¯‘kubeadm å³å¯</span><br><span class="line">make all WHAT=cmd/kubeadm GOFLAGS=-v</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> ç¼–è¯‘kubelet</span><br><span class="line"><span class="meta">#</span> make all WHAT=cmd/kubelet GOFLAGS=-v</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> ç¼–è¯‘kubectl</span><br><span class="line"><span class="meta">#</span> make all WHAT=cmd/kubectl GOFLAGS=-v</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> é€€å‡ºå®¹å™¨</span><br><span class="line">exit</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>ç¼–è¯‘å®Œäº§ç‰©åœ¨ _output/bin/kubeadm ç›®å½•ä¸‹ï¼Œ</span><br><span class="line"><span class="meta">#</span>å…¶ä¸­binæ˜¯ä½¿ç”¨äº†è½¯è¿æ¥</span><br><span class="line"><span class="meta">#</span>çœŸå®è·¯å¾„æ˜¯_output/local/bin/linux/amd64/kubeadm</span><br><span class="line">mv /usr/bin/kubeadm /usr/bin/kubeadm_backup</span><br><span class="line">cp _output/local/bin/linux/amd64/kubeadm /usr/bin/kubeadm</span><br><span class="line"><span class="meta">#</span>chmod +x /usr/bin/kubeadm</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> éªŒè¯ç‰ˆæœ¬</span><br><span class="line">kubeadm version</span><br></pre></td></tr></table></figure></p><h3 id="32-æœ¬æœºç¼–">3.2 æœ¬æœºç¼–</h3><p>ç¯å¢ƒéœ€æ±‚å‚çœ‹<a href="https://github.com/kubernetes/community/blob/master/contributors/devel/development.md" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p><h4 id="321-è½¯ä»¶åŒ…å‡†å¤‡">3.2.1 è½¯ä»¶åŒ…å‡†å¤‡</h4><p>CentOSï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install gcc make -y</span><br><span class="line">yum install rsync jq -y</span><br></pre></td></tr></table></figure></p><p>Ubuntuï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install build-essential #(Following command will install essential commands like gcc, make etc.)</span><br><span class="line">sudo apt install rsync jq -y</span><br></pre></td></tr></table></figure></p><h4 id="322-golang-ç¯å¢ƒ">3.2.2 GoLang ç¯å¢ƒ</h4><p>æŸ¥çœ‹ kube-cross çš„ TAG ç‰ˆæœ¬å·</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># cat ./build/build-image/cross/VERSION</span><br><span class="line"></span><br><span class="line">v1.13.8-1</span><br></pre></td></tr></table></figure></p><ul><li>å®‰è£…Goç¯å¢ƒï¼š</li></ul><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">wget https://dl.google.com/go/go1.13.8.linux-amd64.tar.gz</span><br><span class="line">tar zxvf go1.13.8.linux-amd64.tar.gz  -C /usr/local</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> ç¼–è¾‘/etc/profileæ–‡ä»¶æ·»åŠ å¦‚ä¸‹ï¼š</span><br><span class="line"><span class="meta">#</span>go setting</span><br><span class="line">export GOROOT=/usr/local/go</span><br><span class="line">export GOPATH=/usr/local/gopath</span><br><span class="line">export PATH=$PATH:$GOROOT/bin</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>ç”Ÿæ•ˆ</span><br><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure></p><ul><li>éªŒè¯ï¼š</li></ul><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">go version</span><br><span class="line">go version go1.13.8 linux/amd64</span><br></pre></td></tr></table></figure></p><ul><li>ç¼–è¯‘ï¼š</li></ul><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> ç¼–è¯‘kubeadm, è¿™é‡Œä¸»è¦ç¼–è¯‘kubeadm å³å¯</span><br><span class="line">make all WHAT=cmd/kubeadm GOFLAGS=-v</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> ç¼–è¯‘kubelet</span><br><span class="line"><span class="meta">#</span> make all WHAT=cmd/kubelet GOFLAGS=-v</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> ç¼–è¯‘kubectl</span><br><span class="line"><span class="meta">#</span> make all WHAT=cmd/kubectl GOFLAGS=-v</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>ç¼–è¯‘å®Œäº§ç‰©åœ¨ _output/bin/kubeadm ç›®å½•ä¸‹ï¼Œ</span><br><span class="line"><span class="meta">#</span>å…¶ä¸­binæ˜¯ä½¿ç”¨äº†è½¯è¿æ¥</span><br><span class="line"><span class="meta">#</span>çœŸå®è·¯å¾„æ˜¯_output/local/bin/linux/amd64/kubeadm</span><br><span class="line">mv /usr/bin/kubeadm /usr/bin/kubeadm_backup</span><br><span class="line">cp _output/local/bin/linux/amd64/kubeadm /usr/bin/kubeadm</span><br><span class="line">chmod +x /usr/bin/kubeadm</span><br></pre></td></tr></table></figure></p><h2 id="4-æ‰§è¡Œå‘½ä»¤æ›´æ–°è¯ä¹¦">4ã€æ‰§è¡Œå‘½ä»¤æ›´æ–°è¯ä¹¦</h2><p>å¯ä»¥å…ˆå¤‡ä»½è¯ä¹¦ï¼Œè¯ä¹¦åœ¨/etc/kubernetes/pki</p><ul><li>æ£€æŸ¥è¯ä¹¦åˆ°æœŸæ—¶é—´</li></ul><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubeadm alpha certs check-expiration</span><br></pre></td></tr></table></figure></p><ul><li>ç»­è®¢è¯ä¹¦ï¼ŒæŸ¥çœ‹å¯ä»¥ä½¿ç”¨çš„å‚æ•°</li></ul><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">kubeadm alpha certs renew --help</span><br><span class="line">Available Commands:</span><br><span class="line">  admin.conf               Renew the certificate embedded in the kubeconfig file for the admin to use and for kubeadm itself</span><br><span class="line">  all                      Renew all available certificates</span><br><span class="line">  apiserver                Renew the certificate for serving the Kubernetes API</span><br><span class="line">  apiserver-etcd-client    Renew the certificate the apiserver uses to access etcd</span><br><span class="line">  apiserver-kubelet-client Renew the certificate for the API server to connect to kubelet</span><br><span class="line">  controller-manager.conf  Renew the certificate embedded in the kubeconfig file for the controller manager to use</span><br><span class="line">  etcd-healthcheck-client  Renew the certificate for liveness probes to healthcheck etcd</span><br><span class="line">  etcd-peer                Renew the certificate for etcd nodes to communicate with each other</span><br><span class="line">  etcd-server              Renew the certificate for serving etcd</span><br><span class="line">  front-proxy-client       Renew the certificate for the front proxy client</span><br><span class="line">  scheduler.conf           Renew the certificate embedded in the kubeconfig file for the scheduler manager to use</span><br></pre></td></tr></table></figure></p><ul><li>ç»­è®¢å…¨éƒ¨è¯ä¹¦</li></ul><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubeadm alpha certs renew all</span><br></pre></td></tr></table></figure></p><ul><li><p>å†æ¬¡æŸ¥çœ‹è¯ä¹¦æœ‰æ•ˆæœŸï¼Œå…¨éƒ¨éƒ½100å¹´äº†</p><p>kubeadm alpha certs check-expiration</p></li></ul><p>å‚è€ƒæ–‡ç« ï¼š</p><p>https://blog.csdn.net/fuck487/article/details/102759523</p><p>https://www.cnblogs.com/skymyyang/p/11093686.html</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;kubeadm é»˜è®¤è¯ä¹¦ä¸ºä¸€å¹´ï¼Œä¸€å¹´è¿‡æœŸåï¼Œä¼šå¯¼è‡´api serviceä¸å¯ç”¨ï¼Œä½¿ç”¨è¿‡ç¨‹ä¸­ä¼šå‡ºç°ï¼šx509: certificate has expired or is not yet valid.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Google å»ºè®®é€šè¿‡ä¸åœ
      
    
    </summary>
    
    
    
      <category term="Kubernetes" scheme="http://sysin.org/tags/Kubernetes/"/>
    
      <category term="SSL" scheme="http://sysin.org/tags/SSL/"/>
    
  </entry>
  
  <entry>
    <title>Node.js å®‰è£…é…ç½®</title>
    <link href="http://sysin.org/article/Node.js-Installation/"/>
    <id>http://sysin.org/article/Node.js-Installation/</id>
    <published>2019-07-01T03:10:12.000Z</published>
    <updated>2020-08-03T05:33:41.997Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬ç« èŠ‚æˆ‘ä»¬å°†å‘å¤§å®¶ä»‹ç»åœ¨ Windowsã€Linux å’Œ macOS ä¸Šå®‰è£… Node.js çš„æ–¹æ³•ã€‚</p><p>æœ¬å®‰è£…æ•™ç¨‹ä»¥ Node.js v12.x.x LTS(é•¿æœŸæ”¯æŒç‰ˆæœ¬)ç‰ˆæœ¬ä¸ºä¾‹ã€‚</p><p>Node.js å®‰è£…åŒ…åŠæºç ä¸‹è½½åœ°å€ä¸ºï¼šhttps://nodejs.org/en/download/ã€‚</p><p>ä½ å¯ä»¥æ ¹æ®ä¸åŒå¹³å°ç³»ç»Ÿé€‰æ‹©ä½ éœ€è¦çš„ Node.js å®‰è£…åŒ…ã€‚</p><p>Node.js å†å²ç‰ˆæœ¬ä¸‹è½½åœ°å€ï¼šhttps://nodejs.org/dist/</p><p>**æ³¨æ„ï¼š**Linux ä¸Šå®‰è£… Node.js éœ€è¦å®‰è£… Pythonã€‚</p><hr><h2 id="windows-ä¸Šå®‰è£…-nodejs">Windows ä¸Šå®‰è£… Node.js</h2><p>ä½ å¯ä»¥é‡‡ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼æ¥å®‰è£…ã€‚</p><h3 id="1-windows-å®‰è£…åŒ…msi">1ã€Windows å®‰è£…åŒ…(.msi)</h3><p>æœ¬æ–‡å®ä¾‹ä»¥ v12.0.0 ç‰ˆæœ¬ä¸ºä¾‹ï¼Œå…¶ä»–ç‰ˆæœ¬ç±»ä¼¼ï¼Œ å®‰è£…æ­¥éª¤ï¼š</p><p>æ­¥éª¤: åŒå‡»ä¸‹è½½åçš„å®‰è£…åŒ… <strong>v12.0.0</strong> ç‚¹å‡»ç›´æ¥ next é»˜è®¤å®‰è£…å³å¯ã€‚</p><p>æ£€æµ‹PATHç¯å¢ƒå˜é‡æ˜¯å¦é…ç½®äº†Node.jsï¼Œç‚¹å‡»å¼€å§‹=ã€‹è¿è¡Œ=ã€‹è¾“å…¥&quot;cmd&quot; =&gt; è¾“å…¥å‘½ä»¤&quot;path&quot;ï¼Œè¾“å‡ºå¦‚ä¸‹ç»“æœï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">PATH=C:\Windows\system32;</span><br><span class="line">C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;</span><br><span class="line">C:\Program Files\nodejs\;</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç¯å¢ƒå˜é‡ä¸­å·²ç»åŒ…å«äº†C:\Program Files\nodejs\</p><p>æ£€æŸ¥Node.jsç‰ˆæœ¬</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node --version</span><br></pre></td></tr></table></figure></p><h3 id="2-windows-äºŒè¿›åˆ¶æ–‡ä»¶-exeå®‰è£…">2ã€Windows äºŒè¿›åˆ¶æ–‡ä»¶ (.exe)å®‰è£…</h3><p>32 ä½å®‰è£…åŒ…ä¸‹è½½åœ°å€ : https://nodejs.org/dist/v12.0.0/node-v12.0.0-win-x86.zip</p><p>64 ä½å®‰è£…åŒ…ä¸‹è½½åœ°å€ : https://nodejs.org/dist/v12.0.0/node-v12.0.0-win-x64.zip</p><p><strong>å®‰è£…æ­¥éª¤</strong></p><p>æ­¥éª¤: è§£å‹ä¸‹è½½çš„å®‰è£…åŒ… Node.exe ç‚¹å‡» Runï¼ˆè¿è¡Œï¼‰æŒ‰é’®å°†å‡ºç°å‘½ä»¤è¡Œçª—å£</p><h3 id="ç‰ˆæœ¬æµ‹è¯•">ç‰ˆæœ¬æµ‹è¯•</h3><p>è¿›å…¥ node.exe æ‰€åœ¨çš„ç›®å½•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd download</span><br><span class="line">node --version</span><br></pre></td></tr></table></figure></p><p>å¦‚æœä½ è·å¾—ä»¥ä¸Šè¾“å‡ºç»“æœï¼Œè¯´æ˜ä½ å·²ç»æˆåŠŸå®‰è£…äº†Node.jsã€‚</p><hr><h2 id="linux-ä¸Šå®‰è£…-nodejs">Linux ä¸Šå®‰è£… Node.js</h2><h3 id="ç›´æ¥ä½¿ç”¨å·²ç¼–è¯‘å¥½çš„åŒ…">ç›´æ¥ä½¿ç”¨å·²ç¼–è¯‘å¥½çš„åŒ…</h3><p>Node å®˜ç½‘å·²ç»æŠŠ linux ä¸‹è½½ç‰ˆæœ¬æ›´æ”¹ä¸ºå·²ç¼–è¯‘å¥½çš„ç‰ˆæœ¬äº†ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä¸‹è½½è§£å‹åä½¿ç”¨ï¼š</p><p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">VERSION=<span class="number">12.0</span><span class="number">.0</span></span><br><span class="line">wget https:<span class="comment">//nodejs.org/dist/v$&#123;VERSION&#125;/node-v$&#123;VERSION&#125;-linux-x64.tar.xz    // ä¸‹è½½</span></span><br><span class="line">tar -xf node-v$&#123;VERSION&#125;-linux-x64.tar.xz -C /usr/local/      <span class="comment">// è§£å‹</span></span><br><span class="line">ln -s /usr/local/node-v$&#123;VERSION&#125;-linux-x64/bin/node /usr/local/bin/</span><br><span class="line">ln -s /usr/local/node-v$&#123;VERSION&#125;-linux-x64/bin/npm /usr/local/bin/</span><br><span class="line">node -v                               <span class="comment">// æ‰§è¡Œnodeå‘½ä»¤ æŸ¥çœ‹ç‰ˆæœ¬</span></span><br><span class="line">v12<span class="number">.0</span><span class="number">.0</span></span><br></pre></td></tr></table></figure></p><h3 id="ubuntu-apt-getå‘½ä»¤å®‰è£…">Ubuntu apt-getå‘½ä»¤å®‰è£…</h3><p>å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install nodejs</span><br><span class="line">sudo apt-get install npm</span><br></pre></td></tr></table></figure></p><h3 id="ubuntu-æºç å®‰è£…-nodejs">Ubuntu æºç å®‰è£… Node.js</h3><p>ä»¥ä¸‹éƒ¨åˆ†æˆ‘ä»¬å°†ä»‹ç»åœ¨ Ubuntu Linux ä¸‹ä½¿ç”¨æºç å®‰è£… Node.js ã€‚ å…¶ä»–çš„ Linux ç³»ç»Ÿï¼Œå¦‚ Centos ç­‰ç±»ä¼¼å¦‚ä¸‹å®‰è£…æ­¥éª¤ã€‚</p><p>åœ¨ Github ä¸Šè·å– Node.js æºç ï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo git clone https://github.com/nodejs/node.git</span><br><span class="line">Cloning into &apos;node&apos;...</span><br></pre></td></tr></table></figure></p><p>ä¿®æ”¹ç›®å½•æƒé™ï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo chmod -R 755 node</span><br></pre></td></tr></table></figure></p><p>ä½¿ç”¨ <strong>./configure</strong> åˆ›å»ºç¼–è¯‘æ–‡ä»¶ï¼Œå¹¶æŒ‰ç…§ï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ cd node</span><br><span class="line">$ sudo ./configure</span><br><span class="line">$ sudo make</span><br><span class="line">$ sudo make install</span><br></pre></td></tr></table></figure></p><p>æŸ¥çœ‹ node ç‰ˆæœ¬ï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ node --version</span><br><span class="line">v12.0.0</span><br></pre></td></tr></table></figure></p><h3 id="centos-yumdnfå‘½ä»¤å®‰è£…">CentOS yumï¼ˆdnfï¼‰å‘½ä»¤å®‰è£…</h3><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install nodejs npm -y</span><br><span class="line"># CentOS 8 or later</span><br><span class="line">dnf install nodejs npm -y</span><br></pre></td></tr></table></figure></p><h3 id="centos-ä¸‹æºç å®‰è£…-nodejs">CentOS ä¸‹æºç å®‰è£… Node.js</h3><p>1ã€ä¸‹è½½æºç ï¼Œä½ éœ€è¦åœ¨https://nodejs.org/en/download/ä¸‹è½½æœ€æ–°çš„Nodejsç‰ˆæœ¬ï¼Œæœ¬æ–‡ä»¥v12.0.0ä¸ºä¾‹:</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/src/</span><br><span class="line">wget http://nodejs.org/dist/v12.0.0/node-v12.0.0.tar.gz</span><br></pre></td></tr></table></figure></p><p>2ã€è§£å‹æºç </p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar zxvf node-v12.0.0.tar.gz</span><br></pre></td></tr></table></figure></p><p>3ã€ ç¼–è¯‘å®‰è£…</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd node-v12.0.0</span><br><span class="line">./configure --prefix=/usr/local/node/12.0.0</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure></p><p>4ã€ é…ç½®NODE_HOMEï¼Œè¿›å…¥profileç¼–è¾‘ç¯å¢ƒå˜é‡</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile</span><br></pre></td></tr></table></figure></p><p>è®¾ç½® nodejs ç¯å¢ƒå˜é‡ï¼Œåœ¨ <strong><em>export PATH USER LOGNAME MAIL HOSTNAME HISTSIZE HISTCONTROL</em></strong> ä¸€è¡Œçš„ä¸Šé¢æ·»åŠ å¦‚ä¸‹å†…å®¹:</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#set for nodejs</span><br><span class="line">export NODE_HOME=/usr/local/node/12.0.0</span><br><span class="line">export PATH=$NODE_HOME/bin:$PATH</span><br></pre></td></tr></table></figure></p><p>:wqä¿å­˜å¹¶é€€å‡ºï¼Œç¼–è¯‘/etc/profile ä½¿é…ç½®ç”Ÿæ•ˆ</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure></p><p>éªŒè¯æ˜¯å¦å®‰è£…é…ç½®æˆåŠŸ</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure></p><p>è¾“å‡º v12.0.0 è¡¨ç¤ºé…ç½®æˆåŠŸ</p><p>npmæ¨¡å—å®‰è£…è·¯å¾„</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/node/12.0.0/lib/node_modules/</span><br></pre></td></tr></table></figure></p><p>**æ³¨ï¼š**Nodejs å®˜ç½‘æä¾›äº†ç¼–è¯‘å¥½çš„ Linux äºŒè¿›åˆ¶åŒ…ï¼Œä½ ä¹Ÿå¯ä»¥ä¸‹è½½ä¸‹æ¥ç›´æ¥åº”ç”¨ã€‚</p><hr><h2 id="mac-os-ä¸Šå®‰è£…-nodejs">Mac OS ä¸Šå®‰è£… Node.js</h2><p>ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼åœ¨ Mac OS ä¸Šæ¥å®‰è£… nodeï¼š</p><ul><li><p>1ã€åœ¨å®˜æ–¹ä¸‹è½½ç½‘ç«™ä¸‹è½½ pkg å®‰è£…åŒ…ï¼Œç›´æ¥ç‚¹å‡»å®‰è£…å³å¯ã€‚</p></li><li><p>2ã€ä½¿ç”¨ brew å‘½ä»¤æ¥å®‰è£…ï¼š</p><p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install node</span><br></pre></td></tr></table></figure></p><p>brew å®‰è£…çš„æ˜¯æœ€æ–°ç‰ˆï¼ŒæŸäº›æ—¶å€™æœ‰ä¸å¯é¢„ç½®çš„bugï¼Œä½¿ç”¨<code>n</code>æ¥ç®¡ç†nodeçš„ç‰ˆæœ¬ã€‚</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm i -g n</span><br></pre></td></tr></table></figure></p><p>ç„¶åå°†nodeæ›¿æ¢ä¸ºç¨³å®šç‰ˆï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo n stable</span><br></pre></td></tr></table></figure></p></li><li><p>3ã€ä½¿ç”¨å·²ç»ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶</p><p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">VERSION=<span class="number">12.0</span><span class="number">.0</span></span><br><span class="line">wget https:<span class="comment">//nodejs.org/dist/v$&#123;VERSION&#125;/node-v$&#123;VERSION&#125;-darwin-x64.tar.xz    // ä¸‹è½½</span></span><br><span class="line">sudo tar -xf node-v$&#123;VERSION&#125;-darwin-x64.tar.xz -C /usr/local/      <span class="comment">// è§£å‹</span></span><br><span class="line">ln -s /usr/local/node-v$&#123;VERSION&#125;-darwin-x64/bin/node /usr/local/bin/</span><br><span class="line">ln -s /usr/local/node-v$&#123;VERSION&#125;-darwin-x64/bin/npm /usr/local/bin/</span><br><span class="line">ln -s /usr/local/node-v$&#123;VERSION&#125;-darwin-x64/bin/npx /usr/local/bin/</span><br><span class="line">node -v                               <span class="comment">// æ‰§è¡Œnodeå‘½ä»¤ æŸ¥çœ‹ç‰ˆæœ¬</span></span><br><span class="line">v12<span class="number">.0</span><span class="number">.0</span></span><br></pre></td></tr></table></figure></p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœ¬ç« èŠ‚æˆ‘ä»¬å°†å‘å¤§å®¶ä»‹ç»åœ¨ Windowsã€Linux å’Œ macOS ä¸Šå®‰è£… Node.js çš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬å®‰è£…æ•™ç¨‹ä»¥ Node.js v12.x.x LTS(é•¿æœŸæ”¯æŒç‰ˆæœ¬)ç‰ˆæœ¬ä¸ºä¾‹ã€‚&lt;/p&gt;
&lt;p&gt;Node.js å®‰è£…åŒ…åŠæºç ä¸‹è½½åœ°å€ä¸ºï¼šhttps://nod
      
    
    </summary>
    
    
    
      <category term="Linux" scheme="http://sysin.org/tags/Linux/"/>
    
      <category term="nodejs" scheme="http://sysin.org/tags/nodejs/"/>
    
  </entry>
  
  <entry>
    <title>CentOS æ·»åŠ é™æ€è·¯ç”±çš„å‡ ç§æ–¹æ³•</title>
    <link href="http://sysin.org/article/CentOS-Static-Route/"/>
    <id>http://sysin.org/article/CentOS-Static-Route/</id>
    <published>2019-06-15T02:10:00.000Z</published>
    <updated>2020-08-03T05:32:03.447Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨æ—¥å¸¸ä½¿ç”¨ä¸­ï¼ŒæœåŠ¡å™¨æœ‰ä¸¤ä¸ªIPåœ°å€ï¼Œä¸¤å—ç½‘å¡çš„é…ç½®ï¼Œè®¿é—®ä¸åŒç½‘æ®µï¼Œè¿™ç§æƒ…å†µå¾ˆå¸¸è§ã€‚ä½†æˆ‘ä»¬éœ€è¦åˆ›å»ºé¢å¤–çš„è·¯ç”±æ¡ç›®ï¼Œä»¥ç¡®å®šé€šè¿‡æ­£ç¡®çš„ç½‘å…³è½¬å‘æ•°æ®åŒ…ï¼Œä½¿interfaceèƒ½å¤Ÿæ­£å¸¸é€šä¿¡ã€‚</p><p>ä»¥ä¸‹åœ¨CentOS 7ã€8æµ‹è¯•é€šè¿‡</p><h2 id="ä¸€-ä½¿ç”¨routeå‘½ä»¤åŠ å…¥ä¸´æ—¶è·¯ç”±é‡å¯åå°†å¤±æ•ˆ">ä¸€ã€ä½¿ç”¨routeå‘½ä»¤åŠ å…¥ä¸´æ—¶è·¯ç”±ï¼Œé‡å¯åå°†å¤±æ•ˆ</h2><p>route å‘½ä»¤å‚æ•°ï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">add     å¢åŠ è·¯ç”±</span><br><span class="line">del     åˆ é™¤è·¯ç”±</span><br><span class="line">-net    è®¾ç½®åˆ°æŸä¸ªç½‘æ®µçš„è·¯ç”±</span><br><span class="line">-host   è®¾ç½®åˆ°æŸå°ä¸»æœºçš„è·¯ç”±</span><br><span class="line">gw      å‡ºå£ç½‘å…³ IPåœ°å€</span><br><span class="line">dev     å‡ºå£ç½‘å…³ ç‰©ç†è®¾å¤‡å</span><br></pre></td></tr></table></figure></p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># åŠ å…¥åˆ°ä¸»æœºçš„è·¯ç”±</span><br><span class="line">route add -host 192.168.1.123 dev eth0</span><br><span class="line">route add -host 192.168.1.123 gw 192.168.1.1</span><br><span class="line"></span><br><span class="line"># åŠ å…¥åˆ°ç½‘ç»œçš„è·¯ç”±</span><br><span class="line">route add -net 192.168.1.123 netmask 255.255.255.0 eth0</span><br><span class="line">route add -net 192.168.1.123 netmask 255.255.255.0 gw 192.168.1.1</span><br><span class="line">route add -net 192.168.1.123 netmask 255.255.255.0 gw 192.168.1.1 eth1</span><br><span class="line">route add -net 192.168.1.0/24 eth1</span><br><span class="line"></span><br><span class="line"># åŠ å…¥é»˜è®¤ç½‘å…³</span><br><span class="line">route add default gw 192.168.1.1</span><br><span class="line"></span><br><span class="line"># åˆ é™¤è·¯ç”±</span><br><span class="line">route del -host 192.168.1.11 dev eth0</span><br><span class="line">route del -net 192.168.1.123 netmask 255.255.255.0</span><br></pre></td></tr></table></figure></p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># æŸ¥çœ‹è·¯ç”±ä¿¡æ¯</span><br><span class="line">ip route</span><br><span class="line">route -n</span><br></pre></td></tr></table></figure></p><h2 id="äºŒ-åœ¨linuxä¸­æ·»åŠ æ°¸ä¹…è·¯ç”±çš„æ–¹æ³•">äºŒã€åœ¨Linuxä¸­æ·»åŠ æ°¸ä¹…è·¯ç”±çš„æ–¹æ³•</h2><h3 id="1-é»˜è®¤ç½‘å…³">1. é»˜è®¤ç½‘å…³</h3><p>ï¼ˆ1ï¼‰å†™å…¥ifcfgæ–‡ä»¶ï¼ˆæ¨èï¼‰</p><p>vi /etc/sysconfig/network-scripts/ifcfg-eth0</p><p>åœ¨é…ç½®ipåœ°å€çš„æ—¶å€™ç›´æ¥å°†GATEWAYçš„é…ç½®å†™å…¥ifcfgæ–‡ä»¶ã€‚å½¢å¼ï¼šGATEWAY=gw-ip</p><p>é€‚åˆåŠ å…¥é»˜è®¤è·¯ç”±</p><p>ï¼ˆ2ï¼‰åœ¨/etc/sysconfig/networké‡ŒåŠ å…¥åˆ°æ–‡ä»¶æœ«å°¾ï¼Œæ ¼å¼ä¾‹å¦‚ä»¥ä¸‹ï¼š</p><p>GATEWAY=gw-ip æˆ–è€… GATEWAY=gw-dev</p><h3 id="2-å†™å…¥etcrcloaclä¸æ¨è">2. å†™å…¥/etc/rc.loaclï¼ˆä¸æ¨èï¼‰</h3><p>ï¼ˆæ³¨æ„ï¼šCentOS 7å¿…é¡»æ‰§è¡Œâ€œchmod +x /etc/rc.d/rc.localâ€æ¥ç¡®ä¿ç¡®ä¿è¿™ä¸ªè„šæœ¬åœ¨å¼•å¯¼æ—¶æ‰§è¡Œã€‚ï¼‰</p><p>èƒ½å¤Ÿå°†ä¸Šé¢æåˆ°çš„å‘½ä»¤å†™å…¥/etc/rc.localæ–‡ä»¶é‡Œï¼Œè¿™æ ·åœ¨ç³»ç»Ÿå¯åŠ¨çš„æ—¶å€™ä¼šè‡ªå·±ä¸»åŠ¨å¢åŠ ç›¸å…³çš„è·¯ç”±è®¾ç½®ã€‚</p><p>åªæ˜¯è¿™æ ·çš„æ–¹æ³•æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼šå‡è®¾æŸä¸ªç³»ç»ŸæœåŠ¡ï¼Œæ¯”æ–¹è¯´æ˜¯NFSæœåŠ¡ï¼Œè¿™ä¸ªæœåŠ¡æ˜¯åœ¨å¯åŠ¨networkæœåŠ¡ä¹‹åï¼Œåœ¨è¿è¡Œrc.localä¹‹å‰ï¼Œå‡è®¾ä½ è®¾ç½®çš„æœ‰è‡ªå·±ä¸»åŠ¨æŒ‚è½½çš„nfsã€‚é‚£ä¹ˆï¼Œè¿™é‡Œé“¾è·¯çš„ä¸é€šç•…ã€‚ä¼šé€ æˆæŒ‚è½½çš„å¤±è´¥ã€‚å¦å¤–ä¸€ä¸ªå°±æ˜¯å‡è®¾ä½ é‡æ–°å¯åŠ¨äº†ç½‘ç»œserverï¼Œé‚£ä¹ˆè·¯ç”±å°±å¤±æ•ˆäº†ï¼Œè¿™ä¸ªæ—¶å€™ä½ ä¸å¾—ä¸åˆä¸€æ¬¡è½½å…¥è¿™ä¸ªæ–‡ä»¶ï¼Œå¯æ˜¯å‡è®¾ä½ æ˜¯è¿œç¨‹æ“ä½œçš„å‘¢ï¼Ÿæ‰€ä»¥ï¼Œè¿™ç§æ–¹æ³•ä¸æ¨èã€‚</p><p>æ–¹æ³•ï¼š</p><p>ç¼–è¾‘/etc/rc.localï¼Œä½¿ç”¨routeå‘½ä»¤è¯­æ³•æ·»åŠ </p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">route add -net 192.168.3.0/24 dev eth0</span><br><span class="line">route add -net 192.168.2.0/24 gw 192.168.3.254</span><br><span class="line">route add -net 172.16.0.0 netmask 255.255.0.0 gw 192.168.1.100 dev eth0</span><br></pre></td></tr></table></figure></p><p>ä¿®æ”¹è¿‡çš„æ–‡ä»¶ï¼š/etc/rc.d/rc.local æ–‡ä»¶ç¤ºä¾‹</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>!/bin/sh</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span> This script will be executed *after* all the other init scripts.</span><br><span class="line"><span class="meta">#</span> You can put your own initialization stuff in here if you don't</span><br><span class="line"><span class="meta">#</span> want to do the full Sys V style init stuff.</span><br><span class="line">touch /var/lock/subsys/local</span><br><span class="line">route add -net 192.168.3.0/24 dev eth0</span><br><span class="line">route add -net 192.168.2.0/24 gw 192.168.3.254</span><br><span class="line">route add -net 172.16.0.0 netmask 255.255.0.0 gw 192.168.1.100 dev eth0</span><br></pre></td></tr></table></figure></p><h3 id="3-å†™å…¥etcsysconfigstatic-routesæ–‡ä»¶">3. å†™å…¥/etc/sysconfig/static-routesæ–‡ä»¶</h3><p>é»˜è®¤åœ¨/etc/sysconifgæ–‡ä»¶å¤¹ä¸­æ˜¯æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶çš„ï¼Œé¡»è¦æˆ‘ä»¬æ‰‹å·¥åˆ›å»ºã€‚å¯¹è¿™ä¸ªæ–‡ä»¶çš„è°ƒç”¨åœ¨ä»¥ä¸‹ï¼š</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/init.d/network</span><br><span class="line"></span><br><span class="line">    # Add non interface-specific static-routes.</span><br><span class="line">    if [ -f /etc/sysconfig/static-routes ]; then</span><br><span class="line">        if [ -x /sbin/route ]; then</span><br><span class="line">            grep "^any" /etc/sysconfig/static-routes | while read ignore args ; do</span><br><span class="line">                /sbin/route add -$args</span><br><span class="line">            done</span><br><span class="line">        else</span><br><span class="line">            net_log $"Legacy static-route support not available: /sbin/route not found"</span><br><span class="line">        fi</span><br><span class="line">    fi</span><br></pre></td></tr></table></figure></p><p>æ·»åŠ æ“ä½œå¦‚ä¸‹ï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/sysconfig/static-routes</span><br><span class="line">any net 192.168.1.0/24 gw 192.168.1.1</span><br><span class="line">any net 192.168.2.0 netmask 255.255.255.0 gw 192.168.2.1</span><br><span class="line">any host 10.19.190.11/32 gw 10.19.177.10</span><br><span class="line">any host 10.19.190.12 gw 10.19.177.10</span><br></pre></td></tr></table></figure></p><p>è¿™æ ·çš„æ–¹å¼çš„è¯ï¼Œå’Œrc.localç›¸æ¯”ï¼Œæ¯”è¾ƒæœ‰ç”¨ã€‚è¿˜æ¯”æ–¹nfsï¼Œè¿™ä¸ªè·¯ç”±çš„ç”Ÿæ•ˆæ—¶é—´æ˜¯åœ¨ç½‘ç»œæœåŠ¡networkå¯åŠ¨çš„æ—¶å€™ç”Ÿæ•ˆçš„ï¼Œè€Œå…¶å®ƒçš„ä¸€äº›ç½‘ç»œç›¸å…³æœåŠ¡éƒ½æ˜¯åœ¨ç½‘ç»œæœåŠ¡å¯åŠ¨æˆåŠŸä¹‹åå†å¯åŠ¨çš„ï¼Œæ‰€ä»¥å¯ä»¥ä¿è¯ç½‘ç»œé“¾è·¯çš„é€šç•…ã€‚å¹¶ä¸”ï¼Œå‡è®¾æˆ‘é‡æ–°å¯åŠ¨äº†ç½‘ç»œæœåŠ¡ï¼Œè¿™ä¸ªè„šæœ¬æ˜¯åœ¨ç½‘ç»œæœåŠ¡å¯åŠ¨é‡Œé¢çš„è„šæœ¬è°ƒç”¨ã€‚å› æ­¤ï¼Œä¹Ÿå¢åŠ äº†è‡ªå·±ä¸»åŠ¨ä¸Šè®¾ç½®çš„ç›¸å…³è·¯çº¿ã€‚</p><blockquote><p>è¯¥æ–¹å¼åœ¨CentOS 8é»˜è®¤å®‰è£…æ—¶æ— æ•ˆã€‚</p><p>åœ¨CentOS 8ä¸­é»˜è®¤ä½¿ç”¨nmcliç®¡ç†ç½‘ç»œï¼Œå¯ä»¥é€šè¿‡ <code>yum install network-scripts</code> æ¥å®‰è£…ä¼ ç»Ÿçš„ network.serviceï¼Œæ¢å¤ç”¨è¿™ç§æ–¹å¼é…ç½®é™æ€è·¯ç”±ã€‚</p></blockquote><h3 id="4-åˆ›å»ºetcsysconfignetwork-scriptsroute-eth0æ¨è">4. åˆ›å»º/etc/sysconfig/network-scripts/route-eth0ï¼ˆæ¨èï¼‰</h3><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> åœ¨/etc/sysconfig/network-scripts/ç›®å½•ä¸‹åˆ›å»ºåä¸ºroute-eth0çš„æ–‡ä»¶</span><br><span class="line">vi /etc/sysconfig/network-scripts/route-eth0</span><br><span class="line"><span class="meta">#</span> åœ¨æ­¤æ–‡ä»¶æ·»åŠ å¦‚ä¸‹æ ¼å¼çš„å†…å®¹</span><br><span class="line">192.168.1.0/24 via 192.168.0.1</span><br><span class="line"><span class="meta">#</span> é‡å¯ç½‘ç»œéªŒè¯æœ‰æ•ˆ</span><br><span class="line">systemctl restart network</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åœ¨æ—¥å¸¸ä½¿ç”¨ä¸­ï¼ŒæœåŠ¡å™¨æœ‰ä¸¤ä¸ªIPåœ°å€ï¼Œä¸¤å—ç½‘å¡çš„é…ç½®ï¼Œè®¿é—®ä¸åŒç½‘æ®µï¼Œè¿™ç§æƒ…å†µå¾ˆå¸¸è§ã€‚ä½†æˆ‘ä»¬éœ€è¦åˆ›å»ºé¢å¤–çš„è·¯ç”±æ¡ç›®ï¼Œä»¥ç¡®å®šé€šè¿‡æ­£ç¡®çš„ç½‘å…³è½¬å‘æ•°æ®åŒ…ï¼Œä½¿interfaceèƒ½å¤Ÿæ­£å¸¸é€šä¿¡ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹åœ¨CentOS 7ã€8æµ‹è¯•é€šè¿‡&lt;/p&gt;
&lt;h2 id=&quot;ä¸€-ä½¿ç”¨routeå‘½
      
    
    </summary>
    
    
    
      <category term="Linux" scheme="http://sysin.org/tags/Linux/"/>
    
      <category term="CentOS" scheme="http://sysin.org/tags/CentOS/"/>
    
  </entry>
  
  <entry>
    <title>CentOS 8.0 å®‰è£…ç¬”è®°</title>
    <link href="http://sysin.org/article/CentOS-8.0-Install/"/>
    <id>http://sysin.org/article/CentOS-8.0-Install/</id>
    <published>2019-06-01T02:10:00.000Z</published>
    <updated>2020-08-03T07:11:47.592Z</updated>
    
    <content type="html"><![CDATA[<p>åˆå§‹ç‰ˆæœ¬ï¼šCentOS 8.0.1905</p><p>ç»§ RHEL 8 å‘å¸ƒä¹‹åï¼ŒCentOS ç¤¾åŒºä¹Ÿå‘å¸ƒäº†è®©äººæœŸå¾…å·²ä¹…çš„ CentOS 8ï¼Œå¹¶å‘å¸ƒäº†ä¸¤ç§æ¨¡å¼ï¼š</p><ul><li>CentOS streamï¼šæ»šåŠ¨å‘å¸ƒçš„ Linux å‘è¡Œç‰ˆï¼Œé€‚ç”¨äºéœ€è¦é¢‘ç¹æ›´æ–°çš„å¼€å‘è€…</li><li>CentOSï¼šç±»ä¼¼ RHEL 8 çš„ç¨³å®šæ“ä½œç³»ç»Ÿï¼Œç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥ç”¨å…¶éƒ¨ç½²æˆ–é…ç½®æœåŠ¡å’Œåº”ç”¨</li></ul><p>CentOS 8 ç³»åˆ—åªæœ‰64ä½ç³»ç»Ÿï¼Œæ²¡æœ‰32ä½ã€‚</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CentOS-8-x86_64-1905-boot.iso                      16-Aug-2019 05:22    534M</span><br><span class="line">CentOS-8-x86_64-1905-boot.iso.manifest             16-Aug-2019 05:23     626</span><br><span class="line">CentOS-8-x86_64-1905-boot.torrent                  24-Sep-2019 04:51     21K</span><br><span class="line">CentOS-8-x86_64-1905-dvd1.iso                      16-Aug-2019 05:59      7G</span><br><span class="line">CentOS-8-x86_64-1905-dvd1.iso.manifest             16-Aug-2019 05:59    401K</span><br><span class="line">CentOS-8-x86_64-1905-dvd1.torrent                  24-Sep-2019 04:52    266K</span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œä½¿ç”¨ CentOS-8-x86_64-1905-boot.iso è¿›è¡Œå®‰è£…ï¼Œç”±äºæ²¡æœ‰æä¾›ç±»ä¼¼äº CentOS7 çš„ Minimal ç‰ˆæœ¬ï¼Œå®‰è£…è¿‡ç¨‹ä¸­é€‰æ‹© Minimal å®‰è£…ï¼Œä¸è¿‡éœ€è¦æŒ‡å®š repo åœ°å€ã€‚</p><p>æ›´æ–°ï¼šCentOS 8.2.2004 ç»ˆäºå¢åŠ äº† minimal isoã€‚</p><h2 id="centos-8-çš„æ–°ç‰¹æ€§">CentOS 8 çš„æ–°ç‰¹æ€§</h2><ul><li><p>DNF æˆä¸ºäº†é»˜è®¤çš„è½¯ä»¶åŒ…ç®¡ç†å™¨ï¼ŒåŒæ—¶ yum ä»ç„¶æ˜¯å¯ç”¨çš„</p></li><li><p>ä½¿ç”¨ç½‘ç»œç®¡ç†å™¨ï¼ˆ<code>nmcli</code> å’Œ <code>nmtui</code>ï¼‰è¿›è¡Œç½‘ç»œé…ç½®ï¼Œç§»é™¤äº†ç½‘ç»œè„šæœ¬</p></li><li><p>ä½¿ç”¨ Podman è¿›è¡Œå®¹å™¨ç®¡ç†</p></li><li><p>å¼•å…¥äº†ä¸¤ä¸ªæ–°çš„åŒ…ä»“åº“ï¼šBaseOS å’Œ AppStream</p></li><li><p>ä½¿ç”¨ Cockpit ä½œä¸ºé»˜è®¤çš„ç³»ç»Ÿç®¡ç†å·¥å…·</p></li><li><p>é»˜è®¤ä½¿ç”¨ Wayland ä½œä¸ºæ˜¾ç¤ºæœåŠ¡å™¨</p></li><li><p><code>iptables</code> å°†è¢« <code>nftables</code> å–ä»£</p></li><li><p>ä½¿ç”¨ Linux å†…æ ¸ 4.18</p></li><li><p>åŠ¨æ€ç¼–ç¨‹è¯­è¨€ã€Web å’Œæ•°æ®åº“æœåŠ¡å™¨</p><ul><li><code>Python 3.6</code>  æ˜¯é»˜è®¤çš„ Python ç¯å¢ƒï¼Œæœ‰é™æ”¯æŒ Python 2.7</li><li><code>Node.js</code>  æ˜¯åœ¨ RHEL æœ€æ–°åŒ…å«çš„ï¼Œå…¶ä»–åŠ¨æ€è¯­è¨€æ›´æ–°åŒ…æ‹¬: <code>PHP 7.2</code> , <code>Ruby 2.5</code> , <code>Perl 5.26</code> , <code>SWIG 3.0</code></li><li>RHEL 8 æä¾›çš„æ•°æ®åº“æœåŠ¡åŒ…æ‹¬ï¼š<code>MariaDB 10.3</code> , <code>MySQL 8.0</code> , <code>PostgreSQL 10</code> , <code>PostgreSQL 9.6</code> , å’Œ <code>Redis 5</code></li><li>RHEL 8 æä¾›<code>Apache HTTP Server 2.4</code>  ä»¥åŠé¦–æ¬¡å¼•å…¥çš„, <code>nginx 1.14</code></li><li><code>Squid</code>  ç‰ˆæœ¬å‡çº§åˆ° 4.4 ï¼ŒåŒæ—¶ä¹Ÿé¦–æ¬¡æä¾›<code>Varnish Cache 6.0</code></li></ul></li></ul><h2 id="å®‰è£…è¦ç‚¹">å®‰è£…è¦ç‚¹</h2><p>å…·ä½“å‚çœ‹ CentOS 8 å®‰è£…æˆªå›¾ï¼Œè¿™é‡Œåˆ—å‡ºå‡ ä¸ªæ³¨æ„ç‚¹</p><ol><li><p>å…ˆé…ç½®ç½‘ç»œï¼Œå¦åˆ™ NTP æ— æ³•é…ç½®ï¼Œboot.iso ç‰ˆæœ¬éœ€è¦æŒ‡å®šå®‰è£…æºä¹Ÿéœ€è¦ Internet è®¿é—®</p></li><li><p>æŒ‡å®šå®‰è£…æºï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨ 163 æˆ–è€…é˜¿é‡Œäº‘é•œåƒ</p><p>https://mirrors.aliyun.com/CentOS/8/BaseOS/x86_64/os/</p><p>https://mirrors.163.com/CentOS/8/BaseOS/x86_64/os/</p></li></ol><h2 id="ç³»ç»Ÿé…ç½®">ç³»ç»Ÿé…ç½®</h2><h3 id="1-æ ¼å¼åŒ–ç½‘å¡å‘½å">1. æ ¼å¼åŒ–ç½‘å¡å‘½å</h3><p>å³ç¦ç”¨ consistent interface device naming</p><p><strong>è¦ç‚¹ï¼šä¸ CentOS 7 é…ç½®ä¸Šç•¥æœ‰ä¸åŒ</strong></p><ul><li>CentOS 7ï¼šnet.ifnames=0 biosdevname=0</li><li>CentOS 8ï¼šnet.ifnames=0</li></ul><p>[root@localhost ~]# cat /etc/sysconfig/network-scripts/ifcfg-ens160  #æ³¨æ„è¿™é‡Œçš„åç§°æ ¹æ®ç¡¬ä»¶æœ‰æ‰€å˜åŠ¨ï¼Œè¿™é‡Œæ˜¯vmç¯å¢ƒï¼Œé»˜è®¤ens160ï¼Œå¦‚æœä½ å¸Œæœ›ç»§ç»­ä½¿ç”¨ eth0 è¿™æ ·çš„ä¼ ç»Ÿåç§°ï¼Œé‚£ä¹ˆåœ¨å®‰è£…å¯åŠ¨æ—¶åŠ ä¸Šå‚æ•°ï¼šnet.ifnames=0</p><p>ä» CentOS 7 å¼€å§‹ï¼Œè¿™ç§å˜åŒ–çš„åŸå› ï¼Œæ˜¯ç”±äºsystemd å’Œ udev å¼•å…¥äº†ä¸€ç§æ–°çš„ç½‘ç»œè®¾å¤‡å‘½åæ–¹å¼ â€“ ä¸€è‡´ç½‘ç»œè®¾å¤‡å‘½åï¼ˆCONSISTENT NETWORK DEVICE NAMINGï¼‰ã€‚å¯ä»¥æ ¹æ®å›ºä»¶ã€æ‹“æ‰‘ã€ä½ç½®ä¿¡æ¯æ¥è®¾ç½®å›ºå®šåå­—ï¼Œå¸¦æ¥çš„å¥½å¤„æ˜¯å‘½åè‡ªåŠ¨åŒ–ï¼Œåå­—å®Œå…¨å¯é¢„æµ‹ï¼Œåœ¨ç¡¬ä»¶åäº†ä»¥åæ›´æ¢ä¹Ÿä¸ä¼šå½±å“è®¾å¤‡çš„å‘½åï¼Œè¿™æ ·å¯ä»¥è®©ç¡¬ä»¶çš„æ›´æ¢æ— ç¼åŒ–ã€‚å¸¦æ¥çš„ä¸åˆ©æ˜¯æ–°çš„è®¾å¤‡åç§°æ¯”ä¼ ç»Ÿçš„åç§°éš¾ä»¥é˜…è¯»ã€‚æ¯”å¦‚æ–°çš„åç§°æ˜¯enp5s0.</p><p>1.1 ç¼–è¾‘ grub é…ç½®æ–‡ä»¶</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>å¦‚æœç³»ç»Ÿå·²ç»å®‰è£…ï¼Œå¸Œæœ›æ”¹æˆeth0è¿™æ ·çš„åç§°ï¼Œé‚£ä¹ˆéœ€è¦ï¼š</span><br><span class="line"><span class="meta">#</span>ä¿®æ”¹grub2å¯åŠ¨å‚æ•°</span><br><span class="line">vi /etc/sysconfig/grub</span><br><span class="line"><span class="meta">#</span>å¢åŠ å†…å®¹ï¼šnet.ifnames=0</span><br><span class="line">åŸå†…å®¹ï¼š</span><br><span class="line">GRUB_CMDLINE_LINUX="crashkernel=auto resume=/dev/mapper/cl-swap rd.lvm.lv=cl/root rd.lvm.lv=cl/swap rhgb quiet"</span><br><span class="line">ä¿®æ”¹å(ä½ç½®å¹¶æ²¡æœ‰ä¸¥æ ¼è¦æ±‚)ï¼š</span><br><span class="line">GRUB_CMDLINE_LINUX="crashkernel=auto resume=/dev/mapper/cl-swap rd.lvm.lv=cl/root rd.lvm.lv=cl/swap net.ifnames=0 rhgb quiet"</span><br><span class="line"><span class="meta">#</span>ä¿å­˜</span><br><span class="line">:x</span><br></pre></td></tr></table></figure></p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>ç›´æ¥ç”¨sedå‘½ä»¤æ›¿æ¢ï¼Œç»è¿‡æµ‹è¯•sedä¿®æ”¹ä¸ç”Ÿæ•ˆï¼ŒæœªçŸ¥</span><br><span class="line">sed -i '/^GRUB_CMDLINE_LINUX=.*/c GRUB_CMDLINE_LINUX="crashkernel=auto resume=/dev/mapper/cl-swap rd.lvm.lv=cl/root rd.lvm.lv=cl/swap net.ifnames=0 rhgb quiet"' /etc/sysconfig/grub</span><br></pre></td></tr></table></figure></p><p>1.2 è¿è¡Œå¦‚ä¸‹å‘½ä»¤é‡å»º grub.cfg æ–‡ä»¶</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grub2-mkconfig -o /boot/grub2/grub.cfg</span><br></pre></td></tr></table></figure></p><p>1.3 é‡å‘½åç½‘å¡é…ç½®æ–‡ä»¶</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>é‡æ–°å¯¹æ–‡ä»¶è¿›è¡Œå‘½åï¼š</span><br><span class="line">cd /etc/sysconfig/network-scripts/</span><br><span class="line">mv ifcfg-ens160 ifcfg-eth0</span><br><span class="line">vi ifcfg-eth0</span><br><span class="line">ç¼–è¾‘NAME=eth0</span><br><span class="line">ç¼–è¾‘DEVICE=eth0</span><br><span class="line">æ³¨é‡ŠHWADDRï¼Œå¦‚æœæœ‰</span><br></pre></td></tr></table></figure></p><p>1.4 é‡å¯ç”Ÿæ•ˆ</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure></p><p>å‚è€ƒ<a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_networking/consistent-network-interface-device-naming_configuring-and-managing-networking" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></p><h3 id="2-é…ç½®ç½‘ç»œ">2. é…ç½®ç½‘ç»œ</h3><h4 id="21-æ–¹æ³•ä¸€æ‰‹å·¥é…ç½®-ifcfgä½¿ç”¨-nmcli-æ¥ç”Ÿæ•ˆæ–°çš„ç½‘ç»œé…ç½®">2.1 æ–¹æ³•ä¸€ï¼šæ‰‹å·¥é…ç½® ifcfgï¼Œä½¿ç”¨ nmcli æ¥ç”Ÿæ•ˆæ–°çš„ç½‘ç»œé…ç½®</h4><p>å®‰è£…è¿‡ç¨‹ä¸­æœ€å¥½é…ç½®å¥½ç½‘ç»œï¼Œå¦‚æœéœ€è¦ç¼–è¾‘ç½‘ç»œï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š</p><p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="meta"># vi /etc/sysconfig/network-scripts/ifcfg-eth0</span></span><br><span class="line"></span><br><span class="line">TYPE=Ethernet</span><br><span class="line">PROXY_METHOD=none</span><br><span class="line">BROWSER_ONLY=no</span><br><span class="line">BOOTPROTO=none  <span class="comment">//staticï¼Œä½¿ç”¨é™æ€IPé…ç½®ï¼ˆCentOS8è¿™é‡Œæ˜¯noneä¹Ÿæ˜¯é™æ€ï¼‰</span></span><br><span class="line">DEFROUTE=yes</span><br><span class="line">IPV4_FAILURE_FATAL=no</span><br><span class="line">IPV6INIT=yes</span><br><span class="line">IPV6_AUTOCONF=yes</span><br><span class="line">IPV6_DEFROUTE=yes</span><br><span class="line">IPV6_FAILURE_FATAL=no</span><br><span class="line">IPV6_ADDR_GEN_MODE=stable-privacy</span><br><span class="line">NAME=eth0</span><br><span class="line">UUID=<span class="number">34f</span>808f1<span class="number">-1232</span><span class="number">-4900</span><span class="number">-83</span>db<span class="number">-82</span>d32533f776</span><br><span class="line">DEVICE=eth0</span><br><span class="line">ONBOOT=yes  <span class="comment">//å¼€æœºè‡ªåŠ¨å¯ç”¨ç½‘ç»œè¿æ¥</span></span><br><span class="line">IPADDR=<span class="number">10.3</span><span class="number">.5</span><span class="number">.5</span>  <span class="comment">//IPåœ°å€</span></span><br><span class="line">PREFIX=<span class="number">24</span>  <span class="comment">//æ©ç </span></span><br><span class="line">GATEWAY=<span class="number">10.3</span><span class="number">.5</span><span class="number">.1</span>  <span class="comment">//é»˜è®¤ç½‘å…³</span></span><br><span class="line">DNS1=<span class="number">10.3</span><span class="number">.5</span><span class="number">.11</span>  <span class="comment">//DNSæœåŠ¡å™¨</span></span><br><span class="line">DNS2=<span class="number">10.3</span><span class="number">.5</span><span class="number">.12</span>  <span class="comment">//å¤‡ç”¨NDSæœåŠ¡å™¨</span></span><br><span class="line">DOMAIN=sysin.org  <span class="comment">//åŸŸå</span></span><br><span class="line">IPV6_PRIVACY=no</span><br></pre></td></tr></table></figure></p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">nmcli c reload    #é‡æ–°åŠ è½½ç½‘ç»œé…ç½®</span><br><span class="line"></span><br><span class="line">ping www.baidu.com  #æµ‹è¯•ç½‘ç»œæ˜¯å¦æ­£å¸¸</span><br><span class="line"></span><br><span class="line">ip addr  #æŸ¥çœ‹IPåœ°å€</span><br></pre></td></tr></table></figure></p><p>é‡å¯ç½‘ç»œ</p><blockquote><p>æ¯”å¦‚é…ç½®äº†é™æ€è·¯ç”±ï¼Œä½¿ç”¨nmcli c reloadæ— æ³•ç”Ÿæ•ˆï¼Œéœ€è¦é‡å¯ç½‘ç»œ</p></blockquote><p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart NetworkManager.service</span><br><span class="line">nmcli networking off &amp;&amp; nmcli networking on</span><br></pre></td></tr></table></figure></p><p><strong><a href="https://www.cnblogs.com/yunweiweb/p/11588420.html" target="_blank" rel="noopener">CentOS 8 ç½‘å¡å‘½ä»¤(CentOS 7 ä¹Ÿå¯ç”¨)</a></strong></p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">nmcli n #æŸ¥çœ‹nmcliçŠ¶æ€</span><br><span class="line">nmcli n on #å¯åŠ¨nmcli</span><br><span class="line">nmcli c up eth0 #å¯åŠ¨ç½‘å¡eth0</span><br><span class="line">nmcli c down eth0 #å…³é—­ç½‘å¡eth0</span><br><span class="line">nmcli d c eth0 #æ¿€æ´»ç½‘å¡</span><br><span class="line">nmcli d show eth0 #æŸ¥çœ‹ç½‘å¡eth0ä¿¡æ¯</span><br><span class="line">nmcli r all off #å…³é—­æ— çº¿</span><br></pre></td></tr></table></figure></p><h4 id="22-æ–¹æ³•äºŒrhel8-å’Œ-centos8-å®Œå…¨ä½¿ç”¨-nmcli-æ¥ç®¡ç†ç½‘ç»œ">2.2 æ–¹æ³•äºŒï¼šRHEL8 å’Œ CentOS8 å®Œå…¨ä½¿ç”¨ nmcli æ¥ç®¡ç†ç½‘ç»œ</h4><p><strong>nmcli å‘½ä»¤å¸®åŠ©</strong></p><p>å‘½ä»¤ä¸æ”¯æŒè‡ªåŠ¨è¡¥å…¨ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡-hå‚æ•°é€æ­¥è·å¾—å¸®åŠ©</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span># è¯´æ˜nmcliåé¢çš„å‘½ä»¤å…³é”®å­—éƒ½å¯ä»¥ç”¨ç¬¬ä¸€ä¸ªå­—æ¯ç®€å†™æ¥æ ‡è¯†ï¼Œä¾‹å¦‚ï¼š</span><br><span class="line"><span class="meta">#</span># nmcli connection = nmcli c</span><br><span class="line"><span class="meta">#</span># nmcli connection show --active = nmcli c s --a</span><br><span class="line">nmcli -h</span><br><span class="line">nmcli connection -h</span><br><span class="line">nmcli connection add -h</span><br><span class="line">nmcli connection modify -h</span><br></pre></td></tr></table></figure></p><p><strong>åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„é…ç½®æ–‡ä»¶</strong></p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">IFACE=`nmcli dev|grep ethernet|awk '&#123;print $1&#125;'`</span><br><span class="line">nmcli con delete $IFACE</span><br><span class="line"><span class="meta">#</span>ä¸‹é¢å°†ä½¿ç”¨ä¼ ç»Ÿçš„eth0å‘½åæ–¹å¼ï¼Œå‰ææ˜¯å·²ç»åšäº†ä¸‹é¢æ ¼å¼åŒ–ç½‘å¡åç§°çš„é…ç½®</span><br><span class="line">nmcli con add con-name eth0 ifname eth0 type ethernet autoconnect yes</span><br><span class="line"></span><br><span class="line">nmcli connection modify eth0 ipv4.method manual \</span><br><span class="line">ipv4.addresses 10.3.5.5/24 \</span><br><span class="line">ipv4.dns "10.3.5.11, 10.3.5.12" \</span><br><span class="line">ipv4.gateway 10.3.5.1 \</span><br><span class="line">ipv4.dns-search sysin.org</span><br><span class="line"></span><br><span class="line">nmcli c up eth0</span><br><span class="line">nmcli c reload</span><br></pre></td></tr></table></figure></p><p>å¯ä»¥é…ç½®çš„å‚æ•°é€‰é¡¹ï¼š</p><p>ipv4.[method, dns, dns-search, dns-options, dns-priority, addresses, gateway, routes, route-metric, route-table, ignore-auto-routes, ignore-auto-dns, dhcp-client-id, dhcp-timeout, dhcp-send-hostname, dhcp-hostname, dhcp-fqdn, never-default, may-fail, dad-timeout]</p><p><strong>nmcliç¤ºä¾‹å‘½ä»¤å‚è€ƒ</strong></p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>æŸ¥çœ‹ç½‘å¡ä¿¡æ¯</span><br><span class="line">nmcli connection</span><br><span class="line">NAME    UUID                                  TYPE      DEVICE</span><br><span class="line">eth0    db05ccae-3a48-4300-b3a6-7c56429c4f54  ethernet  eth0</span><br><span class="line"><span class="meta">#</span>æ˜¾ç¤ºå…·ä½“çš„ç½‘ç»œæ¥å£ä¿¡æ¯</span><br><span class="line">nmcli connection show eth0</span><br><span class="line"><span class="meta">#</span>æ˜¾ç¤ºæ‰€æœ‰æ´»åŠ¨è¿æ¥</span><br><span class="line">nmcli connection show --active</span><br><span class="line"><span class="meta">#</span>åˆ é™¤ä¸€ä¸ªç½‘å¡è¿æ¥</span><br><span class="line">nmcli connection delete eth0</span><br><span class="line"><span class="meta">#</span>åˆ›å»ºä¸€ä¸ªç½‘å¡è¿æ¥</span><br><span class="line">IFACE=`nmcli dev|grep ethernet|awk '&#123;print $1&#125;'`</span><br><span class="line">nmcli con delete $IFACE</span><br><span class="line">nmcli con add con-name "$IFACE" ifname "$IFACE" type ethernet autoconnect yes</span><br><span class="line"><span class="meta">#</span>ç»™eth0æ·»åŠ ä¸€ä¸ªIPå’Œå­ç½‘æ©ç ï¼ˆNETMASKï¼‰</span><br><span class="line">nmcli connection modify eth0 ipv4.addresses 10.3.5.5/24</span><br><span class="line"><span class="meta">#</span>ç»™eth0æ·»åŠ ä¸¤ä¸ªIPåœ°å€å’Œæ©ç </span><br><span class="line">nmcli connection modify eth0 ipv4.addresses "10.3.5.5/24, 10.3.5.6/24"</span><br><span class="line"><span class="meta">#</span>IPè·å–æ–¹å¼è®¾ç½®æˆæ‰‹åŠ¨ï¼ˆBOOTPROTO=static/noneï¼‰</span><br><span class="line">nmcli connection modify eth0 ipv4.method manual</span><br><span class="line"><span class="meta">#</span>æ·»åŠ ä¸€ä¸ªipv4</span><br><span class="line">nmcli connection modify eth0 +ipv4.addresses 10.3.5.6/24</span><br><span class="line"><span class="meta">#</span>åˆ é™¤ä¸€ä¸ªipv4</span><br><span class="line">nmcli connection modify eth0 -ipv4.addresses 10.3.5.6/24</span><br><span class="line"><span class="meta">#</span>æ·»åŠ DNS</span><br><span class="line">nmcli connection modify eth0 ipv4.dns 10.3.5.11</span><br><span class="line"><span class="meta">#</span>åŒæ—¶æ·»åŠ ä¸¤ä¸ªDNS</span><br><span class="line">nmcli connection modify eth0 ipv4.dns "10.3.5.11, 10.3.5.12"</span><br><span class="line"><span class="meta">#</span>åˆ é™¤DNS</span><br><span class="line">nmcli connection modify eth0 -ipv4.dns 10.3.5.11</span><br><span class="line"><span class="meta">#</span>åˆ é™¤ç¬¬ä¸€ä¸ªDNS</span><br><span class="line">nmcli connection modify eth0 -ipv4.dns 1</span><br><span class="line"><span class="meta">#</span>æ·»åŠ ä¸€ä¸ªç½‘å…³ï¼ˆGATEWAYï¼‰</span><br><span class="line">nmcli connection modify eth0 ipv4.gateway 10.3.5.1</span><br><span class="line"><span class="meta">#</span>éƒ½å¯ä»¥åŒæ—¶å†™ï¼Œä¾‹å¦‚ï¼š</span><br><span class="line">nmcli connection modify eth0 ipv4.dns 10.3.5.11 ipv4.gateway 10.3.5.1</span><br><span class="line"><span class="meta">#</span>åŸŸådns-searchï¼Œå¯¹åº”ifcfgä¸­çš„DOMAIN</span><br><span class="line">nmcli connection modify eth0 ipv4.dns-search sysin.org</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>ä½¿ç”¨nmclié‡æ–°å›è½½ç½‘ç»œé…ç½®</span><br><span class="line">nmcli c reload</span><br><span class="line"><span class="meta">#</span>å¦‚æœä¹‹å‰æ²¡æœ‰eth0çš„connectionï¼Œåˆ™ä¸Šä¸€æ­¥reloadåå°±å·²ç»è‡ªåŠ¨ç”Ÿæ•ˆäº†</span><br><span class="line">nmcli c up eth0</span><br></pre></td></tr></table></figure></p><h4 id="23-æ–¹æ³•ä¸‰æ‰‹å·¥é…ç½®-ifcfgå®‰è£…-networkservice-æœåŠ¡">2.3 æ–¹æ³•ä¸‰ï¼šæ‰‹å·¥é…ç½® ifcfgï¼Œå®‰è£… network.service æœåŠ¡</h4><p>å¯ä»¥é€šè¿‡ <code>yum install network-scripts</code> æ¥å®‰è£…ä¼ ç»Ÿçš„ network.serviceï¼Œä¸è¿‡ redhat è¯´äº†ï¼Œåœ¨ä¸‹ä¸€ä¸ªRHELçš„å¤§ç‰ˆæœ¬é‡Œå°†å½»åº•åºŸé™¤ï¼Œå› æ­¤ä¸å»ºè®®ä½¿ç”¨ network.serviceã€‚</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install network-scripts</span><br><span class="line">service network restart   #é‡å¯ç½‘ç»œæœåŠ¡</span><br><span class="line">systemctl restart network.service   #é‡å¯ç½‘ç»œæœåŠ¡</span><br></pre></td></tr></table></figure></p><h3 id="3-ä¿®æ”¹ä¸»æœºå">3. ä¿®æ”¹ä¸»æœºå</h3><p>è¯´æ˜ï¼šä¸ CentOS 7 æ–¹æ³•ç›¸åŒ</p><ul><li>å³æ—¶ç”Ÿæ•ˆ</li></ul><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hostname  www  #è®¾ç½®ä¸»æœºåä¸ºwww</span><br></pre></td></tr></table></figure></p><ul><li>æ°¸ä¹…ç”Ÿæ•ˆ</li></ul><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/hostname #ç¼–è¾‘é…ç½®æ–‡ä»¶</span><br><span class="line">www   #ä¿®æ”¹localhost.localdomainä¸ºwww</span><br><span class="line">:x  #ä¿å­˜é€€å‡º</span><br><span class="line"></span><br><span class="line">æˆ–è€…ä½¿ç”¨å‘½ä»¤ï¼šhostnamectl set-hostname www</span><br><span class="line"></span><br><span class="line">åŒæ—¶ä¿®æ”¹hostsæ–‡ä»¶ï¼š</span><br><span class="line">vi /etc/hosts #ç¼–è¾‘é…ç½®æ–‡ä»¶</span><br><span class="line">127.0.0.1   localhost  www   #ä¿®æ”¹localhost.localdomainä¸ºwww</span><br><span class="line">:x  #ä¿å­˜é€€å‡º</span><br></pre></td></tr></table></figure></p><p>é€šè¿‡å‘½ä»¤å¿«é€Ÿä¿®æ”¹ç¤ºä¾‹</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">hostnamectl set-hostname www</span><br><span class="line"><span class="meta">#</span>ä¸»æœºåè¿™é‡Œæ˜¯wwwï¼Œæ›¿æ¢å®é™…åç§°ç›´æ¥æ‰§è¡Œ</span><br><span class="line">NICName=`ip add|egrep global|awk '&#123; print $NF &#125;'|head -n 1`</span><br><span class="line">IP=`ip add|grep global|awk -F'[ /]+' '&#123; print $3 &#125;'|head -n 1`</span><br><span class="line">Hostname=`hostname`</span><br><span class="line">HostnameAll=`hostname --fqdn` #æ³¨æ„è¿™é‡Œä¸æ˜¯å¼•å·``</span><br><span class="line">echo  "ç½‘å¡åç§°:$NICName"</span><br><span class="line">echo  "IPåœ°å€:  $IP"</span><br><span class="line">echo  "ä¸»æœºåç§°:  $Hostname $HostnameAll"</span><br><span class="line"></span><br><span class="line">echo "$IP   $Hostname $HostnameAll"&gt;&gt;/etc/hosts</span><br></pre></td></tr></table></figure></p><h3 id="4-æ¿€æ´»-cockpit-web-console">4. æ¿€æ´» cockpit web console</h3><p>CentOS 8 é»˜è®¤é›†æˆäº† cockpitï¼Œç™»å½•ç”»é¢æç¤ºæ¿€æ´»æ–¹æ³•ï¼ˆæ¨¡æ¿æœªå¯ç”¨ï¼‰ï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable --now cockpit.socket</span><br></pre></td></tr></table></figure></p><p>ç„¶åé€šè¿‡æµè§ˆå™¨è®¿é—®ï¼šhttp://&lt;IP&gt;:9090</p><p><strong>è¡¥å……è¯´æ˜ï¼š</strong></p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Cockpitï¼ˆé£æœºé©¾é©¶èˆ±ï¼‰ä½¿ç”¨æ–¹æ³•</span><br><span class="line">åœ¨ web æµè§ˆå™¨ä¸­æŸ¥çœ‹æœåŠ¡å™¨å¹¶ä½¿ç”¨é¼ æ ‡æ‰§è¡Œç³»ç»Ÿä»»åŠ¡ã€‚å¾ˆå®¹æ˜“ç®¡ç†å­˜å‚¨ã€é…ç½®ç½‘ç»œå’Œæ£€æŸ¥æ—¥å¿—ç­‰æ“ä½œã€‚</span><br><span class="line"></span><br><span class="line">1) RHEL 8 è‡ªåŠ¨å®‰è£…äº† Cockpitï¼ŒCockpit æ‰€éœ€çš„é˜²ç«å¢™ç«¯å£ä¼šè‡ªåŠ¨æ‰“å¼€</span><br><span class="line">2) Cockpit ç•Œé¢å¯ç”¨äºå°†åŸºäºç­–ç•¥çš„è§£å¯†ï¼ˆPBDï¼‰è§„åˆ™åº”ç”¨äºå—ç®¡ç³»ç»Ÿä¸Šçš„ç£ç›˜</span><br><span class="line">3) å¯¹äºåœ¨èº«ä»½ç®¡ç†ï¼ˆIdMï¼‰åŸŸä¸­æ³¨å†Œçš„ç³»ç»Ÿï¼ŒCockpit é»˜è®¤ä½¿ç”¨åŸŸçš„é›†ä¸­ç®¡ç†çš„ IdM èµ„æº</span><br><span class="line">4) Cockpit èœå•å’Œé¡µé¢å¯ä»¥åœ¨ç§»åŠ¢æµè§ˆå™¨ä¸Šå¯¼èˆª</span><br><span class="line">5) å¯ä»¥ä» Cockpit Web ç•Œé¢åˆ›å»ºå’Œç®¡ç†è™šæ‹Ÿæœº</span><br><span class="line">6) ç°åœ¨å¯ä»¥å°†â€œè™šæ‹Ÿæœºâ€é¡µé¢æ·»åŠ åˆ° Cockpit ç•Œé¢ï¼Œè¯¥ç•Œé¢ä½¿ç”¨æˆ·å¯ä»¥åˆ›å»ºå’Œç®¡ç†åŸºäº libvirt çš„è™šæ‹Ÿæœº</span><br><span class="line"></span><br><span class="line">å®‰è£… cockpit</span><br><span class="line">yum -y install cockpit</span><br><span class="line"></span><br><span class="line">å¯ç”¨ cockpit</span><br><span class="line">systemctl enable --now cockpit.socket</span><br><span class="line"></span><br><span class="line">è®¾ç½®å¼€æœºè‡ªå¯åŠ¨åŒæ—¶å¼€å¯æœåŠ¡ä¸€æ¡å‘½ä»¤å°±å¯ä»¥æå®š</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨ Cockpit</span><br><span class="line">Cockpit ç›‘å¬ 9090 ç«¯å£</span><br><span class="line">ä½¿ç”¨æµè§ˆå™¨è®¿é—® http://&lt;IP&gt;:9090</span><br></pre></td></tr></table></figure></p><h3 id="5-å…³é—­-selinux">5. å…³é—­ SELINUX</h3><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/selinux/config</span><br><span class="line"><span class="meta">#</span> SELINUX=enforcing       #æ³¨é‡Šæ‰</span><br><span class="line"><span class="meta">#</span> SELINUXTYPE=targeted    #æ³¨é‡Šæ‰</span><br><span class="line">SELINUX=disabled         #å¢åŠ </span><br><span class="line">:x  #ä¿å­˜ï¼Œå…³é—­</span><br><span class="line">setenforce 0 #ä½¿é…ç½®ç«‹å³ç”Ÿæ•ˆï¼Œæˆ–è€…é‡å¯ç³»ç»Ÿ</span><br><span class="line">shutdown -r now   #é‡å¯ç³»ç»Ÿç”Ÿæ•ˆ</span><br><span class="line"></span><br><span class="line">sestatus  #æŸ¥çœ‹çŠ¶æ€</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> ç›´æ¥ä½¿ç”¨sedå‘½ä»¤ä¿®æ”¹</span><br><span class="line"><span class="meta">#</span> ä¿®æ”¹ELINUX=enforcingä¸ºSELINUX=disabledï¼Œå³æ›¿æ¢è¡Œ</span><br><span class="line">sed '/^SELINUX=.*/c SELINUX=disabled' /etc/selinux/config</span><br><span class="line"><span class="meta">#</span> æˆ–è€…ï¼šsed -i '/^SELINUX=enforcing/c SELINUX=disabled' /etc/selinux/config</span><br><span class="line"><span class="meta">#</span> æ³¨é‡ŠSELINUXTYPE=targeted</span><br><span class="line">sed -i 's/^SELINUXTYPE=targeted/#&amp;/' /etc/selinux/config</span><br></pre></td></tr></table></figure></p><h3 id="6-é…ç½®firewalld">6. é…ç½®firewalld</h3><p><strong>å…³é—­ firewalld</strong>ï¼ˆæ¨¡æ¿é…ç½®ï¼‰</p><p>CentOS 8 ä¸»è¦æ”¹åŠ¨å’Œ RedHat Enterprise Linux 8 æ˜¯ä¸€è‡´çš„ï¼ŒåŸºäº Fedora 28 å’Œå†…æ ¸ç‰ˆæœ¬ <code>4.18</code>ï¼Œå…¶ä¸­ç½‘ç»œæ–¹é¢çš„ä¸»è¦æ”¹åŠ¨æ˜¯<strong>ç”¨ nftables æ¡†æ¶æ›¿ä»£ iptables æ¡†æ¶ä½œä¸ºé»˜è®¤çš„ç½‘ç»œåŒ…è¿‡æ»¤å·¥å…·ã€‚</strong></p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld.service  #åœæ­¢firewall</span><br><span class="line">systemctl disable firewalld.service  #ç¦æ­¢firewallå¼€æœºå¯åŠ¨</span><br><span class="line">firewall-cmd --state  #æŸ¥çœ‹çŠ¶æ€</span><br></pre></td></tr></table></figure></p><p><strong>firewalld å¸¸ç”¨å‘½ä»¤</strong>ï¼ˆnftables ä½¿ç”¨nft å‘½ä»¤ï¼Œå‚çœ‹å…¶ä»–æ–‡æ¡£ï¼‰</p><p>CentOS 8 ä¸­ firewalld å·²ç»ä¸ iptables è§£ç»‘ï¼Œåç«¯æ”¹ç”¨ nftablesï¼Œéœ€è¦ç”¨ <code>nft</code> æˆ–è€… <code>firewall-cmd</code> å¼€æ”¾ç«¯å£æˆ–è€…æœåŠ¡ã€‚</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>æŸ¥çœ‹é…ç½®</span><br><span class="line">firewall-cmd --list-all</span><br><span class="line"></span><br><span class="line">firewall-cmd --list-services  #é»˜è®¤å¼€æ”¾ï¼šssh dhcpv6-client</span><br><span class="line">firewall-cmd --zone=public --list-services  #æŒ‡å®šåŒºåŸŸè¿›è¡ŒæŸ¥çœ‹</span><br><span class="line">firewall-cmd --list-ports</span><br><span class="line">firewall-cmd --zone=public --list-ports  #æŒ‡å®šåŒºåŸŸè¿›è¡ŒæŸ¥çœ‹</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>é…ç½®ä¿å­˜æ–‡ä»¶</span><br><span class="line">cat /etc/firewalld/zones/public.xml</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>æ·»åŠ ä¸€ä¸ªTCPç«¯å£(åˆ é™¤å°†addå…³é”®å­—ä¿®æ”¹ä¸ºremove)</span><br><span class="line">firewall-cmd --zone=public --add-port=80/tcp --permanent  #--permanentè¡¨ç¤ºæ°¸ä¹…ç”Ÿæ•ˆ</span><br><span class="line">firewall-cmd --add-port=80/tcp --permanent  #ä¸ä¸Šé¢æ˜¯ç­‰ä»·çš„ï¼Œé»˜è®¤zoneä¸ºpulic</span><br><span class="line">firewall-cmd --reload  #é‡æ–°åŠ è½½é…ç½®ç”Ÿæ•ˆ</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>å…³äºzone</span><br><span class="line">firewall-cmd --get-zones  #æŸ¥çœ‹æ‰€æœ‰zoneçš„å‘½ä»¤ï¼ŒCentOS 7 ä¸€å…±æœ‰9ä¸ªzone</span><br><span class="line">block dmz drop external home internal public trusted work</span><br><span class="line">firewall-cmd --get-zones  ##CentOS 8 æœ‰10ä¸ªzone</span><br><span class="line">block dmz drop external home internal libvirt public trusted work</span><br><span class="line">firewall-cmd --get-default-zone  #æŸ¥çœ‹é»˜è®¤çš„zoneçš„å‘½ä»¤</span><br><span class="line">public</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>æ·»åŠ ä¸€ä¸ªæœåŠ¡</span><br><span class="line">firewall-cmd --add-service=snmp --permanent</span><br><span class="line">firewall-cmd --reload</span><br><span class="line">firewall-cmd --get-services  #æŸ¥çœ‹å¯ç”¨çš„æœåŠ¡</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>é™å®šæºåœ°å€è®¿é—®</span><br><span class="line">firewall-cmd --add-rich-rule="rule family="ipv4" source address="192.168.1.0/24" port protocol="tcp" port="3306" accept" --permanent</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure></p><p><strong>æ·»åŠ å‡ ä¸ªå¸¸ç”¨çš„æœåŠ¡</strong></p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --add-service=snmp --permanent</span><br><span class="line">firewall-cmd --add-service=http --permanent</span><br><span class="line">firewall-cmd --add-service=https --permanent</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure></p><p><strong>ç¦Ping</strong></p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --permanent --add-rich-rule='rule protocol value=icmp drop'  #å…¨éƒ¨ç¦ping</span><br><span class="line">firewall-cmd --permanent --add-rich-rule='rule family="ipv4" source address="192.168.1.0/24" protocol value="icmp" accept'  #æŒ‡å®š192.168.1.0/24å…è®¸icmp</span><br></pre></td></tr></table></figure></p><h3 id="7-å®‰è£…-epel-extra-packages-for-enterprise-linux">7. å®‰è£… EPEL (Extra Packages for Enterprise Linux)</h3><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yum install epel-release -y</span><br><span class="line"></span><br><span class="line">æˆ–è€… (EL8):</span><br><span class="line">rpm -ivh https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm</span><br><span class="line">rpm â€“import /etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-8</span><br></pre></td></tr></table></figure></p><h3 id="8-å®‰è£…ä¸€äº›å¿…å¤‡å·¥å…·">8. å®‰è£…ä¸€äº›å¿…å¤‡å·¥å…·</h3><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> ä¸€äº›åŸºæœ¬å·¥å…·æœ€å°åŒ–å®‰è£…å¯èƒ½æ²¡æœ‰(ç»æµ‹vimå’Œwgetæ²¡æœ‰å®‰è£…)</span><br><span class="line">yum install vim wget zip unzip man gcc make -y</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> ä»¥ä¸‹ç½‘ç»œå·¥å…·å·²ç»ä¸å­˜åœ¨</span><br><span class="line"><span class="meta">#</span> yum install setuptool system-config-network-tui system-config-firewall-tui -y</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> é»˜è®¤å®‰è£…æ²¡æœ‰ifconfigå‘½ä»¤ï¼Œå®‰è£…net-toolsï¼š</span><br><span class="line"><span class="meta">#</span> ifconfigã€netstatã€routeç­‰å‘½ä»¤é›†</span><br><span class="line">yum install net-tools -y</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> æ›´å¥½çš„topå·¥å…·</span><br><span class="line">yum install htop -y</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> hostã€digå’Œnslookup</span><br><span class="line">yum install bind-utils -y</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> æ–‡ä»¶ä¼ è¾“ï¼šszå’Œrzï¼ˆæ ·æœ¬æœªå®‰è£…ï¼‰</span><br><span class="line">yum install lrzsz -y</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> æŸ¥çœ‹æ—¥å¿—ç¥å™¨Log file Navigator</span><br><span class="line"><span class="meta">#</span> yum install lnav -y</span><br><span class="line"><span class="meta">#</span> EPELä¸­æ²¡æœ‰äº†ï¼Œç›´æ¥åœ¨çº¿å®‰è£…</span><br><span class="line">rpm -ivh https://github.com/tstack/lnav/releases/download/v0.8.5/lnav-0.8.5-1.x86_64.rpm</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> NTPå·²ç»åºŸå¼ƒï¼Œæ”¹ç”¨chrony</span><br><span class="line"><span class="meta">#</span> yum install ntp -y</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> nc:</span><br><span class="line">yum install nc -y</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> lsof:</span><br><span class="line">yum install lsof -y</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> tree:</span><br><span class="line">yum install tree -y</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> pstree:</span><br><span class="line">yum install psmisc -y</span><br></pre></td></tr></table></figure></p><p>fd å‘½ä»¤ï¼ˆfd-findï¼Œå¼ºçƒˆæ¨èï¼‰</p><ul><li>ä¸‹è½½ï¼ˆäºŒé€‰ä¸€ï¼‰ï¼š</li></ul><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> gcc ç¼–è¯‘ç‰ˆæœ¬</span><br><span class="line">wget https://github.com/sharkdp/fd/releases/download/v8.0.0/fd-v8.0.0-x86_64-unknown-linux-gnu.tar.gz</span><br><span class="line"><span class="meta">#</span> musl libc ç¼–è¯‘ç‰ˆæœ¬</span><br><span class="line">wget https://github.com/sharkdp/fd/releases/download/v8.0.0/fd-v8.0.0-x86_64-unknown-linux-musl.tar.gz</span><br></pre></td></tr></table></figure></p><ul><li>å®‰è£…ï¼š</li></ul><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf fd-v8.0.0-x86_64-unknown-linux-*.tar.gz</span><br><span class="line">cd fd-v8.0.0-x86_64-unknown-linux-gnu</span><br><span class="line"></span><br><span class="line">cp ./fd /usr/local/bin/</span><br><span class="line">cp ./fd.1 /usr/local/share/man/man1/</span><br><span class="line">mandb</span><br></pre></td></tr></table></figure></p><p>rg å‘½ä»¤</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/BurntSushi/ripgrep/releases/download/12.0.0/ripgrep-12.0.0-x86_64-unknown-linux-musl.tar.gz</span><br><span class="line">tar xzvf ripgrep-12.0.0-x86_64-unknown-linux-musl.tar.gz</span><br><span class="line">cp ripgrep-12.0.0-x86_64-unknown-linux-musl/rg  /usr/local/bin/</span><br></pre></td></tr></table></figure></p><h3 id="9-é…ç½®-ntp">9. é…ç½® NTP</h3><p>åœ¨ CentOS 8.0 ä¸­é»˜è®¤ä¸å†æ”¯æŒ ntp è½¯ä»¶åŒ…ï¼Œæ—¶é—´åŒæ­¥å°†ç”± chrony æ¥å®ç°ã€‚</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/chrony.conf</span><br><span class="line"><span class="meta">#</span> These servers were defined in the installation:</span><br><span class="line">pool 2.centos.pool.ntp.org iburst</span><br><span class="line">pool 0.pool.ntp.org iburst</span><br><span class="line">pool ntp1.aliyun.com iburst</span><br><span class="line">pool ntp2.aliyun.com iburst</span><br></pre></td></tr></table></figure></p><h3 id="10-å®‰è£…-snmp">10. å®‰è£… SNMP</h3><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum install net-snmp net-snmp-devel net-snmp-libs net-snmp-utils -y</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> å¯¹æ¯” CentOS 7 net-snmp-perl å·²ç»ä¸å­˜åœ¨(æœªçŸ¥)</span><br><span class="line"><span class="meta">#</span> å› ä¸ºæ˜¯æ¨¡æ¿ï¼Œè¿™é‡Œæš‚ä¸é…ç½®</span><br></pre></td></tr></table></figure></p><h3 id="11-è™šæœºå®‰è£…-vm-tools">11. è™šæœºå®‰è£… VM-tools</h3><p>åœ¨ç³»ç»Ÿå®‰è£…æ—¶å€™å‹¾é€‰äº†â€œGuest Agentâ€ï¼Œå°†è‡ªåŠ¨å®‰è£…open-vm-tools</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">æ‰‹åŠ¨å®‰è£…open-vm-toolsï¼š</span><br><span class="line"><span class="meta">#</span> http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=2073803</span><br><span class="line">yum install open-vm-tools -y</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> å¼€å¯æœåŠ¡</span><br><span class="line">chkconfig vmtoolsd on</span><br><span class="line">systemctl enable vmtoolsd.service</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> å¯åŠ¨æœåŠ¡</span><br><span class="line">service vmtoolsd start</span><br><span class="line">systemctl start vmtoolsd</span><br></pre></td></tr></table></figure></p><h3 id="12-ç”¨-yum-æ’é™¤ä¸éœ€è¦çš„æ›´æ–°åŒ…">12. ç”¨ yum æ’é™¤ä¸éœ€è¦çš„æ›´æ–°åŒ…</h3><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ä¿®æ”¹ yum çš„é…ç½®æ–‡ä»¶</span><br><span class="line">vi /etc/yum.conf</span><br><span class="line">åœ¨ [main] çš„æœ€åæ·»åŠ  exclude=kernel*</span><br><span class="line"></span><br><span class="line">ç¤ºä¾‹ï¼š</span><br><span class="line">[main]</span><br><span class="line">gpgcheck=1</span><br><span class="line">installonly_limit=3</span><br><span class="line">clean_requirements_on_remove=True</span><br><span class="line">best=True</span><br><span class="line">exclude=kernel*</span><br></pre></td></tr></table></figure></p><p>è¯´æ˜ï¼šé€šå¸¸åœ¨ç”¨ yum è¿›è¡Œæ›´æ–°æ—¶è€æ˜¯ä¼šæ›´æ–°å†…æ ¸ï¼Œè¿™æ ·å°±é€ æˆäº†ä¸¤ä¸ªé—®é¢˜ï¼š1).å†…æ ¸è¿‡å¤šï¼Œå ç”¨ç³»ç»Ÿçš„ç©ºé—´2).å¦‚æœæ˜¯è‡ªè¡Œç¼–è¯‘å®‰è£…çš„ nvidia æ˜¾å¡é©±åŠ¨çš„è¯ï¼Œè¿›å…¥æ›´æ–°çš„æ ¸å¿ƒæ—¶éœ€è¦å†é‡æ–°å®‰è£…æ˜¾å¡é©±åŠ¨</p><p>è¿™é‡Œä»‹ç»å¥½çš„åŠæ³•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±æ˜¯åœ¨æ›´æ–°æ—¶æ’é™¤å¯¹å†…æ ¸çš„æ›´æ–°ï¼Œæ–¹æ³•æœ‰ä¸¤ä¸ª:1).ä¿®æ”¹yumçš„é…ç½®æ–‡ä»¶ vi /etc/yum.confï¼Œåœ¨[main]çš„æœ€åæ·»åŠ  exclude=kernel*2).ç›´æ¥åœ¨yumçš„å‘½ä»¤è¡Œæ‰§è¡Œå¦‚ä¸‹çš„å‘½ä»¤ï¼š yum --exclude=kernel* update</p><p>ä»¥ä¸Šçš„åŠæ³•ä¹Ÿé€‚åˆä½ è¦æ±‚è‡ªè¡Œæ’é™¤çš„å…¶å®ƒæ›´æ–°è½¯ä»¶åŒ…ã€‚</p><p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¤‡æ³¨ï¼šå®‰è£…æŸäº›è½¯ä»¶åŒ…éœ€è¦æ–°ç‰ˆå†…æ ¸æ”¯æŒï¼Œéœ€è¦åˆ é™¤ä»¥ä¸Šé…ç½®ã€‚</span><br></pre></td></tr></table></figure></p><h3 id="13-æ›´æ¢å›½å†…é•œåƒ-yum-æº">13. æ›´æ¢å›½å†…é•œåƒ yum æº</h3><p>è¯´æ˜ï¼šä¸ CentOS 7 å…·ä½“ä¸å¤ªä¸€æ ·</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/yum.repos.d</span><br><span class="line">ls -l</span><br><span class="line"><span class="meta">#</span>repoæ›´å¤š</span><br><span class="line">-rw-r--r--. 1 root root  731 Aug 14 14:42 CentOS-AppStream.repo</span><br><span class="line">-rw-r--r--. 1 root root  712 Aug 14 14:42 CentOS-Base.repo</span><br><span class="line">-rw-r--r--. 1 root root  798 Aug 14 14:42 CentOS-centosplus.repo</span><br><span class="line">-rw-r--r--. 1 root root 1320 Aug 14 14:42 CentOS-CR.repo</span><br><span class="line">-rw-r--r--. 1 root root  668 Aug 14 14:42 CentOS-Debuginfo.repo</span><br><span class="line">-rw-r--r--. 1 root root  756 Aug 14 14:42 CentOS-Extras.repo</span><br><span class="line">-rw-r--r--. 1 root root  338 Aug 14 14:42 CentOS-fasttrack.repo</span><br><span class="line">-rw-r--r--. 1 root root  928 Aug 14 14:42 CentOS-Media.repo</span><br><span class="line">-rw-r--r--. 1 root root  736 Aug 14 14:42 CentOS-PowerTools.repo</span><br><span class="line">-rw-r--r--. 1 root root 1382 Aug 14 14:42 CentOS-Sources.repo</span><br><span class="line">-rw-r--r--. 1 root root   74 Aug 14 14:42 CentOS-Vault.repo</span><br><span class="line">-rw-r--r--. 1 root root 1351 Aug  7 02:17 epel-playground.repo</span><br><span class="line">-rw-r--r--. 1 root root 1206 Aug  7 02:17 epel.repo</span><br><span class="line">-rw-r--r--. 1 root root 1305 Aug  7 02:17 epel-testing.repo</span><br><span class="line"></span><br><span class="line">dnf repolist</span><br><span class="line"><span class="meta">#</span>åªéœ€è¦ä¿®æ”¹ä»¥ä¸‹4ä¸ªå¯ç”¨çš„repo</span><br><span class="line">Last metadata expiration check: 0:00:45 ago on Sat 09 Nov 2019 01:26:02 PM CST.</span><br><span class="line">repo id                 repo name                                                status</span><br><span class="line">AppStream               CentOS-8 - AppStream                                     5,089</span><br><span class="line">BaseOS                  CentOS-8 - Base                                          2,843</span><br><span class="line">epel                    Extra Packages for Enterprise Linux 8 - x86_64           2,911</span><br><span class="line">extras                  CentOS-8 - Extras                                        3</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>å¤‡ä»½</span><br><span class="line">cp CentOS-Base.repo CentOS-Base.repo.bak</span><br><span class="line">cp CentOS-AppStream.repo CentOS-AppStream.repo.bak</span><br><span class="line">cp CentOS-Extras.repo CentOS-Extras.repo.bak</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>æ›¿æ¢</span><br><span class="line">sed -i 's/mirrorlist=/#mirrorlist=/g' CentOS-Base.repo CentOS-AppStream.repo CentOS-Extras.repo</span><br><span class="line">sed -i 's/#baseurl=/baseurl=/g' CentOS-Base.repo CentOS-AppStream.repo CentOS-Extras.repo</span><br><span class="line">sed -i 's/http:\/\/mirror.centos.org/https:\/\/mirrors.aliyun.com/g' CentOS-Base.repo CentOS-AppStream.repo CentOS-Extras.repo</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>ä¿®æ”¹epel(urlä¸ä¸€æ ·)</span><br><span class="line">cp epel.repo epel.repo.bak</span><br><span class="line"></span><br><span class="line">sed -i 's/metalink=/#metalink=/g' epel.repo</span><br><span class="line">sed -i 's/#baseurl=/baseurl=/g' epel.repo</span><br><span class="line">sed -i 's/https:\/\/download.fedoraproject.org\/pub/https:\/\/mirrors.aliyun.com/g' epel.repo</span><br></pre></td></tr></table></figure></p><p>ä»¥ä¸‹æ˜¯ CentOS 7 çš„ä¿®æ”¹æ–¹æ³•ï¼Œå¤‡å¿˜ï¼š</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> æ¨èä½¿ç”¨163é•œåƒï¼ˆBaseä½¿ç”¨163ï¼Œepelä½¿ç”¨ustcï¼‰</span><br><span class="line"><span class="meta">#</span> http://mirrors.163.com/.help/centos.html</span><br><span class="line">mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup</span><br><span class="line">wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.163.com/.help/CentOS7-Base-163.repo</span><br><span class="line">cp /etc/yum.repos.d/epel.repo /etc/yum.repos.d/epel.repo.backup</span><br><span class="line">cp /etc/yum.repos.d/epel-testing.repo /etc/yum.repos.d/epel-testing.repo.backup</span><br><span class="line">sudo sed -e 's!^mirrorlist=!#mirrorlist=!g' \</span><br><span class="line">         -e 's!^#baseurl=!baseurl=!g' \</span><br><span class="line">         -e 's!//download\.fedoraproject\.org/pub!//mirrors.ustc.edu.cn!g' \</span><br><span class="line">         -e 's!http://mirrors\.ustc!https://mirrors.ustc!g' \</span><br><span class="line">         -i /etc/yum.repos.d/epel.repo /etc/yum.repos.d/epel-testing.repo</span><br><span class="line">yum clean all</span><br><span class="line">yum makecache</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> ä¹Ÿå¯ä»¥ä½¿ç”¨é˜¿é‡Œäº‘é•œåƒ</span><br><span class="line"><span class="meta">#</span> http://mirrors.aliyun.com/repo/</span><br><span class="line">ç¬¬ä¸€æ­¥ï¼šå¤‡ä»½</span><br><span class="line">mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup</span><br><span class="line">mv /etc/yum.repos.d/epel.repo /etc/yum.repos.d/epel.repo.backup</span><br><span class="line">mv /etc/yum.repos.d/epel-testing.repo /etc/yum.repos.d/epel-testing.repo.backup</span><br><span class="line"></span><br><span class="line">ç¬¬äºŒæ­¥ï¼šä¸‹è½½</span><br><span class="line">CentOS 7</span><br><span class="line">wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo</span><br><span class="line">wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo</span><br><span class="line">wget -O /etc/yum.repos.d/epel-testing.repo http://mirrors.aliyun.com/repo/epel-testing.repo</span><br><span class="line"></span><br><span class="line">ç¬¬ä¸‰æ­¥ï¼šè¿è¡Œyum makecacheç”Ÿæˆç¼“å­˜</span><br><span class="line">yum clean all</span><br><span class="line">rm -rf /var/cache/yum</span><br><span class="line">yum makecache</span><br></pre></td></tr></table></figure></p><p>ç¦ç”¨ fastestmirror æ’ä»¶</p><p>æ¨¡æ¿æœªé…ç½®ï¼Œä¸‹ä¸ªç‰ˆæœ¬åŠ å…¥</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> sed -i '/^enabled=.*/c enabled=0' /etc/yum/pluginconf.d/fastestmirror.conf</span><br><span class="line">sed -i '/^enabled=1/c enabled=0' /etc/yum/pluginconf.d/fastestmirror.conf</span><br><span class="line"><span class="meta">#</span> å†™å…¥æ–‡ä»¶éœ€è¦æ·»åŠ  -i å‚æ•°</span><br><span class="line"><span class="meta">#</span> ^ è¡¨ç¤ºä¸€è¡Œçš„å¼€å¤´</span><br><span class="line"><span class="meta">#</span> . åŒ¹é…ä¸€ä¸ªéæ¢è¡Œç¬¦çš„ä»»æ„å­—ç¬¦</span><br><span class="line"><span class="meta">#</span> * åŒ¹é…0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦</span><br></pre></td></tr></table></figure></p><h3 id="14-ç³»ç»Ÿæ›´æ–°">14. ç³»ç»Ÿæ›´æ–°</h3><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dnf mackecache  #ç¼“å­˜è½¯ä»¶åŒ…ä¿¡æ¯</span><br><span class="line">dnf update  #æ›´æ–°è½¯ä»¶åŒ…</span><br><span class="line">dnf clean all</span><br><span class="line">rm -rf /var/cache/dnf</span><br></pre></td></tr></table></figure></p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo &gt; ~/.bash_history\r</span><br><span class="line">history -c  #æ¸…ç©ºä¹‹å‰è¾“å…¥çš„å‘½ä»¤è®°å½•</span><br><span class="line">rm -rf /tmp/*  #æƒ…å†µä¸´æ—¶æ–‡ä»¶å¤¹</span><br></pre></td></tr></table></figure></p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#æ¯”è¾ƒå®Œæ•´çš„æ¸…ç©ºå†å²è®°å½•</span><br><span class="line">rm -f /var/log/audit/audit*\r</span><br><span class="line">echo &gt; /var/log/audit/audit.log\r</span><br><span class="line">rm -f /var/log/secure*\r</span><br><span class="line">echo &gt; /var/log/secure\r</span><br><span class="line">rm -f /var/log/btmp*\r</span><br><span class="line">echo &gt; /var/log/btmp\r</span><br><span class="line">rm -f /var/log/wtmp*\r</span><br><span class="line">echo &gt; /var/log/wtmp\r</span><br><span class="line">echo &gt; /var/log/lastlog\r</span><br><span class="line">echo &gt; ~/.bash_history\r</span><br><span class="line">history -c\r</span><br></pre></td></tr></table></figure></p><h3 id="15-å®‰è£…å›¾å½¢ç•Œé¢">15. å®‰è£…å›¾å½¢ç•Œé¢</h3><p>åŸºäºç‰¹å®šåœºæ™¯éœ€è¦ï¼Œä¸€èˆ¬ä¸ç”¨å®‰è£…</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">yum grouplist  #æŸ¥çœ‹å¯å®‰è£…çš„ç»„ä»¶</span><br><span class="line"></span><br><span class="line">yum groupinstall "Server with GUI"  #å®‰è£…GNOMEå›¾å½¢ç•Œé¢(ä¸CentOS 7åç§°ä¸ä¸€æ ·)</span><br><span class="line">yum groupinstall "Graphical Administration Tools"  #å°†è‡ªåŠ¨å®‰è£…</span><br><span class="line"></span><br><span class="line">startx  #å¯åŠ¨å›¾å½¢ç•Œé¢</span><br></pre></td></tr></table></figure></p><p>å®ä¾‹ï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# yum grouplist</span><br><span class="line">Last metadata expiration check: 1:12:58 ago on Sat 09 Nov 2019 03:59:09 PM CST.</span><br><span class="line">Available Environment Groups:</span><br><span class="line">   Server with GUI</span><br><span class="line">   Server</span><br><span class="line">   Workstation</span><br><span class="line">   KDE Plasma Workspaces</span><br><span class="line">   Virtualization Host</span><br><span class="line">   Custom Operating System</span><br><span class="line">Installed Environment Groups:</span><br><span class="line">   Minimal Install</span><br><span class="line">Installed Groups:</span><br><span class="line">   Development Tools</span><br><span class="line">Available Groups:</span><br><span class="line">   Container Management</span><br><span class="line">   .NET Core Development</span><br><span class="line">   RPM Development Tools</span><br><span class="line">   Smart Card Support</span><br><span class="line">   Graphical Administration Tools</span><br><span class="line">   Headless Management</span><br><span class="line">   Legacy UNIX Compatibility</span><br><span class="line">   Network Servers</span><br><span class="line">   Scientific Support</span><br><span class="line">   Security Tools</span><br><span class="line">   System Tools</span><br><span class="line">   Fedora Packager</span><br></pre></td></tr></table></figure></p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# yum groupinstall &quot;Server with GUI&quot;</span><br><span class="line">Installing Environment Groups:</span><br><span class="line"> Server with GUI</span><br><span class="line">Installing Groups:</span><br><span class="line"> Container Management</span><br><span class="line"> Core</span><br><span class="line"> Fonts</span><br><span class="line"> GNOME</span><br><span class="line"> Guest Desktop Agents</span><br><span class="line"> Hardware Monitoring Utilities</span><br><span class="line"> Hardware Support</span><br><span class="line"> Headless Management</span><br><span class="line"> Internet Browser</span><br><span class="line"> Multimedia</span><br><span class="line"> Common NetworkManager submodules</span><br><span class="line"> Printing Client</span><br><span class="line"> Server product core</span><br><span class="line"> Standard</span><br><span class="line"></span><br><span class="line">Transaction Summary</span><br><span class="line">==============================================================================================================</span><br><span class="line">Install  744 Packages</span><br><span class="line"></span><br><span class="line">Total download size: 696 M</span><br><span class="line">Installed size: 2.1 G</span><br><span class="line">Is this ok [y/N]:</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åˆå§‹ç‰ˆæœ¬ï¼šCentOS 8.0.1905&lt;/p&gt;
&lt;p&gt;ç»§ RHEL 8 å‘å¸ƒä¹‹åï¼ŒCentOS ç¤¾åŒºä¹Ÿå‘å¸ƒäº†è®©äººæœŸå¾…å·²ä¹…çš„ CentOS 8ï¼Œå¹¶å‘å¸ƒäº†ä¸¤ç§æ¨¡å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CentOS streamï¼šæ»šåŠ¨å‘å¸ƒçš„ Linux å‘è¡Œç‰ˆï¼Œé€‚ç”¨äºéœ€è¦é¢‘ç¹æ›´æ–°çš„å¼€å‘
      
    
    </summary>
    
    
    
      <category term="Linux" scheme="http://sysin.org/tags/Linux/"/>
    
      <category term="CentOS" scheme="http://sysin.org/tags/CentOS/"/>
    
  </entry>
  
  <entry>
    <title>[Hexo] Theme Test</title>
    <link href="http://sysin.org/article/Hello-Hexo/"/>
    <id>http://sysin.org/article/Hello-Hexo/</id>
    <published>2010-08-01T02:10:00.000Z</published>
    <updated>2020-08-03T05:33:02.333Z</updated>
    
    <content type="html"><![CDATA[<h2 id="welcom">Welcom!</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;welcom&quot;&gt;Welcom!&lt;/h2&gt;

      
    
    </summary>
    
    
    
      <category term="Hexo" scheme="http://sysin.org/tags/Hexo/"/>
    
      <category term="Blog" scheme="http://sysin.org/tags/Blog/"/>
    
  </entry>
  
</feed>
